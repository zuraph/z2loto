{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{classNames}from'../utils/ClassNames';import UniqueComponentId from'../utils/UniqueComponentId';import DomHandler from'../utils/DomHandler';import{Ripple}from'../ripple/Ripple';var CarouselItem=/*#__PURE__*/function(_Component){_inherits(CarouselItem,_Component);var _super=_createSuper(CarouselItem);function CarouselItem(){_classCallCheck(this,CarouselItem);return _super.apply(this,arguments);}_createClass(CarouselItem,[{key:\"render\",value:function render(){var content=this.props.template(this.props.item);var itemClassName=classNames(this.props.className,'p-carousel-item',{'p-carousel-item-active':this.props.active,'p-carousel-item-start':this.props.start,'p-carousel-item-end':this.props.end});return/*#__PURE__*/React.createElement(\"div\",{className:itemClassName},content);}}]);return CarouselItem;}(Component);CarouselItem.defaultProps={template:null,item:null,active:false,start:false,end:false,className:null};export var Carousel=/*#__PURE__*/function(_Component2){_inherits(Carousel,_Component2);var _super2=_createSuper(Carousel);function Carousel(props){var _this;_classCallCheck(this,Carousel);_this=_super2.call(this,props);_this.state={numVisible:props.numVisible,numScroll:props.numScroll,totalShiftedItems:props.page*props.numScroll*-1};if(!_this.props.onPageChange){_this.state=_objectSpread(_objectSpread({},_this.state),{},{page:props.page});}_this.navBackward=_this.navBackward.bind(_assertThisInitialized(_this));_this.navForward=_this.navForward.bind(_assertThisInitialized(_this));_this.onTransitionEnd=_this.onTransitionEnd.bind(_assertThisInitialized(_this));_this.onTouchStart=_this.onTouchStart.bind(_assertThisInitialized(_this));_this.onTouchMove=_this.onTouchMove.bind(_assertThisInitialized(_this));_this.onTouchEnd=_this.onTouchEnd.bind(_assertThisInitialized(_this));_this.totalIndicators=0;_this.remainingItems=0;_this.allowAutoplay=!!_this.props.autoplayInterval;_this.circular=_this.props.circular||_this.allowAutoplay;_this.swipeThreshold=20;_this.id=_this.props.id||UniqueComponentId();return _this;}_createClass(Carousel,[{key:\"step\",value:function step(dir,page){var totalShiftedItems=this.state.totalShiftedItems;var isCircular=this.isCircular();if(page!=null){totalShiftedItems=this.state.numScroll*page*-1;if(isCircular){totalShiftedItems-=this.state.numVisible;}this.isRemainingItemsAdded=false;}else{totalShiftedItems+=this.state.numScroll*dir;if(this.isRemainingItemsAdded){totalShiftedItems+=this.remainingItems-this.state.numScroll*dir;this.isRemainingItemsAdded=false;}var originalShiftedItems=isCircular?totalShiftedItems+this.state.numVisible:totalShiftedItems;page=Math.abs(Math.floor(originalShiftedItems/this.state.numScroll));}if(isCircular&&this.state.page===this.totalIndicators-1&&dir===-1){totalShiftedItems=-1*(this.props.value.length+this.state.numVisible);page=0;}else if(isCircular&&this.state.page===0&&dir===1){totalShiftedItems=0;page=this.totalIndicators-1;}else if(page===this.totalIndicators-1&&this.remainingItems>0){totalShiftedItems+=this.remainingItems*-1-this.state.numScroll*dir;this.isRemainingItemsAdded=true;}if(this.itemsContainer){DomHandler.removeClass(this.itemsContainer,'p-items-hidden');this.changePosition(totalShiftedItems);this.itemsContainer.style.transition='transform 500ms ease 0s';}if(this.props.onPageChange){this.setState({totalShiftedItems:totalShiftedItems});this.props.onPageChange({page:page});}else{this.setState({page:page,totalShiftedItems:totalShiftedItems});}}},{key:\"calculatePosition\",value:function calculatePosition(){if(this.itemsContainer&&this.responsiveOptions){var windowWidth=window.innerWidth;var matchedResponsiveData={numVisible:this.props.numVisible,numScroll:this.props.numScroll};for(var i=0;i<this.responsiveOptions.length;i++){var res=this.responsiveOptions[i];if(parseInt(res.breakpoint,10)>=windowWidth){matchedResponsiveData=res;}}var state={};if(this.state.numScroll!==matchedResponsiveData.numScroll){var page=this.getPage();page=Math.floor(page*this.state.numScroll/matchedResponsiveData.numScroll);var totalShiftedItems=matchedResponsiveData.numScroll*page*-1;if(this.isCircular()){totalShiftedItems-=matchedResponsiveData.numVisible;}state={totalShiftedItems:totalShiftedItems,numScroll:matchedResponsiveData.numScroll};if(this.props.onPageChange){this.props.onPageChange({page:page});}else{state=_objectSpread(_objectSpread({},state),{},{page:page});}}if(this.state.numVisible!==matchedResponsiveData.numVisible){state=_objectSpread(_objectSpread({},state),{},{numVisible:matchedResponsiveData.numVisible});}if(Object.keys(state).length){this.setState(state);}}}},{key:\"navBackward\",value:function navBackward(e,page){if(this.circular||this.getPage()!==0){this.step(1,page);}this.allowAutoplay=false;if(e.cancelable){e.preventDefault();}}},{key:\"navForward\",value:function navForward(e,page){if(this.circular||this.getPage()<this.totalIndicators-1){this.step(-1,page);}this.allowAutoplay=false;if(e.cancelable){e.preventDefault();}}},{key:\"onDotClick\",value:function onDotClick(e,page){var currentPage=this.getPage();if(page>currentPage){this.navForward(e,page);}else if(page<currentPage){this.navBackward(e,page);}}},{key:\"onTransitionEnd\",value:function onTransitionEnd(){if(this.itemsContainer){DomHandler.addClass(this.itemsContainer,'p-items-hidden');this.itemsContainer.style.transition='';if((this.state.page===0||this.state.page===this.totalIndicators-1)&&this.isCircular()){this.changePosition(this.state.totalShiftedItems);}}}},{key:\"onTouchStart\",value:function onTouchStart(e){var touchobj=e.changedTouches[0];this.startPos={x:touchobj.pageX,y:touchobj.pageY};}},{key:\"onTouchMove\",value:function onTouchMove(e){if(e.cancelable){e.preventDefault();}}},{key:\"onTouchEnd\",value:function onTouchEnd(e){var touchobj=e.changedTouches[0];if(this.isVertical()){this.changePageOnTouch(e,touchobj.pageY-this.startPos.y);}else{this.changePageOnTouch(e,touchobj.pageX-this.startPos.x);}}},{key:\"changePageOnTouch\",value:function changePageOnTouch(e,diff){if(Math.abs(diff)>this.swipeThreshold){if(diff<0){// left\nthis.navForward(e);}else{// right\nthis.navBackward(e);}}}},{key:\"bindDocumentListeners\",value:function bindDocumentListeners(){var _this2=this;if(!this.documentResizeListener){this.documentResizeListener=function(){_this2.calculatePosition();};window.addEventListener('resize',this.documentResizeListener);}}},{key:\"unbindDocumentListeners\",value:function unbindDocumentListeners(){if(this.documentResizeListener){window.removeEventListener('resize',this.documentResizeListener);this.documentResizeListener=null;}}},{key:\"isVertical\",value:function isVertical(){return this.props.orientation==='vertical';}},{key:\"isCircular\",value:function isCircular(){return this.circular&&this.props.value.length>=this.state.numVisible;}},{key:\"getPage\",value:function getPage(){return this.props.onPageChange?this.props.page:this.state.page;}},{key:\"getTotalIndicators\",value:function getTotalIndicators(){return this.props.value?Math.ceil((this.props.value.length-this.state.numVisible)/this.state.numScroll)+1:0;}},{key:\"isAutoplay\",value:function isAutoplay(){return this.props.autoplayInterval&&this.allowAutoplay;}},{key:\"startAutoplay\",value:function startAutoplay(){var _this3=this;this.interval=setInterval(function(){if(_this3.state.page===_this3.totalIndicators-1){_this3.step(-1,0);}else{_this3.step(-1,_this3.state.page+1);}},this.props.autoplayInterval);}},{key:\"stopAutoplay\",value:function stopAutoplay(){if(this.interval){clearInterval(this.interval);}}},{key:\"createStyle\",value:function createStyle(){if(!this.carouselStyle){this.carouselStyle=document.createElement('style');this.carouselStyle.type='text/css';document.body.appendChild(this.carouselStyle);}var innerHTML=\"\\n            #\".concat(this.id,\" .p-carousel-item {\\n                flex: 1 0 \").concat(100/this.state.numVisible,\"%\\n            }\\n        \");if(this.props.responsiveOptions){this.responsiveOptions=_toConsumableArray(this.props.responsiveOptions);this.responsiveOptions.sort(function(data1,data2){var value1=data1.breakpoint;var value2=data2.breakpoint;var result=null;if(value1==null&&value2!=null)result=-1;else if(value1!=null&&value2==null)result=1;else if(value1==null&&value2==null)result=0;else if(typeof value1==='string'&&typeof value2==='string')result=value1.localeCompare(value2,undefined,{numeric:true});else result=value1<value2?-1:value1>value2?1:0;return-1*result;});for(var i=0;i<this.responsiveOptions.length;i++){var res=this.responsiveOptions[i];innerHTML+=\"\\n                    @media screen and (max-width: \".concat(res.breakpoint,\") {\\n                        #\").concat(this.id,\" .p-carousel-item {\\n                            flex: 1 0 \").concat(100/res.numVisible,\"%\\n                        }\\n                    }\\n                \");}}this.carouselStyle.innerHTML=innerHTML;}},{key:\"changePosition\",value:function changePosition(totalShiftedItems){if(this.itemsContainer){this.itemsContainer.style.transform=this.isVertical()?\"translate3d(0, \".concat(totalShiftedItems*(100/this.state.numVisible),\"%, 0)\"):\"translate3d(\".concat(totalShiftedItems*(100/this.state.numVisible),\"%, 0, 0)\");}}},{key:\"componentDidMount\",value:function componentDidMount(){this.createStyle();this.calculatePosition();this.changePosition(this.state.totalShiftedItems);if(this.props.responsiveOptions){this.bindDocumentListeners();}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var isCircular=this.isCircular();var stateChanged=false;var totalShiftedItems=this.state.totalShiftedItems;if(this.props.autoplayInterval){this.stopAutoplay();}if(prevState.numScroll!==this.state.numScroll||prevState.numVisible!==this.state.numVisible||this.props.value&&prevProps.value&&prevProps.value.length!==this.props.value.length){this.remainingItems=(this.props.value.length-this.state.numVisible)%this.state.numScroll;var page=this.getPage();if(this.totalIndicators!==0&&page>=this.totalIndicators){page=this.totalIndicators-1;if(this.props.onPageChange){this.props.onPageChange({page:page});}else{this.setState({page:page});}stateChanged=true;}totalShiftedItems=page*this.state.numScroll*-1;if(isCircular){totalShiftedItems-=this.state.numVisible;}if(page===this.totalIndicators-1&&this.remainingItems>0){totalShiftedItems+=-1*this.remainingItems+this.state.numScroll;this.isRemainingItemsAdded=true;}else{this.isRemainingItemsAdded=false;}if(totalShiftedItems!==this.state.totalShiftedItems){this.setState({totalShiftedItems:totalShiftedItems});stateChanged=true;}this.changePosition(totalShiftedItems);}if(isCircular){if(this.state.page===0){totalShiftedItems=-1*this.state.numVisible;}else if(totalShiftedItems===0){totalShiftedItems=-1*this.props.value.length;if(this.remainingItems>0){this.isRemainingItemsAdded=true;}}if(totalShiftedItems!==this.state.totalShiftedItems){this.setState({totalShiftedItems:totalShiftedItems});stateChanged=true;}}if(prevProps.page!==this.props.page){if(this.props.page>prevProps.page&&this.props.page<=this.totalIndicators-1){this.step(-1,this.props.page);}else if(this.props.page<prevProps.page){this.step(1,this.props.page);}}if(!stateChanged&&this.isAutoplay()){this.startAutoplay();}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.props.responsiveOptions){this.unbindDocumentListeners();}if(this.props.autoplayInterval){this.stopAutoplay();}}},{key:\"renderItems\",value:function renderItems(){var _this4=this;if(this.props.value&&this.props.value.length){var isCircular=this.isCircular();var clonedItemsForStarting=null;var clonedItemsForFinishing=null;if(isCircular){var clonedElements=null;clonedElements=this.props.value.slice(-1*this.state.numVisible);clonedItemsForStarting=clonedElements.map(function(item,index){var isActive=_this4.state.totalShiftedItems*-1===_this4.props.value.length+_this4.state.numVisible,start=index===0,end=index===clonedElements.length-1;return/*#__PURE__*/React.createElement(CarouselItem,{key:index+'_scloned',className:\"p-carousel-item-cloned\",template:_this4.props.itemTemplate,item:item,active:isActive,start:start,end:end});});clonedElements=this.props.value.slice(0,this.state.numVisible);clonedItemsForFinishing=clonedElements.map(function(item,index){var isActive=_this4.state.totalShiftedItems===0,start=index===0,end=index===clonedElements.length-1;return/*#__PURE__*/React.createElement(CarouselItem,{key:index+'_fcloned',className:\"p-carousel-item-cloned\",template:_this4.props.itemTemplate,item:item,active:isActive,start:start,end:end});});}var items=this.props.value.map(function(item,index){var firstIndex=isCircular?-1*(_this4.state.totalShiftedItems+_this4.state.numVisible):_this4.state.totalShiftedItems*-1,lastIndex=firstIndex+_this4.state.numVisible-1,isActive=firstIndex<=index&&lastIndex>=index,start=firstIndex===index,end=lastIndex===index;return/*#__PURE__*/React.createElement(CarouselItem,{key:index,template:_this4.props.itemTemplate,item:item,active:isActive,start:start,end:end});});return/*#__PURE__*/React.createElement(React.Fragment,null,clonedItemsForStarting,items,clonedItemsForFinishing);}}},{key:\"renderHeader\",value:function renderHeader(){if(this.props.header){return/*#__PURE__*/React.createElement(\"div\",{className:\"p-carousel-header\"},this.props.header);}return null;}},{key:\"renderFooter\",value:function renderFooter(){if(this.props.footer){return/*#__PURE__*/React.createElement(\"div\",{className:\"p-carousel-footer\"},this.props.footer);}return null;}},{key:\"renderContent\",value:function renderContent(){var _this5=this;var items=this.renderItems();var height=this.isVertical()?this.props.verticalViewPortHeight:'auto';var backwardNavigator=this.renderBackwardNavigator();var forwardNavigator=this.renderForwardNavigator();var containerClassName=classNames('p-carousel-container',this.props.containerClassName);return/*#__PURE__*/React.createElement(\"div\",{className:containerClassName},backwardNavigator,/*#__PURE__*/React.createElement(\"div\",{className:\"p-carousel-items-content\",style:{'height':height}},/*#__PURE__*/React.createElement(\"div\",{ref:function ref(el){return _this5.itemsContainer=el;},className:\"p-carousel-items-container\",onTransitionEnd:this.onTransitionEnd,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd},items)),forwardNavigator);}},{key:\"renderBackwardNavigator\",value:function renderBackwardNavigator(){var isDisabled=(!this.circular||this.props.value&&this.props.value.length<this.state.numVisible)&&this.getPage()===0;var buttonClassName=classNames('p-carousel-prev p-link',{'p-disabled':isDisabled}),iconClassName=classNames('p-carousel-prev-icon pi',{'pi-chevron-left':!this.isVertical(),'pi-chevron-up':this.isVertical()});return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:buttonClassName,onClick:this.navBackward,disabled:isDisabled},/*#__PURE__*/React.createElement(\"span\",{className:iconClassName}),/*#__PURE__*/React.createElement(Ripple,null));}},{key:\"renderForwardNavigator\",value:function renderForwardNavigator(){var isDisabled=(!this.circular||this.props.value&&this.props.value.length<this.state.numVisible)&&(this.getPage()===this.totalIndicators-1||this.totalIndicators===0);var buttonClassName=classNames('p-carousel-next p-link',{'p-disabled':isDisabled}),iconClassName=classNames('p-carousel-next-icon pi',{'pi-chevron-right':!this.isVertical(),'pi-chevron-down':this.isVertical()});return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:buttonClassName,onClick:this.navForward,disabled:isDisabled},/*#__PURE__*/React.createElement(\"span\",{className:iconClassName}),/*#__PURE__*/React.createElement(Ripple,null));}},{key:\"renderIndicator\",value:function renderIndicator(index){var _this6=this;var isActive=this.getPage()===index,indicatorItemClassName=classNames('p-carousel-indicator',{'p-highlight':isActive});return/*#__PURE__*/React.createElement(\"li\",{className:indicatorItemClassName,key:'p-carousel-indicator-'+index},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"p-link\",onClick:function onClick(e){return _this6.onDotClick(e,index);}},/*#__PURE__*/React.createElement(Ripple,null)));}},{key:\"renderIndicators\",value:function renderIndicators(){var indicatorsContentClassName=classNames('p-carousel-indicators p-reset',this.props.indicatorsContentClassName);var indicators=[];for(var i=0;i<this.totalIndicators;i++){indicators.push(this.renderIndicator(i));}return/*#__PURE__*/React.createElement(\"ul\",{className:indicatorsContentClassName},indicators);}},{key:\"render\",value:function render(){var className=classNames('p-carousel p-component',{'p-carousel-vertical':this.isVertical(),'p-carousel-horizontal':!this.isVertical()},this.props.className);var contentClassName=classNames('p-carousel-content',this.props.contentClassName);this.totalIndicators=this.getTotalIndicators();var content=this.renderContent();var indicators=this.renderIndicators();var header=this.renderHeader();var footer=this.renderFooter();return/*#__PURE__*/React.createElement(\"div\",{id:this.id,className:className,style:this.props.style},header,/*#__PURE__*/React.createElement(\"div\",{className:contentClassName},content,indicators),footer);}}]);return Carousel;}(Component);Carousel.defaultProps={id:null,value:null,page:0,header:null,footer:null,style:null,className:null,itemTemplate:null,circular:false,autoplayInterval:0,numVisible:1,numScroll:1,responsiveOptions:null,orientation:\"horizontal\",verticalViewPortHeight:\"300px\",contentClassName:null,containerClassName:null,indicatorsContentClassName:null,onPageChange:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/components/carousel/Carousel.js"],"names":["React","Component","classNames","UniqueComponentId","DomHandler","Ripple","CarouselItem","content","props","template","item","itemClassName","className","active","start","end","defaultProps","Carousel","state","numVisible","numScroll","totalShiftedItems","page","onPageChange","navBackward","bind","navForward","onTransitionEnd","onTouchStart","onTouchMove","onTouchEnd","totalIndicators","remainingItems","allowAutoplay","autoplayInterval","circular","swipeThreshold","id","dir","isCircular","isRemainingItemsAdded","originalShiftedItems","Math","abs","floor","value","length","itemsContainer","removeClass","changePosition","style","transition","setState","responsiveOptions","windowWidth","window","innerWidth","matchedResponsiveData","i","res","parseInt","breakpoint","getPage","Object","keys","e","step","cancelable","preventDefault","currentPage","addClass","touchobj","changedTouches","startPos","x","pageX","y","pageY","isVertical","changePageOnTouch","diff","documentResizeListener","calculatePosition","addEventListener","removeEventListener","orientation","ceil","interval","setInterval","clearInterval","carouselStyle","document","createElement","type","body","appendChild","innerHTML","sort","data1","data2","value1","value2","result","localeCompare","undefined","numeric","transform","createStyle","bindDocumentListeners","prevProps","prevState","stateChanged","stopAutoplay","isAutoplay","startAutoplay","unbindDocumentListeners","clonedItemsForStarting","clonedItemsForFinishing","clonedElements","slice","map","index","isActive","itemTemplate","items","firstIndex","lastIndex","header","footer","renderItems","height","verticalViewPortHeight","backwardNavigator","renderBackwardNavigator","forwardNavigator","renderForwardNavigator","containerClassName","el","isDisabled","buttonClassName","iconClassName","indicatorItemClassName","onDotClick","indicatorsContentClassName","indicators","push","renderIndicator","contentClassName","getTotalIndicators","renderContent","renderIndicators","renderHeader","renderFooter"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport UniqueComponentId from '../utils/UniqueComponentId';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport { Ripple } from '../ripple/Ripple';\r\n\r\nclass CarouselItem extends Component {\r\n\r\n    static defaultProps = {\r\n        template: null,\r\n        item: null,\r\n        active: false,\r\n        start: false,\r\n        end: false,\r\n        className: null\r\n    }\r\n\r\n    static propTypes = {\r\n        template: PropTypes.func,\r\n        item: PropTypes.any,\r\n        active: PropTypes.bool,\r\n        start: PropTypes.bool,\r\n        end: PropTypes.bool,\r\n        className: PropTypes.string\r\n    }\r\n\r\n    render() {\r\n        const content = this.props.template(this.props.item);\r\n        const itemClassName = classNames(this.props.className, 'p-carousel-item', {\r\n            'p-carousel-item-active': this.props.active,\r\n            'p-carousel-item-start': this.props.start,\r\n            'p-carousel-item-end': this.props.end\r\n        });\r\n\r\n        return (\r\n            <div className={itemClassName}>\r\n                {content}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class Carousel extends Component {\r\n\r\n    static defaultProps = {\r\n        id: null,\r\n        value: null,\r\n        page: 0,\r\n        header: null,\r\n        footer: null,\r\n        style: null,\r\n        className: null,\r\n        itemTemplate: null,\r\n        circular: false,\r\n        autoplayInterval: 0,\r\n        numVisible: 1,\r\n        numScroll: 1,\r\n        responsiveOptions: null,\r\n        orientation: \"horizontal\",\r\n        verticalViewPortHeight: \"300px\",\r\n        contentClassName: null,\r\n        containerClassName: null,\r\n        indicatorsContentClassName: null,\r\n        onPageChange: null\r\n    }\r\n\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        value: PropTypes.any,\r\n        page: PropTypes.number,\r\n        header: PropTypes.any,\r\n        footer: PropTypes.any,\r\n        style: PropTypes.object,\r\n        className: PropTypes.string,\r\n        itemTemplate: PropTypes.any,\r\n        circular: PropTypes.bool,\r\n        autoplayInterval: PropTypes.number,\r\n        numVisible: PropTypes.number,\r\n        numScroll: PropTypes.number,\r\n        responsiveOptions: PropTypes.array,\r\n        orientation: PropTypes.string,\r\n        verticalViewPortHeight: PropTypes.string,\r\n        contentClassName: PropTypes.string,\r\n        containerClassName: PropTypes.string,\r\n        indicatorsContentClassName: PropTypes.string,\r\n        onPageChange: PropTypes.func\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            numVisible: props.numVisible,\r\n            numScroll: props.numScroll,\r\n            totalShiftedItems: (props.page * props.numScroll) * -1\r\n        }\r\n\r\n        if (!this.props.onPageChange) {\r\n            this.state = {\r\n                ...this.state,\r\n                page: props.page\r\n            }\r\n        }\r\n\r\n        this.navBackward = this.navBackward.bind(this);\r\n        this.navForward = this.navForward.bind(this);\r\n        this.onTransitionEnd = this.onTransitionEnd.bind(this);\r\n        this.onTouchStart = this.onTouchStart.bind(this);\r\n        this.onTouchMove = this.onTouchMove.bind(this);\r\n        this.onTouchEnd = this.onTouchEnd.bind(this);\r\n        this.totalIndicators = 0;\r\n        this.remainingItems = 0;\r\n        this.allowAutoplay = !!this.props.autoplayInterval;\r\n        this.circular = this.props.circular || this.allowAutoplay;\r\n        this.swipeThreshold = 20;\r\n\r\n        this.id = this.props.id || UniqueComponentId();\r\n    }\r\n\r\n    step(dir, page) {\r\n        let totalShiftedItems = this.state.totalShiftedItems;\r\n        const isCircular = this.isCircular();\r\n\r\n        if (page != null) {\r\n            totalShiftedItems = (this.state.numScroll * page) * -1;\r\n\r\n            if (isCircular) {\r\n                totalShiftedItems -= this.state.numVisible;\r\n            }\r\n\r\n            this.isRemainingItemsAdded = false;\r\n        }\r\n        else {\r\n            totalShiftedItems += (this.state.numScroll * dir);\r\n            if (this.isRemainingItemsAdded) {\r\n                totalShiftedItems += this.remainingItems - (this.state.numScroll * dir);\r\n                this.isRemainingItemsAdded = false;\r\n            }\r\n\r\n            let originalShiftedItems = isCircular ? (totalShiftedItems + this.state.numVisible) : totalShiftedItems;\r\n            page = Math.abs(Math.floor(originalShiftedItems / this.state.numScroll));\r\n        }\r\n\r\n        if (isCircular && this.state.page === (this.totalIndicators - 1) && dir === -1) {\r\n            totalShiftedItems = -1 * (this.props.value.length + this.state.numVisible);\r\n            page = 0;\r\n        }\r\n        else if (isCircular && this.state.page === 0 && dir === 1) {\r\n            totalShiftedItems = 0;\r\n            page = (this.totalIndicators - 1);\r\n        }\r\n        else if (page === (this.totalIndicators - 1) && this.remainingItems > 0) {\r\n            totalShiftedItems += ((this.remainingItems * -1) - (this.state.numScroll * dir));\r\n            this.isRemainingItemsAdded = true;\r\n        }\r\n\r\n        if (this.itemsContainer) {\r\n            DomHandler.removeClass(this.itemsContainer, 'p-items-hidden');\r\n            this.changePosition(totalShiftedItems);\r\n            this.itemsContainer.style.transition = 'transform 500ms ease 0s';\r\n        }\r\n\r\n        if (this.props.onPageChange) {\r\n            this.setState({\r\n                totalShiftedItems\r\n            });\r\n\r\n            this.props.onPageChange({\r\n                page\r\n            })\r\n        }\r\n        else {\r\n            this.setState({\r\n                page,\r\n                totalShiftedItems\r\n            });\r\n        }\r\n    }\r\n\r\n    calculatePosition() {\r\n        if (this.itemsContainer && this.responsiveOptions) {\r\n            let windowWidth = window.innerWidth;\r\n            let matchedResponsiveData = {\r\n                numVisible: this.props.numVisible,\r\n                numScroll: this.props.numScroll\r\n            };\r\n\r\n            for (let i = 0; i < this.responsiveOptions.length; i++) {\r\n                let res = this.responsiveOptions[i];\r\n\r\n                if (parseInt(res.breakpoint, 10) >= windowWidth) {\r\n                    matchedResponsiveData = res;\r\n                }\r\n            }\r\n\r\n            let state = {};\r\n            if (this.state.numScroll !== matchedResponsiveData.numScroll) {\r\n                let page = this.getPage();\r\n                page = Math.floor((page * this.state.numScroll) / matchedResponsiveData.numScroll);\r\n\r\n                let totalShiftedItems = (matchedResponsiveData.numScroll * page) * -1;\r\n\r\n                if (this.isCircular()) {\r\n                    totalShiftedItems -= matchedResponsiveData.numVisible;\r\n                }\r\n\r\n                state = {\r\n                    totalShiftedItems,\r\n                    numScroll: matchedResponsiveData.numScroll\r\n                };\r\n\r\n                if (this.props.onPageChange) {\r\n                    this.props.onPageChange({\r\n                        page\r\n                    })\r\n                }\r\n                else {\r\n                    state = {\r\n                        ...state,\r\n                        page\r\n                    };\r\n                }\r\n            }\r\n\r\n            if (this.state.numVisible !== matchedResponsiveData.numVisible) {\r\n                state = {\r\n                    ...state,\r\n                    numVisible: matchedResponsiveData.numVisible\r\n                };\r\n            }\r\n\r\n            if (Object.keys(state).length) {\r\n                this.setState(state);\r\n            }\r\n        }\r\n    }\r\n\r\n    navBackward(e, page) {\r\n        if (this.circular || this.getPage() !== 0) {\r\n            this.step(1, page);\r\n        }\r\n\r\n        this.allowAutoplay = false;\r\n        if (e.cancelable) {\r\n            e.preventDefault();\r\n        }\r\n    }\r\n\r\n    navForward(e, page) {\r\n        if (this.circular || this.getPage() < (this.totalIndicators - 1)) {\r\n            this.step(-1, page);\r\n        }\r\n\r\n        this.allowAutoplay = false;\r\n        if (e.cancelable) {\r\n            e.preventDefault();\r\n        }\r\n    }\r\n\r\n    onDotClick(e, page) {\r\n        let currentPage = this.getPage();\r\n\r\n        if (page > currentPage) {\r\n            this.navForward(e, page);\r\n        }\r\n        else if (page < currentPage) {\r\n            this.navBackward(e, page);\r\n        }\r\n    }\r\n\r\n    onTransitionEnd() {\r\n        if (this.itemsContainer) {\r\n            DomHandler.addClass(this.itemsContainer, 'p-items-hidden');\r\n            this.itemsContainer.style.transition = '';\r\n\r\n            if ((this.state.page === 0 || this.state.page === (this.totalIndicators - 1)) && this.isCircular()) {\r\n                this.changePosition(this.state.totalShiftedItems);\r\n            }\r\n        }\r\n    }\r\n\r\n    onTouchStart(e) {\r\n        let touchobj = e.changedTouches[0];\r\n\r\n        this.startPos = {\r\n            x: touchobj.pageX,\r\n            y: touchobj.pageY\r\n        };\r\n    }\r\n\r\n    onTouchMove(e) {\r\n        if (e.cancelable) {\r\n            e.preventDefault();\r\n        }\r\n    }\r\n\r\n    onTouchEnd(e) {\r\n        let touchobj = e.changedTouches[0];\r\n\r\n        if (this.isVertical()) {\r\n            this.changePageOnTouch(e, (touchobj.pageY - this.startPos.y));\r\n        }\r\n        else {\r\n            this.changePageOnTouch(e, (touchobj.pageX - this.startPos.x));\r\n        }\r\n    }\r\n\r\n    changePageOnTouch(e, diff) {\r\n        if (Math.abs(diff) > this.swipeThreshold) {\r\n            if (diff < 0) {           // left\r\n                this.navForward(e);\r\n            }\r\n            else {                    // right\r\n                this.navBackward(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    bindDocumentListeners() {\r\n        if (!this.documentResizeListener) {\r\n            this.documentResizeListener = () => {\r\n                this.calculatePosition();\r\n            };\r\n\r\n            window.addEventListener('resize', this.documentResizeListener);\r\n        }\r\n    }\r\n\r\n    unbindDocumentListeners() {\r\n        if(this.documentResizeListener) {\r\n            window.removeEventListener('resize', this.documentResizeListener);\r\n            this.documentResizeListener = null;\r\n        }\r\n    }\r\n\r\n    isVertical() {\r\n        return this.props.orientation === 'vertical';\r\n    }\r\n\r\n    isCircular() {\r\n        return this.circular && this.props.value.length >= this.state.numVisible;\r\n    }\r\n\r\n    getPage() {\r\n        return this.props.onPageChange ? this.props.page : this.state.page;\r\n    }\r\n\r\n    getTotalIndicators() {\r\n        return this.props.value ? Math.ceil((this.props.value.length - this.state.numVisible) / this.state.numScroll) + 1 : 0;\r\n    }\r\n\r\n    isAutoplay() {\r\n        return this.props.autoplayInterval && this.allowAutoplay;\r\n    }\r\n\r\n    startAutoplay() {\r\n        this.interval = setInterval(() => {\r\n            if(this.state.page === (this.totalIndicators - 1)) {\r\n                this.step(-1, 0);\r\n            }\r\n            else {\r\n                this.step(-1, this.state.page + 1);\r\n            }\r\n        },\r\n        this.props.autoplayInterval);\r\n    }\r\n\r\n    stopAutoplay() {\r\n        if (this.interval) {\r\n            clearInterval(this.interval);\r\n        }\r\n    }\r\n\r\n    createStyle() {\r\n        if (!this.carouselStyle) {\r\n            this.carouselStyle = document.createElement('style');\r\n            this.carouselStyle.type = 'text/css';\r\n            document.body.appendChild(this.carouselStyle);\r\n        }\r\n\r\n        let innerHTML = `\r\n            #${this.id} .p-carousel-item {\r\n                flex: 1 0 ${ (100/ this.state.numVisible) }%\r\n            }\r\n        `;\r\n\r\n        if (this.props.responsiveOptions) {\r\n            this.responsiveOptions = [...this.props.responsiveOptions];\r\n            this.responsiveOptions.sort((data1, data2) => {\r\n                const value1 = data1.breakpoint;\r\n                const value2 = data2.breakpoint;\r\n                let result = null;\r\n\r\n                if (value1 == null && value2 != null)\r\n                    result = -1;\r\n                else if (value1 != null && value2 == null)\r\n                    result = 1;\r\n                else if (value1 == null && value2 == null)\r\n                    result = 0;\r\n                else if (typeof value1 === 'string' && typeof value2 === 'string')\r\n                    result = value1.localeCompare(value2, undefined, { numeric: true });\r\n                else\r\n                    result = (value1 < value2) ? -1 : (value1 > value2) ? 1 : 0;\r\n\r\n                return -1 * result;\r\n            });\r\n\r\n            for (let i = 0; i < this.responsiveOptions.length; i++) {\r\n                let res = this.responsiveOptions[i];\r\n\r\n                innerHTML += `\r\n                    @media screen and (max-width: ${res.breakpoint}) {\r\n                        #${this.id} .p-carousel-item {\r\n                            flex: 1 0 ${ (100/ res.numVisible) }%\r\n                        }\r\n                    }\r\n                `\r\n            }\r\n        }\r\n\r\n        this.carouselStyle.innerHTML = innerHTML;\r\n    }\r\n\r\n    changePosition(totalShiftedItems) {\r\n        if (this.itemsContainer) {\r\n            this.itemsContainer.style.transform = this.isVertical() ? `translate3d(0, ${totalShiftedItems * (100/ this.state.numVisible)}%, 0)` : `translate3d(${totalShiftedItems * (100/ this.state.numVisible)}%, 0, 0)`;\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.createStyle();\r\n        this.calculatePosition();\r\n        this.changePosition(this.state.totalShiftedItems);\r\n\r\n        if (this.props.responsiveOptions) {\r\n            this.bindDocumentListeners();\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const isCircular = this.isCircular();\r\n        let stateChanged = false;\r\n        let totalShiftedItems = this.state.totalShiftedItems;\r\n\r\n        if (this.props.autoplayInterval) {\r\n            this.stopAutoplay();\r\n        }\r\n\r\n        if (prevState.numScroll !== this.state.numScroll || prevState.numVisible !== this.state.numVisible || (this.props.value && prevProps.value && prevProps.value.length !== this.props.value.length)) {\r\n            this.remainingItems = (this.props.value.length - this.state.numVisible) % this.state.numScroll;\r\n\r\n            let page = this.getPage();\r\n            if (this.totalIndicators !== 0 && page >= this.totalIndicators) {\r\n                page = this.totalIndicators - 1;\r\n\r\n                if (this.props.onPageChange) {\r\n                    this.props.onPageChange({\r\n                        page\r\n                    })\r\n                }\r\n                else {\r\n                    this.setState({\r\n                        page\r\n                    });\r\n                }\r\n\r\n                stateChanged = true;\r\n            }\r\n\r\n            totalShiftedItems = (page * this.state.numScroll) * -1;\r\n            if (isCircular) {\r\n                totalShiftedItems -= this.state.numVisible;\r\n            }\r\n\r\n            if (page === (this.totalIndicators - 1) && this.remainingItems > 0) {\r\n                totalShiftedItems += (-1 * this.remainingItems) + this.state.numScroll;\r\n                this.isRemainingItemsAdded = true;\r\n            }\r\n            else {\r\n                this.isRemainingItemsAdded = false;\r\n            }\r\n\r\n            if (totalShiftedItems !== this.state.totalShiftedItems) {\r\n                this.setState({\r\n                    totalShiftedItems\r\n                })\r\n\r\n                stateChanged = true;\r\n            }\r\n\r\n            this.changePosition(totalShiftedItems);\r\n        }\r\n\r\n        if (isCircular) {\r\n            if (this.state.page === 0) {\r\n                totalShiftedItems = -1 * this.state.numVisible;\r\n            }\r\n            else if (totalShiftedItems === 0) {\r\n                totalShiftedItems = -1 * this.props.value.length;\r\n                if (this.remainingItems > 0) {\r\n                    this.isRemainingItemsAdded = true;\r\n                }\r\n            }\r\n\r\n            if (totalShiftedItems !== this.state.totalShiftedItems) {\r\n                this.setState({\r\n                    totalShiftedItems\r\n                });\r\n                stateChanged = true;\r\n            }\r\n        }\r\n\r\n        if (prevProps.page !== this.props.page) {\r\n            if (this.props.page > prevProps.page && this.props.page <= (this.totalIndicators - 1)) {\r\n\t\t\t\tthis.step(-1, this.props.page);\r\n\t\t\t}\r\n\t\t\telse if (this.props.page < prevProps.page) {\r\n\t\t\t\tthis.step(1, this.props.page);\r\n\t\t\t}\r\n        }\r\n\r\n        if (!stateChanged && this.isAutoplay()) {\r\n            this.startAutoplay();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.props.responsiveOptions) {\r\n            this.unbindDocumentListeners();\r\n        }\r\n\r\n        if (this.props.autoplayInterval) {\r\n            this.stopAutoplay();\r\n        }\r\n    }\r\n\r\n    renderItems() {\r\n        if (this.props.value && this.props.value.length) {\r\n            const isCircular = this.isCircular();\r\n            let clonedItemsForStarting = null;\r\n            let clonedItemsForFinishing = null;\r\n\r\n            if (isCircular) {\r\n                let clonedElements = null;\r\n\r\n                clonedElements = this.props.value.slice(-1 * this.state.numVisible);\r\n                clonedItemsForStarting = clonedElements.map((item, index) => {\r\n                    let isActive = (this.state.totalShiftedItems * -1) === (this.props.value.length + this.state.numVisible),\r\n                    start = index === 0,\r\n                    end = index === (clonedElements.length - 1);\r\n\r\n                    return <CarouselItem key={index + '_scloned'} className=\"p-carousel-item-cloned\" template={this.props.itemTemplate} item={item} active={isActive} start={start} end={end}/>\r\n                });\r\n\r\n                clonedElements = this.props.value.slice(0, this.state.numVisible);\r\n                clonedItemsForFinishing = clonedElements.map((item, index) => {\r\n                    let isActive = this.state.totalShiftedItems === 0,\r\n                    start = index === 0,\r\n                    end = index === (clonedElements.length - 1);\r\n\r\n                    return <CarouselItem key={index + '_fcloned'} className=\"p-carousel-item-cloned\" template={this.props.itemTemplate} item={item} active={isActive} start={start} end={end}/>\r\n                });\r\n            }\r\n\r\n            let items = this.props.value.map((item, index) => {\r\n                            let firstIndex = isCircular ? (-1 * (this.state.totalShiftedItems + this.state.numVisible)) : (this.state.totalShiftedItems * -1),\r\n                            lastIndex = firstIndex + this.state.numVisible - 1,\r\n                            isActive = firstIndex <= index && lastIndex >= index,\r\n                            start = firstIndex === index,\r\n                            end = lastIndex === index;\r\n\r\n                            return <CarouselItem key={index} template={this.props.itemTemplate} item={item} active={isActive} start={start} end={end}/>\r\n                        });\r\n\r\n            return (\r\n                <>\r\n                    {clonedItemsForStarting}\r\n                    {items}\r\n                    {clonedItemsForFinishing}\r\n                </>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderHeader() {\r\n        if (this.props.header) {\r\n            return (<div className=\"p-carousel-header\">\r\n                        {this.props.header}\r\n                    </div>);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderFooter() {\r\n        if (this.props.footer) {\r\n            return (<div className=\"p-carousel-footer\">\r\n                        {this.props.footer}\r\n                    </div>);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderContent() {\r\n        const items = this.renderItems();\r\n        const height = this.isVertical() ? this.props.verticalViewPortHeight : 'auto';\r\n        const backwardNavigator = this.renderBackwardNavigator();\r\n        const forwardNavigator = this.renderForwardNavigator();\r\n        const containerClassName = classNames('p-carousel-container', this.props.containerClassName);\r\n\r\n        return (\r\n            <div className={containerClassName}>\r\n                {backwardNavigator}\r\n                <div className=\"p-carousel-items-content\" style={{'height': height}}>\r\n                    <div ref={(el) => this.itemsContainer = el} className=\"p-carousel-items-container\" onTransitionEnd={this.onTransitionEnd}\r\n                        onTouchStart={this.onTouchStart} onTouchMove={this.onTouchMove} onTouchEnd={this.onTouchEnd}>\r\n                        {items}\r\n                    </div>\r\n                </div>\r\n                {forwardNavigator}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderBackwardNavigator() {\r\n        let isDisabled = (!this.circular || (this.props.value && this.props.value.length < this.state.numVisible)) && this.getPage() === 0;\r\n        let buttonClassName = classNames('p-carousel-prev p-link', {\r\n            'p-disabled': isDisabled\r\n        }),\r\n        iconClassName = classNames('p-carousel-prev-icon pi', {\r\n            'pi-chevron-left': !this.isVertical(),\r\n            'pi-chevron-up': this.isVertical()\r\n        });\r\n\r\n        return (\r\n            <button type=\"button\" className={buttonClassName} onClick={this.navBackward} disabled={isDisabled}>\r\n                <span className={iconClassName}></span>\r\n                <Ripple />\r\n            </button>\r\n        );\r\n    }\r\n\r\n    renderForwardNavigator() {\r\n        let isDisabled = (!this.circular || (this.props.value && this.props.value.length < this.state.numVisible)) && (this.getPage() === (this.totalIndicators - 1) || this.totalIndicators === 0);\r\n        let buttonClassName = classNames('p-carousel-next p-link', {\r\n            'p-disabled': isDisabled\r\n        }),\r\n        iconClassName = classNames('p-carousel-next-icon pi', {\r\n            'pi-chevron-right': !this.isVertical(),\r\n            'pi-chevron-down': this.isVertical()\r\n        });\r\n\r\n        return (\r\n            <button type=\"button\" className={buttonClassName} onClick={this.navForward} disabled={isDisabled}>\r\n                <span className={iconClassName}></span>\r\n                <Ripple />\r\n            </button>\r\n        );\r\n    }\r\n\r\n    renderIndicator(index) {\r\n        let isActive = this.getPage() === index,\r\n        indicatorItemClassName = classNames('p-carousel-indicator', {\r\n            'p-highlight': isActive\r\n        });\r\n\r\n        return (\r\n            <li className={indicatorItemClassName} key={'p-carousel-indicator-' + index}>\r\n                <button type=\"button\" className=\"p-link\" onClick={(e) => this.onDotClick(e, index)}>\r\n                    <Ripple />\r\n                </button>\r\n            </li>\r\n        );\r\n    }\r\n\r\n    renderIndicators() {\r\n        const indicatorsContentClassName = classNames('p-carousel-indicators p-reset', this.props.indicatorsContentClassName);\r\n        let indicators = [];\r\n\r\n        for (let i = 0; i < this.totalIndicators; i++) {\r\n            indicators.push(this.renderIndicator(i));\r\n        }\r\n\r\n        return (\r\n            <ul className={indicatorsContentClassName}>\r\n                {indicators}\r\n            </ul>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const className = classNames('p-carousel p-component', {\r\n            'p-carousel-vertical': this.isVertical(),\r\n            'p-carousel-horizontal': !this.isVertical()\r\n        }, this.props.className);\r\n        const contentClassName = classNames('p-carousel-content', this.props.contentClassName);\r\n\r\n        this.totalIndicators = this.getTotalIndicators();\r\n        const content = this.renderContent();\r\n        const indicators = this.renderIndicators();\r\n        const header = this.renderHeader();\r\n        const footer = this.renderFooter();\r\n\r\n        return (\r\n            <div id={this.id} className={className} style={this.props.style}>\r\n                {header}\r\n                <div className={contentClassName}>\r\n                    {content}\r\n                    {indicators}\r\n                </div>\r\n                {footer}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}