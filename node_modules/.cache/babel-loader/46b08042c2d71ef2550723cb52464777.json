{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{classNames}from'../utils/ClassNames';import{tip}from'../tooltip/Tooltip';export var Chips=/*#__PURE__*/function(_Component){_inherits(Chips,_Component);var _super=_createSuper(Chips);function Chips(props){var _this;_classCallCheck(this,Chips);_this=_super.call(this,props);_this.state={focused:false};_this.onWrapperClick=_this.onWrapperClick.bind(_assertThisInitialized(_this));_this.onKeyDown=_this.onKeyDown.bind(_assertThisInitialized(_this));_this.onPaste=_this.onPaste.bind(_assertThisInitialized(_this));_this.onFocus=_this.onFocus.bind(_assertThisInitialized(_this));_this.onBlur=_this.onBlur.bind(_assertThisInitialized(_this));return _this;}_createClass(Chips,[{key:\"removeItem\",value:function removeItem(event,index){if(this.props.disabled){return;}var values=_toConsumableArray(this.props.value);var removedItem=values.splice(index,1);if(this.props.onRemove){this.props.onRemove({originalEvent:event,value:removedItem});}if(this.props.onChange){this.props.onChange({originalEvent:event,value:values,stopPropagation:function stopPropagation(){},preventDefault:function preventDefault(){},target:{name:this.props.name,id:this.props.id,value:values}});}}},{key:\"addItem\",value:function addItem(event,item,preventDefault){if(item&&item.trim().length){var values=this.props.value?_toConsumableArray(this.props.value):[];if(this.props.allowDuplicate||values.indexOf(item)===-1){values.push(item);if(this.props.onAdd){this.props.onAdd({originalEvent:event,value:item});}}this.updateInput(event,values,preventDefault);}}},{key:\"onWrapperClick\",value:function onWrapperClick(){this.inputElement.focus();}},{key:\"onKeyDown\",value:function onKeyDown(event){var inputValue=event.target.value;var values=this.props.value||[];switch(event.which){//backspace\ncase 8:if(this.inputElement.value.length===0&&values.length>0){this.removeItem(event,values.length-1);}break;//enter\ncase 13:if(inputValue&&inputValue.trim().length&&(!this.props.max||this.props.max>values.length)){this.addItem(event,inputValue,true);}break;default:if(this.isMaxedOut()){event.preventDefault();}else if(this.props.separator){if(this.props.separator===','&&event.which===188){this.addItem(event,inputValue,true);}}break;}}},{key:\"updateInput\",value:function updateInput(event,items,preventDefault){if(this.props.onChange){this.props.onChange({originalEvent:event,value:items,stopPropagation:function stopPropagation(){},preventDefault:function preventDefault(){},target:{name:this.props.name,id:this.props.id,value:items}});}this.inputElement.value='';if(preventDefault){event.preventDefault();}}},{key:\"onPaste\",value:function onPaste(event){var _this2=this;if(this.props.separator){var pastedData=(event.clipboardData||window['clipboardData']).getData('Text');if(pastedData){var values=this.props.value||[];var pastedValues=pastedData.split(this.props.separator);pastedValues=pastedValues.filter(function(val){return(_this2.props.allowDuplicate||values.indexOf(val)===-1)&&val.trim().length;});values=[].concat(_toConsumableArray(values),_toConsumableArray(pastedValues));this.updateInput(event,values,true);}}}},{key:\"onFocus\",value:function onFocus(event){var _this3=this;event.persist();this.setState({focused:true},function(){if(_this3.props.onFocus){_this3.props.onFocus(event);}});}},{key:\"onBlur\",value:function onBlur(event){var _this4=this;event.persist();this.setState({focused:false},function(){if(_this4.props.onBlur){_this4.props.onBlur(event);}});}},{key:\"isMaxedOut\",value:function isMaxedOut(){return this.props.max&&this.props.value&&this.props.max===this.props.value.length;}},{key:\"isFilled\",value:function isFilled(){return this.props.value&&this.props.value.length||this.inputElement&&this.inputElement.value&&this.inputElement.value.length;}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.tooltip){this.renderTooltip();}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var isValueSame=this.props.value&&prevProps.value&&prevProps.value.length===this.props.value.length;if(this.props.tooltip){if(prevProps.tooltip!==this.props.tooltip||prevProps.tooltipOptions!==this.props.tooltipOptions){if(this.tooltip)this.tooltip.update(_objectSpread({content:this.props.tooltip},this.props.tooltipOptions||{}));else this.renderTooltip();}else if(!isValueSame&&this.tooltip){this.tooltip.deactivate();this.tooltip.activate();}}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.tooltip){this.tooltip.destroy();this.tooltip=null;}}},{key:\"renderTooltip\",value:function renderTooltip(){this.tooltip=tip({target:this.inputElement,targetContainer:this.listElement,content:this.props.tooltip,options:this.props.tooltipOptions});}},{key:\"renderItem\",value:function renderItem(value,index){var _this5=this;var content=this.props.itemTemplate?this.props.itemTemplate(value):value;var icon=this.props.disabled?null:/*#__PURE__*/React.createElement(\"span\",{className:\"p-chips-token-icon pi pi-times-circle\",onClick:function onClick(event){return _this5.removeItem(event,index);}});return/*#__PURE__*/React.createElement(\"li\",{key:index,className:\"p-chips-token p-highlight\"},/*#__PURE__*/React.createElement(\"span\",{className:\"p-chips-token-label\"},content),icon);}},{key:\"renderInputElement\",value:function renderInputElement(){var _this6=this;return/*#__PURE__*/React.createElement(\"li\",{className:\"p-chips-input-token\"},/*#__PURE__*/React.createElement(\"input\",{ref:function ref(el){return _this6.inputElement=el;},placeholder:this.props.placeholder,type:\"text\",name:this.props.name,disabled:this.props.disabled||this.isMaxedOut(),onKeyDown:this.onKeyDown,onPaste:this.onPaste,onFocus:this.onFocus,onBlur:this.onBlur,\"aria-labelledby\":this.props.ariaLabelledBy}));}},{key:\"renderItems\",value:function renderItems(){var _this7=this;if(this.props.value){return this.props.value.map(function(value,index){return _this7.renderItem(value,index);});}return null;}},{key:\"renderList\",value:function renderList(){var _this8=this;var className=classNames('p-inputtext p-chips-multiple-container',{'p-disabled':this.props.disabled,'p-focus':this.state.focused});var items=this.renderItems();var inputElement=this.renderInputElement();return/*#__PURE__*/React.createElement(\"ul\",{ref:function ref(el){return _this8.listElement=el;},className:className,onClick:this.onWrapperClick},items,inputElement);}},{key:\"render\",value:function render(){var _this9=this;var className=classNames('p-chips p-component p-inputwrapper',this.props.className,{'p-inputwrapper-filled':this.isFilled(),'p-inputwrapper-focus':this.state.focused});var list=this.renderList();return/*#__PURE__*/React.createElement(\"div\",{ref:function ref(el){return _this9.element=el;},id:this.props.id,className:className,style:this.props.style},list);}}]);return Chips;}(Component);Chips.defaultProps={id:null,name:null,placeholder:null,value:null,max:null,disabled:null,style:null,className:null,tooltip:null,tooltipOptions:null,ariaLabelledBy:null,separator:null,allowDuplicate:true,itemTemplate:null,onAdd:null,onRemove:null,onChange:null,onFocus:null,onBlur:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/slotmaster-dashboard/src/components/chips/Chips.js"],"names":["React","Component","classNames","tip","Chips","props","state","focused","onWrapperClick","bind","onKeyDown","onPaste","onFocus","onBlur","event","index","disabled","values","value","removedItem","splice","onRemove","originalEvent","onChange","stopPropagation","preventDefault","target","name","id","item","trim","length","allowDuplicate","indexOf","push","onAdd","updateInput","inputElement","focus","inputValue","which","removeItem","max","addItem","isMaxedOut","separator","items","pastedData","clipboardData","window","getData","pastedValues","split","filter","val","persist","setState","tooltip","renderTooltip","prevProps","isValueSame","tooltipOptions","update","content","deactivate","activate","destroy","targetContainer","listElement","options","itemTemplate","icon","el","placeholder","ariaLabelledBy","map","renderItem","className","renderItems","renderInputElement","isFilled","list","renderList","element","style","defaultProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport { tip } from '../tooltip/Tooltip';\r\n\r\nexport class Chips extends Component {\r\n\r\n    static defaultProps = {\r\n        id: null,\r\n        name: null,\r\n        placeholder: null,\r\n        value: null,\r\n        max: null,\r\n        disabled: null,\r\n        style: null,\r\n        className: null,\r\n        tooltip: null,\r\n        tooltipOptions: null,\r\n        ariaLabelledBy: null,\r\n        separator: null,\r\n        allowDuplicate: true,\r\n        itemTemplate: null,\r\n        onAdd: null,\r\n        onRemove: null,\r\n        onChange: null,\r\n        onFocus: null,\r\n        onBlur: null\r\n    }\r\n\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        name: PropTypes.string,\r\n        placeholder: PropTypes.string,\r\n        value: PropTypes.array,\r\n        max: PropTypes.number,\r\n        disabled: PropTypes.bool,\r\n        style: PropTypes.object,\r\n        className: PropTypes.string,\r\n        tooltip: PropTypes.string,\r\n        tooltipOptions: PropTypes.object,\r\n        ariaLabelledBy: PropTypes.string,\r\n        separator: PropTypes.string,\r\n        allowDuplicate: PropTypes.bool,\r\n        itemTemplate: PropTypes.func,\r\n        onAdd: PropTypes.func,\r\n        onRemove: PropTypes.func,\r\n        onChange: PropTypes.func,\r\n        onFocus: PropTypes.func,\r\n        onBlur: PropTypes.func\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            focused: false\r\n        };\r\n\r\n        this.onWrapperClick = this.onWrapperClick.bind(this);\r\n        this.onKeyDown = this.onKeyDown.bind(this);\r\n        this.onPaste = this.onPaste.bind(this);\r\n        this.onFocus = this.onFocus.bind(this);\r\n        this.onBlur = this.onBlur.bind(this);\r\n    }\r\n\r\n    removeItem(event, index) {\r\n        if (this.props.disabled) {\r\n            return;\r\n        }\r\n\r\n        let values = [...this.props.value];\r\n        const removedItem = values.splice(index, 1);\r\n\r\n        if (this.props.onRemove) {\r\n            this.props.onRemove({\r\n                originalEvent: event,\r\n                value: removedItem\r\n            });\r\n        }\r\n\r\n        if (this.props.onChange) {\r\n            this.props.onChange({\r\n                originalEvent: event,\r\n                value: values,\r\n                stopPropagation : () =>{},\r\n                preventDefault : () =>{},\r\n                target: {\r\n                    name: this.props.name,\r\n                    id: this.props.id,\r\n                    value : values\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    addItem(event, item, preventDefault) {\r\n        if (item && item.trim().length) {\r\n            let values = this.props.value ? [...this.props.value] : [];\r\n\r\n            if (this.props.allowDuplicate || values.indexOf(item) === -1) {\r\n                values.push(item);\r\n\r\n                if (this.props.onAdd) {\r\n                    this.props.onAdd({\r\n                        originalEvent: event,\r\n                        value: item\r\n                    });\r\n                }\r\n            }\r\n            this.updateInput(event, values, preventDefault)\r\n        }\r\n\r\n    }\r\n\r\n    onWrapperClick() {\r\n        this.inputElement.focus();\r\n    }\r\n\r\n    onKeyDown(event) {\r\n        const inputValue = event.target.value;\r\n        const values = this.props.value || [];\r\n\r\n        switch(event.which) {\r\n            //backspace\r\n            case 8:\r\n                if (this.inputElement.value.length === 0 && values.length > 0) {\r\n                    this.removeItem(event, values.length - 1);\r\n                }\r\n            break;\r\n\r\n            //enter\r\n            case 13:\r\n                if (inputValue && inputValue.trim().length && (!this.props.max || this.props.max > values.length)) {\r\n                    this.addItem(event, inputValue, true);\r\n                }\r\n            break;\r\n\r\n            default:\r\n                if (this.isMaxedOut()) {\r\n                    event.preventDefault();\r\n                }\r\n                else if (this.props.separator) {\r\n                    if (this.props.separator === ',' && event.which === 188) {\r\n                        this.addItem(event, inputValue, true);\r\n                    }\r\n                }\r\n            break;\r\n        }\r\n    }\r\n\r\n    updateInput(event, items, preventDefault) {\r\n        if (this.props.onChange) {\r\n            this.props.onChange({\r\n                originalEvent: event,\r\n                value: items,\r\n                stopPropagation : () =>{},\r\n                preventDefault : () =>{},\r\n                target: {\r\n                    name: this.props.name,\r\n                    id: this.props.id,\r\n                    value : items\r\n                }\r\n            });\r\n        }\r\n\r\n        this.inputElement.value = '';\r\n\r\n        if (preventDefault) {\r\n            event.preventDefault();\r\n        }\r\n    }\r\n\r\n    onPaste(event) {\r\n        if (this.props.separator) {\r\n            let pastedData = (event.clipboardData || window['clipboardData']).getData('Text');\r\n\r\n            if (pastedData) {\r\n                let values = this.props.value || [];\r\n                let pastedValues = pastedData.split(this.props.separator);\r\n                pastedValues = pastedValues.filter(val => ((this.props.allowDuplicate || values.indexOf(val) === -1) && val.trim().length));\r\n                values = [...values, ...pastedValues];\r\n\r\n                this.updateInput(event, values, true)\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    onFocus(event) {\r\n        event.persist();\r\n        this.setState({ focused: true }, () => {\r\n            if (this.props.onFocus) {\r\n                this.props.onFocus(event);\r\n            }\r\n        });\r\n    }\r\n\r\n    onBlur(event) {\r\n        event.persist();\r\n        this.setState({ focused: false }, () => {\r\n            if (this.props.onBlur) {\r\n                this.props.onBlur(event);\r\n            }\r\n        });\r\n    }\r\n\r\n    isMaxedOut() {\r\n        return this.props.max && this.props.value && this.props.max === this.props.value.length;\r\n    }\r\n\r\n    isFilled() {\r\n        return (this.props.value && this.props.value.length) || (this.inputElement && this.inputElement.value && this.inputElement.value.length);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.tooltip) {\r\n            this.renderTooltip();\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        let isValueSame = this.props.value && prevProps.value && prevProps.value.length === this.props.value.length;\r\n        if (this.props.tooltip) {\r\n            if (prevProps.tooltip !== this.props.tooltip || prevProps.tooltipOptions !== this.props.tooltipOptions) {\r\n                if (this.tooltip)\r\n                    this.tooltip.update({ content: this.props.tooltip, ...(this.props.tooltipOptions || {}) });\r\n                else\r\n                    this.renderTooltip();\r\n            }\r\n            else if (!isValueSame && this.tooltip) {\r\n                this.tooltip.deactivate();\r\n                this.tooltip.activate();\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.tooltip) {\r\n            this.tooltip.destroy();\r\n            this.tooltip = null;\r\n        }\r\n    }\r\n\r\n    renderTooltip() {\r\n        this.tooltip = tip({\r\n            target: this.inputElement,\r\n            targetContainer: this.listElement,\r\n            content: this.props.tooltip,\r\n            options: this.props.tooltipOptions\r\n        });\r\n    }\r\n\r\n    renderItem(value, index)Â {\r\n        const content = this.props.itemTemplate ? this.props.itemTemplate(value) : value;\r\n        const icon = this.props.disabled ? null : <span className=\"p-chips-token-icon pi pi-times-circle\" onClick={(event) => this.removeItem(event, index)}></span>;\r\n\r\n        return (\r\n            <li key={index} className=\"p-chips-token p-highlight\">\r\n                <span className=\"p-chips-token-label\">{content}</span>\r\n                {icon}\r\n            </li>\r\n        );\r\n    }\r\n\r\n    renderInputElement() {\r\n        return (\r\n            <li className=\"p-chips-input-token\">\r\n                <input ref={(el) => this.inputElement = el} placeholder={this.props.placeholder} type=\"text\" name={this.props.name} disabled={this.props.disabled||this.isMaxedOut()}\r\n                            onKeyDown={this.onKeyDown} onPaste={this.onPaste} onFocus={this.onFocus} onBlur={this.onBlur} aria-labelledby={this.props.ariaLabelledBy}/>\r\n            </li>\r\n        );\r\n    }\r\n\r\n    renderItems() {\r\n        if (this.props.value) {\r\n            return this.props.value.map((value, index) => {\r\n                return this.renderItem(value, index);\r\n            });\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderList() {\r\n        const className = classNames('p-inputtext p-chips-multiple-container', {\r\n            'p-disabled': this.props.disabled,\r\n            'p-focus': this.state.focused\r\n        });\r\n        const items = this.renderItems();\r\n        const inputElement = this.renderInputElement();\r\n\r\n        return (\r\n            <ul ref={(el) => this.listElement = el} className={className} onClick={this.onWrapperClick}>\r\n                {items}\r\n                {inputElement}\r\n            </ul>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const className = classNames('p-chips p-component p-inputwrapper', this.props.className, {\r\n            'p-inputwrapper-filled': this.isFilled(),\r\n            'p-inputwrapper-focus': this.state.focused\r\n        });\r\n        const list = this.renderList();\r\n\r\n        return (\r\n            <div ref={(el) => this.element = el} id={this.props.id} className={className} style={this.props.style}>\r\n                {list}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}