{"ast":null,"code":"import _createForOfIteratorHelper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{classNames}from'../utils/ClassNames';import DomHandler from'../utils/DomHandler';import{InputText}from'../inputtext/InputText';export var TreeTableHeader=/*#__PURE__*/function(_Component){_inherits(TreeTableHeader,_Component);var _super=_createSuper(TreeTableHeader);function TreeTableHeader(props){var _this;_classCallCheck(this,TreeTableHeader);_this=_super.call(this,props);_this.state={badgeVisible:false};_this.onFilterInput=_this.onFilterInput.bind(_assertThisInitialized(_this));return _this;}_createClass(TreeTableHeader,[{key:\"onHeaderClick\",value:function onHeaderClick(event,column){if(column.props.sortable){var targetNode=event.target;if(DomHandler.hasClass(targetNode,'p-sortable-column')||DomHandler.hasClass(targetNode,'p-column-title')||DomHandler.hasClass(targetNode,'p-sortable-column-icon')||DomHandler.hasClass(targetNode.parentElement,'p-sortable-column-icon')){this.props.onSort({originalEvent:event,sortField:column.props.field,sortFunction:column.props.sortFunction,sortable:column.props.sortable});DomHandler.clearSelection();}}}},{key:\"onHeaderMouseDown\",value:function onHeaderMouseDown(event,column){if(this.props.reorderableColumns&&column.props.reorderable){if(event.target.nodeName!=='INPUT')event.currentTarget.draggable=true;else if(event.target.nodeName==='INPUT')event.currentTarget.draggable=false;}}},{key:\"onHeaderKeyDown\",value:function onHeaderKeyDown(event,column){if(event.key==='Enter'){this.onHeaderClick(event,column);event.preventDefault();}}},{key:\"getMultiSortMetaDataIndex\",value:function getMultiSortMetaDataIndex(column){if(this.props.multiSortMeta){for(var i=0;i<this.props.multiSortMeta.length;i++){if(this.props.multiSortMeta[i].field===column.props.field){return i;}}}return-1;}},{key:\"onResizerMouseDown\",value:function onResizerMouseDown(event,column){if(this.props.resizableColumns&&this.props.onResizeStart){this.props.onResizeStart({originalEvent:event,columnEl:event.target.parentElement,column:column});}}},{key:\"onFilterInput\",value:function onFilterInput(e,column){var _this2=this;if(column.props.filter&&this.props.onFilter){if(this.filterTimeout){clearTimeout(this.filterTimeout);}var filterValue=e.target.value;this.filterTimeout=setTimeout(function(){_this2.props.onFilter({value:filterValue,field:column.props.field,matchMode:column.props.filterMatchMode});_this2.filterTimeout=null;},this.filterDelay);}}},{key:\"hasColumnFilter\",value:function hasColumnFilter(columns){if(columns){var _iterator=_createForOfIteratorHelper(columns),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var col=_step.value;if(col.props.filter){return true;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}return false;}},{key:\"renderSortIcon\",value:function renderSortIcon(column,sorted,sortOrder){if(column.props.sortable){var sortIcon=sorted?sortOrder<0?'pi-sort-amount-down':'pi-sort-amount-up-alt':'pi-sort-alt';var sortIconClassName=classNames('p-sortable-column-icon','pi pi-fw',sortIcon);return/*#__PURE__*/React.createElement(\"span\",{className:sortIconClassName});}else{return null;}}},{key:\"renderResizer\",value:function renderResizer(column){var _this3=this;if(this.props.resizableColumns){return/*#__PURE__*/React.createElement(\"span\",{className:\"p-column-resizer p-clickable\",onMouseDown:function onMouseDown(e){return _this3.onResizerMouseDown(e,column);}});}else{return null;}}},{key:\"getAriaSort\",value:function getAriaSort(column,sorted,sortOrder){if(column.props.sortable){var sortIcon=sorted?sortOrder<0?'pi-sort-down':'pi-sort-up':'pi-sort';if(sortIcon==='pi-sort-down')return'descending';else if(sortIcon==='pi-sort-up')return'ascending';else return'none';}else{return null;}}},{key:\"renderSortBadge\",value:function renderSortBadge(sortMetaDataIndex){if(sortMetaDataIndex!==-1&&this.state.badgeVisible){return/*#__PURE__*/React.createElement(\"span\",{className:\"p-sortable-column-badge\"},sortMetaDataIndex+1);}return null;}},{key:\"renderHeaderCell\",value:function renderHeaderCell(column,options){var _this4=this;var filterElement;if(column.props.filter&&options.renderFilter){filterElement=column.props.filterElement||/*#__PURE__*/React.createElement(InputText,{onInput:function onInput(e){return _this4.onFilterInput(e,column);},type:this.props.filterType,defaultValue:this.props.filters&&this.props.filters[column.props.field]?this.props.filters[column.props.field].value:null,className:\"p-column-filter\",placeholder:column.props.filterPlaceholder,maxLength:column.props.filterMaxLength});}if(options.filterOnly){return/*#__PURE__*/React.createElement(\"th\",{key:column.props.columnKey||column.props.field||options.index,className:classNames('p-filter-column',column.props.filterHeaderClassName),style:column.props.filterHeaderStyle||column.props.style,rowSpan:column.props.rowSpan,colSpan:column.props.colSpan},filterElement);}else{var sortMetaDataIndex=this.getMultiSortMetaDataIndex(column);var multiSortMetaData=sortMetaDataIndex!==-1?this.props.multiSortMeta[sortMetaDataIndex]:null;var singleSorted=column.props.field===this.props.sortField;var multipleSorted=multiSortMetaData!==null;var sorted=column.props.sortable&&(singleSorted||multipleSorted);var sortOrder=0;if(singleSorted)sortOrder=this.props.sortOrder;else if(multipleSorted)sortOrder=multiSortMetaData.order;var sortIconElement=this.renderSortIcon(column,sorted,sortOrder);var ariaSortData=this.getAriaSort(column,sorted,sortOrder);var sortBadge=this.renderSortBadge(sortMetaDataIndex);var className=classNames(column.props.headerClassName||column.props.className,{'p-sortable-column':column.props.sortable,'p-highlight':sorted,'p-resizable-column':this.props.resizableColumns});var resizer=this.renderResizer(column);return/*#__PURE__*/React.createElement(\"th\",{key:column.columnKey||column.field||options.index,className:className,style:column.props.headerStyle||column.props.style,tabIndex:column.props.sortable?this.props.tabIndex:null,onClick:function onClick(e){return _this4.onHeaderClick(e,column);},onMouseDown:function onMouseDown(e){return _this4.onHeaderMouseDown(e,column);},onKeyDown:function onKeyDown(e){return _this4.onHeaderKeyDown(e,column);},rowSpan:column.props.rowSpan,colSpan:column.props.colSpan,\"aria-sort\":ariaSortData,onDragStart:this.props.onDragStart,onDragOver:this.props.onDragOver,onDragLeave:this.props.onDragLeave,onDrop:this.props.onDrop},resizer,/*#__PURE__*/React.createElement(\"span\",{className:\"p-column-title\"},column.props.header),sortIconElement,sortBadge,filterElement);}}},{key:\"renderHeaderRow\",value:function renderHeaderRow(row,index){var _this5=this;var rowColumns=React.Children.toArray(row.props.children);var rowHeaderCells=rowColumns.map(function(col,i){return _this5.renderHeaderCell(col,{index:i,filterOnly:false,renderFilter:true});});return/*#__PURE__*/React.createElement(\"tr\",{key:index},rowHeaderCells);}},{key:\"renderColumnGroup\",value:function renderColumnGroup(){var _this6=this;var rows=React.Children.toArray(this.props.columnGroup.props.children);return rows.map(function(row,i){return _this6.renderHeaderRow(row,i);});}},{key:\"renderColumns\",value:function renderColumns(columns){var _this7=this;if(columns){if(this.hasColumnFilter(columns)){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"tr\",null,columns.map(function(col,i){return _this7.renderHeaderCell(col,{index:i,filterOnly:false,renderFilter:false});})),/*#__PURE__*/React.createElement(\"tr\",null,columns.map(function(col,i){return _this7.renderHeaderCell(col,{index:i,filterOnly:true,renderFilter:true});})));}else{return/*#__PURE__*/React.createElement(\"tr\",null,columns.map(function(col,i){return _this7.renderHeaderCell(col,{index:i,filterOnly:false,renderFilter:false});}));}}else{return null;}}},{key:\"render\",value:function render(){var content=this.props.columnGroup?this.renderColumnGroup():this.renderColumns(this.props.columns);return/*#__PURE__*/React.createElement(\"thead\",{className:\"p-treetable-thead\"},content);}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(nextProps,prevState){return{badgeVisible:nextProps.multiSortMeta&&nextProps.multiSortMeta.length>1};}}]);return TreeTableHeader;}(Component);TreeTableHeader.defaultProps={columns:null,columnGroup:null,sortField:null,sortOrder:null,multiSortMeta:null,resizableColumns:false,reorderableColumns:false,onSort:null,onResizeStart:null,onDragStart:null,onDragOver:null,onDragLeave:null,onDrop:null,onFilter:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/slotmaster-dashboard/src/components/treetable/TreeTableHeader.js"],"names":["React","Component","classNames","DomHandler","InputText","TreeTableHeader","props","state","badgeVisible","onFilterInput","bind","event","column","sortable","targetNode","target","hasClass","parentElement","onSort","originalEvent","sortField","field","sortFunction","clearSelection","reorderableColumns","reorderable","nodeName","currentTarget","draggable","key","onHeaderClick","preventDefault","multiSortMeta","i","length","resizableColumns","onResizeStart","columnEl","e","filter","onFilter","filterTimeout","clearTimeout","filterValue","value","setTimeout","matchMode","filterMatchMode","filterDelay","columns","col","sorted","sortOrder","sortIcon","sortIconClassName","onResizerMouseDown","sortMetaDataIndex","options","filterElement","renderFilter","filterType","filters","filterPlaceholder","filterMaxLength","filterOnly","columnKey","index","filterHeaderClassName","filterHeaderStyle","style","rowSpan","colSpan","getMultiSortMetaDataIndex","multiSortMetaData","singleSorted","multipleSorted","order","sortIconElement","renderSortIcon","ariaSortData","getAriaSort","sortBadge","renderSortBadge","className","headerClassName","resizer","renderResizer","headerStyle","tabIndex","onHeaderMouseDown","onHeaderKeyDown","onDragStart","onDragOver","onDragLeave","onDrop","header","row","rowColumns","Children","toArray","children","rowHeaderCells","map","renderHeaderCell","rows","columnGroup","renderHeaderRow","hasColumnFilter","content","renderColumnGroup","renderColumns","nextProps","prevState","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport {InputText} from '../inputtext/InputText';\r\n\r\nexport class TreeTableHeader extends Component {\r\n\r\n    static defaultProps = {\r\n        columns: null,\r\n        columnGroup: null,\r\n        sortField: null,\r\n        sortOrder: null,\r\n        multiSortMeta: null,\r\n        resizableColumns: false,\r\n        reorderableColumns: false,\r\n        onSort: null,\r\n        onResizeStart: null,\r\n        onDragStart: null,\r\n        onDragOver: null,\r\n        onDragLeave: null,\r\n        onDrop: null,\r\n        onFilter: null\r\n    }\r\n\r\n    static propTypes = {\r\n        columns: PropTypes.array,\r\n        columnGroup: PropTypes.any,\r\n        sortField: PropTypes.string,\r\n        sortOrder: PropTypes.number,\r\n        multiSortMeta: PropTypes.array,\r\n        resizableColumns: PropTypes.bool,\r\n        reorderableColumns: PropTypes.bool,\r\n        onSort: PropTypes.func,\r\n        onResizeStart: PropTypes.func,\r\n        onDragStart: PropTypes.func,\r\n        onDragOver: PropTypes.func,\r\n        onDragLeave: PropTypes.func,\r\n        onDrop: PropTypes.func,\r\n        onFilter: PropTypes.func\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            badgeVisible: false\r\n        }\r\n\r\n        this.onFilterInput = this.onFilterInput.bind(this);\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        return {\r\n            badgeVisible: nextProps.multiSortMeta && nextProps.multiSortMeta.length > 1\r\n        }\r\n    }\r\n\r\n    onHeaderClick(event, column) {\r\n        if (column.props.sortable) {\r\n            const targetNode = event.target;\r\n            if (DomHandler.hasClass(targetNode, 'p-sortable-column') || DomHandler.hasClass(targetNode, 'p-column-title')\r\n                || DomHandler.hasClass(targetNode, 'p-sortable-column-icon') || DomHandler.hasClass(targetNode.parentElement, 'p-sortable-column-icon')) {\r\n\r\n                this.props.onSort({\r\n                    originalEvent: event,\r\n                    sortField: column.props.field,\r\n                    sortFunction: column.props.sortFunction,\r\n                    sortable: column.props.sortable\r\n                });\r\n\r\n                DomHandler.clearSelection();\r\n            }\r\n        }\r\n    }\r\n\r\n    onHeaderMouseDown(event, column) {\r\n        if (this.props.reorderableColumns && column.props.reorderable) {\r\n            if (event.target.nodeName !== 'INPUT')\r\n                event.currentTarget.draggable = true;\r\n            else if (event.target.nodeName === 'INPUT')\r\n                event.currentTarget.draggable = false;\r\n        }\r\n    }\r\n\r\n    onHeaderKeyDown(event, column) {\r\n        if (event.key === 'Enter') {\r\n            this.onHeaderClick(event, column);\r\n            event.preventDefault();\r\n        }\r\n    }\r\n\r\n    getMultiSortMetaDataIndex(column) {\r\n        if(this.props.multiSortMeta) {\r\n            for(let i = 0; i < this.props.multiSortMeta.length; i++) {\r\n                if(this.props.multiSortMeta[i].field === column.props.field) {\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n\r\n        return -1;\r\n    }\r\n\r\n    onResizerMouseDown(event, column) {\r\n        if(this.props.resizableColumns && this.props.onResizeStart) {\r\n            this.props.onResizeStart({\r\n                originalEvent: event,\r\n                columnEl: event.target.parentElement,\r\n                column: column\r\n            });\r\n        }\r\n    }\r\n\r\n    onFilterInput(e, column) {\r\n        if(column.props.filter && this.props.onFilter) {\r\n            if(this.filterTimeout) {\r\n                clearTimeout(this.filterTimeout);\r\n            }\r\n\r\n            let filterValue = e.target.value;\r\n            this.filterTimeout = setTimeout(() => {\r\n                this.props.onFilter({\r\n                    value: filterValue,\r\n                    field: column.props.field,\r\n                    matchMode: column.props.filterMatchMode\r\n                });\r\n                this.filterTimeout = null;\r\n            }, this.filterDelay);\r\n        }\r\n    }\r\n\r\n    hasColumnFilter(columns) {\r\n        if (columns) {\r\n            for (let col of columns) {\r\n                if (col.props.filter) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    renderSortIcon(column, sorted, sortOrder) {\r\n        if (column.props.sortable) {\r\n            const sortIcon = sorted ? sortOrder < 0 ? 'pi-sort-amount-down' : 'pi-sort-amount-up-alt': 'pi-sort-alt';\r\n            const sortIconClassName = classNames('p-sortable-column-icon', 'pi pi-fw', sortIcon);\r\n\r\n            return (\r\n                <span className={sortIconClassName}></span>\r\n            );\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    renderResizer(column) {\r\n        if (this.props.resizableColumns) {\r\n            return (\r\n                <span className=\"p-column-resizer p-clickable\" onMouseDown={e => this.onResizerMouseDown(e, column)} />\r\n            );\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    getAriaSort(column, sorted, sortOrder) {\r\n        if (column.props.sortable) {\r\n            let sortIcon = sorted ? sortOrder < 0 ? 'pi-sort-down' : 'pi-sort-up': 'pi-sort';\r\n            if (sortIcon === 'pi-sort-down')\r\n                return 'descending';\r\n            else if (sortIcon === 'pi-sort-up')\r\n                return 'ascending';\r\n            else\r\n                return 'none';\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    renderSortBadge(sortMetaDataIndex) {\r\n        if (sortMetaDataIndex !== -1 && this.state.badgeVisible) {\r\n            return <span className=\"p-sortable-column-badge\">{sortMetaDataIndex + 1}</span>;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderHeaderCell(column, options) {\r\n        let filterElement;\r\n\r\n        if (column.props.filter && options.renderFilter) {\r\n            filterElement = column.props.filterElement||<InputText onInput={(e) => this.onFilterInput(e, column)} type={this.props.filterType} defaultValue={this.props.filters && this.props.filters[column.props.field] ? this.props.filters[column.props.field].value : null}\r\n                    className=\"p-column-filter\" placeholder={column.props.filterPlaceholder} maxLength={column.props.filterMaxLength}/>;\r\n        }\r\n\r\n        if (options.filterOnly) {\r\n            return (\r\n                <th key={column.props.columnKey||column.props.field||options.index} className={classNames('p-filter-column', column.props.filterHeaderClassName)} style={column.props.filterHeaderStyle||column.props.style}\r\n                    rowSpan={column.props.rowSpan} colSpan={column.props.colSpan}>\r\n                    {filterElement}\r\n                </th>\r\n            );\r\n        }\r\n        else {\r\n            const sortMetaDataIndex = this.getMultiSortMetaDataIndex(column);\r\n            const multiSortMetaData = sortMetaDataIndex !== -1 ? this.props.multiSortMeta[sortMetaDataIndex] : null;\r\n            const singleSorted = (column.props.field === this.props.sortField);\r\n            const multipleSorted = multiSortMetaData !== null;\r\n            const sorted = column.props.sortable && (singleSorted || multipleSorted);\r\n            let sortOrder = 0;\r\n\r\n            if(singleSorted)\r\n                sortOrder = this.props.sortOrder;\r\n            else if(multipleSorted)\r\n                sortOrder = multiSortMetaData.order;\r\n\r\n            const sortIconElement = this.renderSortIcon(column, sorted, sortOrder);\r\n            let ariaSortData = this.getAriaSort(column, sorted, sortOrder);\r\n            let sortBadge = this.renderSortBadge(sortMetaDataIndex);\r\n\r\n            const className = classNames(column.props.headerClassName||column.props.className, {\r\n                'p-sortable-column': column.props.sortable,\r\n                'p-highlight': sorted,\r\n                'p-resizable-column': this.props.resizableColumns\r\n            });\r\n\r\n            const resizer = this.renderResizer(column);\r\n\r\n            return (\r\n                <th key={column.columnKey||column.field||options.index} className={className} style={column.props.headerStyle||column.props.style} tabIndex={column.props.sortable ? this.props.tabIndex: null}\r\n                    onClick={e => this.onHeaderClick(e, column)} onMouseDown={e => this.onHeaderMouseDown(e, column)} onKeyDown={e => this.onHeaderKeyDown(e, column)}\r\n                    rowSpan={column.props.rowSpan} colSpan={column.props.colSpan} aria-sort={ariaSortData}\r\n                    onDragStart={this.props.onDragStart} onDragOver={this.props.onDragOver} onDragLeave={this.props.onDragLeave} onDrop={this.props.onDrop}>\r\n                    {resizer}\r\n                    <span className=\"p-column-title\">{column.props.header}</span>\r\n                    {sortIconElement}\r\n                    {sortBadge}\r\n                    {filterElement}\r\n                </th>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderHeaderRow(row, index) {\r\n        const rowColumns = React.Children.toArray(row.props.children);\r\n        const rowHeaderCells = rowColumns.map((col, i) => this.renderHeaderCell(col, {index: i, filterOnly: false, renderFilter: true}));\r\n\r\n        return (\r\n            <tr key={index}>{rowHeaderCells}</tr>\r\n        )\r\n    }\r\n\r\n    renderColumnGroup() {\r\n        let rows = React.Children.toArray(this.props.columnGroup.props.children);\r\n\r\n        return (\r\n            rows.map((row, i) => this.renderHeaderRow(row, i))\r\n        );\r\n    }\r\n\r\n    renderColumns(columns) {\r\n        if (columns) {\r\n            if (this.hasColumnFilter(columns)) {\r\n                return (\r\n                    <>\r\n                        <tr>{columns.map((col, i) => this.renderHeaderCell(col, {index: i, filterOnly: false, renderFilter: false}))}</tr>\r\n                        <tr>{columns.map((col, i) => this.renderHeaderCell(col, {index: i, filterOnly: true, renderFilter: true}))}</tr>\r\n                    </>\r\n                );\r\n            }\r\n            else {\r\n                return (\r\n                    <tr>{columns.map((col, i) => this.renderHeaderCell(col, {index: i, filterOnly: false, renderFilter: false}))}</tr>\r\n                );\r\n            }\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const content = this.props.columnGroup ? this.renderColumnGroup() : this.renderColumns(this.props.columns);\r\n\r\n        return (\r\n            <thead className=\"p-treetable-thead\">\r\n                {content}\r\n            </thead>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}