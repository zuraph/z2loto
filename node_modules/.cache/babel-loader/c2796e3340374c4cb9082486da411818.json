{"ast":null,"code":"import _createForOfIteratorHelper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ReactDOM from\"react-dom\";import{classNames}from'../utils/ClassNames';import ObjectUtils from'../utils/ObjectUtils';import DomHandler from'../utils/DomHandler';import UniqueComponentId from'../utils/UniqueComponentId';import{CSSTransition}from\"react-transition-group\";import ConnectedOverlayScrollHandler from'../utils/ConnectedOverlayScrollHandler';import{CascadeSelectSub}from\"./CascadeSelectSub\";import OverlayEventBus from'../overlayeventbus/OverlayEventBus';export var CascadeSelect=/*#__PURE__*/function(_Component){_inherits(CascadeSelect,_Component);var _super=_createSuper(CascadeSelect);function CascadeSelect(props){var _this;_classCallCheck(this,CascadeSelect);_this=_super.call(this,props);_this.state={focused:false,overlayVisible:false};_this.dirty=false;_this.selectionPath=null;_this.id=_this.props.id||UniqueComponentId();_this.overlayRef=React.createRef();_this.onClick=_this.onClick.bind(_assertThisInitialized(_this));_this.onInputFocus=_this.onInputFocus.bind(_assertThisInitialized(_this));_this.onInputBlur=_this.onInputBlur.bind(_assertThisInitialized(_this));_this.onInputKeyDown=_this.onInputKeyDown.bind(_assertThisInitialized(_this));_this.onOverlayEnter=_this.onOverlayEnter.bind(_assertThisInitialized(_this));_this.onOverlayEntered=_this.onOverlayEntered.bind(_assertThisInitialized(_this));_this.onOverlayExit=_this.onOverlayExit.bind(_assertThisInitialized(_this));_this.onOptionSelect=_this.onOptionSelect.bind(_assertThisInitialized(_this));_this.onOptionGroupSelect=_this.onOptionGroupSelect.bind(_assertThisInitialized(_this));_this.onPanelClick=_this.onPanelClick.bind(_assertThisInitialized(_this));return _this;}_createClass(CascadeSelect,[{key:\"onOptionSelect\",value:function onOptionSelect(event){if(this.props.onChange){this.props.onChange({originalEvent:event,value:event.value});}this.updateSelectionPath();this.hide();this.focusInput.focus();}},{key:\"onOptionGroupSelect\",value:function onOptionGroupSelect(event){this.dirty=true;if(this.props.onGroupChange){this.props.onGroupChange(event);}}},{key:\"getOptionLabel\",value:function getOptionLabel(option){return this.props.optionLabel?ObjectUtils.resolveFieldData(option,this.props.optionLabel):option;}},{key:\"getOptionValue\",value:function getOptionValue(option){return this.props.optionValue?ObjectUtils.resolveFieldData(option,this.props.optionValue):option;}},{key:\"getOptionGroupChildren\",value:function getOptionGroupChildren(optionGroup,level){return ObjectUtils.resolveFieldData(optionGroup,this.props.optionGroupChildren[level]);}},{key:\"isOptionGroup\",value:function isOptionGroup(option,level){return Object.prototype.hasOwnProperty.call(option,this.props.optionGroupChildren[level]);}},{key:\"updateSelectionPath\",value:function updateSelectionPath(){var path;if(this.props.value!=null&&this.props.options){var _iterator=_createForOfIteratorHelper(this.props.options),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var option=_step.value;path=this.findModelOptionInGroup(option,0);if(path){break;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}this.selectionPath=path;}},{key:\"findModelOptionInGroup\",value:function findModelOptionInGroup(option,level){if(this.isOptionGroup(option,level)){var selectedOption;var _iterator2=_createForOfIteratorHelper(this.getOptionGroupChildren(option,level)),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var childOption=_step2.value;selectedOption=this.findModelOptionInGroup(childOption,level+1);if(selectedOption){selectedOption.unshift(option);return selectedOption;}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}else if(ObjectUtils.equals(this.props.value,this.getOptionValue(option),this.props.dataKey)){return[option];}return null;}},{key:\"onClick\",value:function onClick(event){if(this.props.disabled){return;}var overlay=this.overlayRef?this.overlayRef.current:null;if(!overlay||!overlay.contains(event.target)){this.focusInput.focus();if(this.state.overlayVisible){this.hide();}else{this.show();}}}},{key:\"onInputFocus\",value:function onInputFocus(){this.setState({focused:true});}},{key:\"onInputBlur\",value:function onInputBlur(){this.setState({focused:false});}},{key:\"onInputKeyDown\",value:function onInputKeyDown(event){switch(event.key){case'Down':case'ArrowDown':if(this.state.overlayVisible){DomHandler.findSingle(this.overlayRef.current,'.p-cascadeselect-item').children[0].focus();}else if(event.altKey&&this.props.options&&this.props.options.length){this.show();}event.preventDefault();break;case'Escape':if(this.state.overlayVisible){this.hide();event.preventDefault();}break;case'Tab':this.hide();break;default:break;}}},{key:\"onPanelClick\",value:function onPanelClick(event){OverlayEventBus.emit('overlay-click',{originalEvent:event,target:this.container});}},{key:\"show\",value:function show(){if(this.props.onBeforeShow){this.props.onBeforeShow();}this.setState({overlayVisible:true});}},{key:\"hide\",value:function hide(){if(this.props.onBeforeHide){this.props.onBeforeHide();}this.setState({overlayVisible:false});}},{key:\"onOverlayEnter\",value:function onOverlayEnter(){this.overlayRef.current.style.zIndex=String(DomHandler.generateZIndex());this.alignOverlay();}},{key:\"onOverlayEntered\",value:function onOverlayEntered(){this.bindOutsideClickListener();this.bindScrollListener();this.bindResizeListener();if(this.props.onShow){this.props.onShow();}}},{key:\"onOverlayExit\",value:function onOverlayExit(){this.unbindOutsideClickListener();this.unbindScrollListener();this.unbindResizeListener();this.dirty=false;if(this.props.onHide){this.props.onHide();}}},{key:\"alignOverlay\",value:function alignOverlay(){var container=this.input.parentElement;if(this.props.appendTo){DomHandler.absolutePosition(this.overlayRef.current,container);this.overlayRef.current.style.minWidth=DomHandler.getOuterWidth(container)+'px';}else{DomHandler.relativePosition(this.overlayRef.current,container);}}},{key:\"bindOutsideClickListener\",value:function bindOutsideClickListener(){var _this2=this;if(!this.outsideClickListener){this.outsideClickListener=function(event){if(_this2.state.overlayVisible&&_this2.isOutsideClicked(event)){_this2.hide();}};document.addEventListener('click',this.outsideClickListener);}}},{key:\"unbindOutsideClickListener\",value:function unbindOutsideClickListener(){if(this.outsideClickListener){document.removeEventListener('click',this.outsideClickListener);this.outsideClickListener=null;}}},{key:\"bindScrollListener\",value:function bindScrollListener(){var _this3=this;if(!this.scrollHandler){this.scrollHandler=new ConnectedOverlayScrollHandler(this.container,function(){if(_this3.state.overlayVisible){_this3.hide();}});}this.scrollHandler.bindScrollListener();}},{key:\"unbindScrollListener\",value:function unbindScrollListener(){if(this.scrollHandler){this.scrollHandler.unbindScrollListener();}}},{key:\"bindResizeListener\",value:function bindResizeListener(){var _this4=this;if(!this.resizeListener){this.resizeListener=function(){if(_this4.state.overlayVisible){_this4.hide();}};window.addEventListener('resize',this.resizeListener);}}},{key:\"unbindResizeListener\",value:function unbindResizeListener(){if(this.resizeListener){window.removeEventListener('resize',this.resizeListener);this.resizeListener=null;}}},{key:\"isOutsideClicked\",value:function isOutsideClicked(event){return this.container&&!(this.container.isSameNode(event.target)||this.container.contains(event.target)||this.overlayRef&&this.overlayRef.current.contains(event.target));}},{key:\"componentDidMount\",value:function componentDidMount(){this.updateSelectionPath();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.unbindOutsideClickListener();this.unbindResizeListener();if(this.scrollHandler){this.scrollHandler.destroy();this.scrollHandler=null;}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.value!==this.props.value){this.updateSelectionPath();}}},{key:\"renderKeyboardHelper\",value:function renderKeyboardHelper(){var _this5=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"p-hidden-accessible\"},/*#__PURE__*/React.createElement(\"input\",{ref:function ref(el){return _this5.focusInput=el;},type:\"text\",id:this.props.inputId,readOnly:true,disabled:this.props.disabled,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onKeyDown:this.onInputKeyDown,tabIndex:this.props.tabIndex,\"aria-haspopup\":\"listbox\",\"aria-labelledby\":this.props.ariaLabelledBy}));}},{key:\"renderLabel\",value:function renderLabel(value){var _this6=this;var label=value?this.getOptionLabel(this.props.value):this.props.placeholder||'p-emptylabel';var labelClassName=classNames('p-cascadeselect-label ',{'p-placeholder':label===this.props.placeholder,'p-cascadeselect-label-empty':!this.props.value&&label==='p-emptylabel'});return/*#__PURE__*/React.createElement(\"span\",{ref:function ref(el){return _this6.input=el;},className:labelClassName},label);}},{key:\"renderDropdownIcon\",value:function renderDropdownIcon(){return/*#__PURE__*/React.createElement(\"div\",{className:\"p-cascadeselect-trigger\",role:\"button\",\"aria-haspopup\":\"listbox\",\"aria-expanded\":this.state.overlayVisible},/*#__PURE__*/React.createElement(\"span\",{className:\"p-cascadeselect-trigger-icon pi pi-chevron-down\"}));}},{key:\"renderOverlay\",value:function renderOverlay(){var overlay=/*#__PURE__*/React.createElement(CSSTransition,{nodeRef:this.overlayRef,classNames:\"p-connected-overlay\",in:this.state.overlayVisible,timeout:{enter:120,exit:100},unmountOnExit:true,onEnter:this.onOverlayEnter,onEntered:this.onOverlayEntered,onExit:this.onOverlayExit},/*#__PURE__*/React.createElement(\"div\",{ref:this.overlayRef,className:\"p-cascadeselect-panel p-component\",onClick:this.onPanelClick},/*#__PURE__*/React.createElement(\"div\",{className:\"p-cascadeselect-items-wrapper\"},/*#__PURE__*/React.createElement(CascadeSelectSub,{options:this.props.options,selectionPath:this.selectionPath,className:\"p-cascadeselect-items\",optionLabel:this.props.optionLabel,optionValue:this.props.optionValue,level:0,optionGroupLabel:this.props.optionGroupLabel,optionGroupChildren:this.props.optionGroupChildren,onOptionSelect:this.onOptionSelect,onOptionGroupSelect:this.onOptionGroupSelect,root:true,template:this.props.itemTemplate}))));return this.props.appendTo?ReactDOM.createPortal(overlay,this.props.appendTo):overlay;}},{key:\"renderElement\",value:function renderElement(){var _this7=this;var className=classNames('p-cascadeselect p-component p-inputwrapper',this.props.className,{'p-disabled':this.props.disabled,'p-focus':this.state.focused,'p-inputwrapper-filled':this.props.value,'p-inputwrapper-focus':this.state.focused||this.state.overlayVisible});var keyboardHelper=this.renderKeyboardHelper();var labelElement=this.renderLabel(this.props.value);var dropdownIcon=this.renderDropdownIcon();var overlay=this.renderOverlay();return/*#__PURE__*/React.createElement(\"div\",{id:this.id,ref:function ref(el){return _this7.container=el;},className:className,style:this.props.style,onClick:this.onClick},keyboardHelper,labelElement,dropdownIcon,overlay);}},{key:\"render\",value:function render(){var element=this.renderElement();return element;}}]);return CascadeSelect;}(Component);CascadeSelect.defaultProps={id:null,style:null,className:null,value:null,options:null,optionLabel:null,optionValue:null,optionGroupLabel:null,optionGroupChildren:null,placeholder:null,itemTemplate:null,disabled:false,dataKey:null,inputId:null,tabIndex:null,ariaLabelledBy:null,appendTo:null,onChange:null,onGroupChange:null,onBeforeShow:null,onBeforeHide:null,onShow:null,onHide:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/components/cascadeselect/CascadeSelect.js"],"names":["React","Component","ReactDOM","classNames","ObjectUtils","DomHandler","UniqueComponentId","CSSTransition","ConnectedOverlayScrollHandler","CascadeSelectSub","OverlayEventBus","CascadeSelect","props","state","focused","overlayVisible","dirty","selectionPath","id","overlayRef","createRef","onClick","bind","onInputFocus","onInputBlur","onInputKeyDown","onOverlayEnter","onOverlayEntered","onOverlayExit","onOptionSelect","onOptionGroupSelect","onPanelClick","event","onChange","originalEvent","value","updateSelectionPath","hide","focusInput","focus","onGroupChange","option","optionLabel","resolveFieldData","optionValue","optionGroup","level","optionGroupChildren","Object","prototype","hasOwnProperty","call","path","options","findModelOptionInGroup","isOptionGroup","selectedOption","getOptionGroupChildren","childOption","unshift","equals","getOptionValue","dataKey","disabled","overlay","current","contains","target","show","setState","key","findSingle","children","altKey","length","preventDefault","emit","container","onBeforeShow","onBeforeHide","style","zIndex","String","generateZIndex","alignOverlay","bindOutsideClickListener","bindScrollListener","bindResizeListener","onShow","unbindOutsideClickListener","unbindScrollListener","unbindResizeListener","onHide","input","parentElement","appendTo","absolutePosition","minWidth","getOuterWidth","relativePosition","outsideClickListener","isOutsideClicked","document","addEventListener","removeEventListener","scrollHandler","resizeListener","window","isSameNode","destroy","prevProps","el","inputId","tabIndex","ariaLabelledBy","label","getOptionLabel","placeholder","labelClassName","enter","exit","optionGroupLabel","itemTemplate","createPortal","className","keyboardHelper","renderKeyboardHelper","labelElement","renderLabel","dropdownIcon","renderDropdownIcon","renderOverlay","element","renderElement","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactDOM from \"react-dom\";\r\nimport { classNames } from '../utils/ClassNames';\r\nimport ObjectUtils from '../utils/ObjectUtils';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport UniqueComponentId from '../utils/UniqueComponentId';\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport ConnectedOverlayScrollHandler from '../utils/ConnectedOverlayScrollHandler';\r\nimport { CascadeSelectSub } from \"./CascadeSelectSub\";\r\nimport OverlayEventBus from '../overlayeventbus/OverlayEventBus';\r\n\r\nexport class CascadeSelect extends Component {\r\n\r\n    static defaultProps = {\r\n        id: null,\r\n        style: null,\r\n        className: null,\r\n        value: null,\r\n        options: null,\r\n        optionLabel: null,\r\n        optionValue: null,\r\n        optionGroupLabel: null,\r\n        optionGroupChildren: null,\r\n        placeholder: null,\r\n        itemTemplate: null,\r\n        disabled: false,\r\n        dataKey: null,\r\n        inputId: null,\r\n        tabIndex: null,\r\n        ariaLabelledBy: null,\r\n        appendTo: null,\r\n        onChange: null,\r\n        onGroupChange: null,\r\n        onBeforeShow: null,\r\n        onBeforeHide: null,\r\n        onShow: null,\r\n        onHide: null\r\n    };\r\n\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        style: PropTypes.object,\r\n        className: PropTypes.string,\r\n        value: PropTypes.any,\r\n        options: PropTypes.array,\r\n        optionLabel: PropTypes.string,\r\n        optionValue: PropTypes.string,\r\n        optionGroupLabel: PropTypes.string,\r\n        optionGroupChildren: PropTypes.array,\r\n        placeholder: PropTypes.string,\r\n        itemTemplate: PropTypes.any,\r\n        disabled: PropTypes.bool,\r\n        dataKey: PropTypes.string,\r\n        inputId: PropTypes.string,\r\n        tabIndex: PropTypes.number,\r\n        ariaLabelledBy: PropTypes.string,\r\n        appendTo: PropTypes.any,\r\n        onChange: PropTypes.func,\r\n        onGroupChange: PropTypes.func,\r\n        onBeforeShow: PropTypes.func,\r\n        onBeforeHide: PropTypes.func,\r\n        onShow: PropTypes.func,\r\n        onHide: PropTypes.func\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            focused: false,\r\n            overlayVisible: false\r\n        };\r\n\r\n        this.dirty = false;\r\n        this.selectionPath = null;\r\n        this.id = this.props.id || UniqueComponentId();\r\n        this.overlayRef = React.createRef();\r\n\r\n        this.onClick = this.onClick.bind(this);\r\n        this.onInputFocus = this.onInputFocus.bind(this);\r\n        this.onInputBlur = this.onInputBlur.bind(this);\r\n        this.onInputKeyDown = this.onInputKeyDown.bind(this);\r\n        this.onOverlayEnter = this.onOverlayEnter.bind(this);\r\n        this.onOverlayEntered = this.onOverlayEntered.bind(this);\r\n        this.onOverlayExit = this.onOverlayExit.bind(this);\r\n        this.onOptionSelect = this.onOptionSelect.bind(this);\r\n        this.onOptionGroupSelect = this.onOptionGroupSelect.bind(this);\r\n        this.onPanelClick = this.onPanelClick.bind(this);\r\n    }\r\n\r\n    onOptionSelect(event) {\r\n        if (this.props.onChange) {\r\n            this.props.onChange({\r\n                originalEvent: event,\r\n                value: event.value\r\n            })\r\n        }\r\n\r\n        this.updateSelectionPath();\r\n        this.hide();\r\n        this.focusInput.focus();\r\n    }\r\n\r\n    onOptionGroupSelect(event) {\r\n        this.dirty = true;\r\n\r\n        if (this.props.onGroupChange) {\r\n            this.props.onGroupChange(event);\r\n        }\r\n    }\r\n\r\n    getOptionLabel(option) {\r\n        return this.props.optionLabel ? ObjectUtils.resolveFieldData(option, this.props.optionLabel) : option;\r\n    }\r\n\r\n    getOptionValue(option) {\r\n        return this.props.optionValue ? ObjectUtils.resolveFieldData(option, this.props.optionValue) : option;\r\n    }\r\n\r\n    getOptionGroupChildren(optionGroup, level) {\r\n        return ObjectUtils.resolveFieldData(optionGroup, this.props.optionGroupChildren[level]);\r\n    }\r\n\r\n    isOptionGroup(option, level) {\r\n        return Object.prototype.hasOwnProperty.call(option, this.props.optionGroupChildren[level]);\r\n    }\r\n\r\n    updateSelectionPath() {\r\n        let path;\r\n        if (this.props.value != null && this.props.options) {\r\n            for (let option of this.props.options) {\r\n                path = this.findModelOptionInGroup(option, 0);\r\n                if (path) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.selectionPath = path;\r\n    }\r\n\r\n    findModelOptionInGroup(option, level) {\r\n        if (this.isOptionGroup(option, level)) {\r\n            let selectedOption;\r\n            for (let childOption of this.getOptionGroupChildren(option, level)) {\r\n                selectedOption = this.findModelOptionInGroup(childOption, level + 1);\r\n                if (selectedOption) {\r\n                    selectedOption.unshift(option);\r\n                    return selectedOption;\r\n                }\r\n            }\r\n        }\r\n        else if ((ObjectUtils.equals(this.props.value, this.getOptionValue(option), this.props.dataKey))) {\r\n            return [option];\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    onClick(event) {\r\n        if (this.props.disabled) {\r\n            return;\r\n        }\r\n\r\n        const overlay = this.overlayRef ? this.overlayRef.current : null;\r\n        if (!overlay || !overlay.contains(event.target)) {\r\n            this.focusInput.focus();\r\n\r\n            if (this.state.overlayVisible) {\r\n                this.hide();\r\n            }\r\n            else {\r\n                this.show();\r\n            }\r\n        }\r\n    }\r\n\r\n    onInputFocus() {\r\n        this.setState({ focused: true });\r\n    }\r\n\r\n    onInputBlur() {\r\n        this.setState({ focused: false });\r\n    }\r\n\r\n    onInputKeyDown(event) {\r\n        switch (event.key) {\r\n            case 'Down':\r\n            case 'ArrowDown':\r\n                if (this.state.overlayVisible) {\r\n                    DomHandler.findSingle(this.overlayRef.current, '.p-cascadeselect-item').children[0].focus();\r\n                }\r\n                else if (event.altKey && this.props.options && this.props.options.length) {\r\n                    this.show();\r\n                }\r\n                event.preventDefault();\r\n                break;\r\n\r\n            case 'Escape':\r\n                if (this.state.overlayVisible) {\r\n                    this.hide();\r\n                    event.preventDefault();\r\n                }\r\n                break;\r\n\r\n            case 'Tab':\r\n                this.hide();\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    onPanelClick(event) {\r\n        OverlayEventBus.emit('overlay-click', {\r\n            originalEvent: event,\r\n            target: this.container\r\n        });\r\n    }\r\n\r\n    show() {\r\n        if (this.props.onBeforeShow) {\r\n            this.props.onBeforeShow();\r\n        }\r\n        this.setState({ overlayVisible: true });\r\n    }\r\n\r\n    hide() {\r\n        if (this.props.onBeforeHide) {\r\n            this.props.onBeforeHide();\r\n        }\r\n        this.setState({ overlayVisible: false });\r\n    }\r\n\r\n    onOverlayEnter() {\r\n        this.overlayRef.current.style.zIndex = String(DomHandler.generateZIndex());\r\n        this.alignOverlay();\r\n    }\r\n\r\n    onOverlayEntered() {\r\n        this.bindOutsideClickListener();\r\n        this.bindScrollListener();\r\n        this.bindResizeListener();\r\n        if (this.props.onShow) {\r\n            this.props.onShow();\r\n        }\r\n    }\r\n\r\n    onOverlayExit() {\r\n        this.unbindOutsideClickListener();\r\n        this.unbindScrollListener();\r\n        this.unbindResizeListener();\r\n        this.dirty = false;\r\n        if (this.props.onHide) {\r\n            this.props.onHide();\r\n        }\r\n    }\r\n\r\n    alignOverlay() {\r\n        const container = this.input.parentElement;\r\n        if (this.props.appendTo) {\r\n            DomHandler.absolutePosition(this.overlayRef.current, container);\r\n            this.overlayRef.current.style.minWidth = DomHandler.getOuterWidth(container) + 'px';\r\n        }\r\n        else {\r\n            DomHandler.relativePosition(this.overlayRef.current, container);\r\n        }\r\n    }\r\n\r\n    bindOutsideClickListener() {\r\n        if (!this.outsideClickListener) {\r\n            this.outsideClickListener = (event) => {\r\n                if (this.state.overlayVisible && this.isOutsideClicked(event)) {\r\n                    this.hide();\r\n                }\r\n            };\r\n            document.addEventListener('click', this.outsideClickListener);\r\n        }\r\n    }\r\n\r\n    unbindOutsideClickListener() {\r\n        if (this.outsideClickListener) {\r\n            document.removeEventListener('click', this.outsideClickListener);\r\n            this.outsideClickListener = null;\r\n        }\r\n    }\r\n\r\n    bindScrollListener() {\r\n        if (!this.scrollHandler) {\r\n            this.scrollHandler = new ConnectedOverlayScrollHandler(this.container, () => {\r\n                if (this.state.overlayVisible) {\r\n                    this.hide();\r\n                }\r\n            });\r\n        }\r\n\r\n        this.scrollHandler.bindScrollListener();\r\n    }\r\n\r\n    unbindScrollListener() {\r\n        if (this.scrollHandler) {\r\n            this.scrollHandler.unbindScrollListener();\r\n        }\r\n    }\r\n\r\n    bindResizeListener() {\r\n        if (!this.resizeListener) {\r\n            this.resizeListener = () => {\r\n                if (this.state.overlayVisible) {\r\n                    this.hide();\r\n                }\r\n            };\r\n            window.addEventListener('resize', this.resizeListener);\r\n        }\r\n    }\r\n\r\n    unbindResizeListener() {\r\n        if (this.resizeListener) {\r\n            window.removeEventListener('resize', this.resizeListener);\r\n            this.resizeListener = null;\r\n        }\r\n    }\r\n\r\n    isOutsideClicked(event) {\r\n        return this.container && !(this.container.isSameNode(event.target) || this.container.contains(event.target)\r\n            || (this.overlayRef && this.overlayRef.current.contains(event.target)));\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateSelectionPath();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.unbindOutsideClickListener();\r\n        this.unbindResizeListener();\r\n\r\n        if (this.scrollHandler) {\r\n            this.scrollHandler.destroy();\r\n            this.scrollHandler = null;\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.value !== this.props.value) {\r\n            this.updateSelectionPath();\r\n        }\r\n    }\r\n\r\n    renderKeyboardHelper() {\r\n        return (\r\n            <div className=\"p-hidden-accessible\">\r\n                <input ref={(el) => this.focusInput = el} type=\"text\" id={this.props.inputId} readOnly disabled={this.props.disabled}\r\n                    onFocus={this.onInputFocus} onBlur={this.onInputBlur} onKeyDown={this.onInputKeyDown}\r\n                    tabIndex={this.props.tabIndex} aria-haspopup=\"listbox\" aria-labelledby={this.props.ariaLabelledBy} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderLabel(value) {\r\n        let label = value ? this.getOptionLabel(this.props.value) : this.props.placeholder || 'p-emptylabel';\r\n        let labelClassName = classNames('p-cascadeselect-label ', {\r\n            'p-placeholder': label === this.props.placeholder,\r\n            'p-cascadeselect-label-empty': !this.props.value && label === 'p-emptylabel'\r\n        });\r\n\r\n        return <span ref={(el) => this.input = el} className={labelClassName}>{label}</span>;\r\n    }\r\n\r\n    renderDropdownIcon() {\r\n        return (\r\n            <div className=\"p-cascadeselect-trigger\" role=\"button\" aria-haspopup=\"listbox\" aria-expanded={this.state.overlayVisible}>\r\n                <span className=\"p-cascadeselect-trigger-icon pi pi-chevron-down\"></span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderOverlay() {\r\n        const overlay = (\r\n            <CSSTransition nodeRef={this.overlayRef} classNames=\"p-connected-overlay\" in={this.state.overlayVisible} timeout={{ enter: 120, exit: 100 }}\r\n                unmountOnExit onEnter={this.onOverlayEnter} onEntered={this.onOverlayEntered} onExit={this.onOverlayExit}>\r\n                <div ref={this.overlayRef} className=\"p-cascadeselect-panel p-component\" onClick={this.onPanelClick}>\r\n                    <div className=\"p-cascadeselect-items-wrapper\">\r\n                        <CascadeSelectSub options={this.props.options} selectionPath={this.selectionPath} className={\"p-cascadeselect-items\"} optionLabel={this.props.optionLabel}\r\n                            optionValue={this.props.optionValue} level={0} optionGroupLabel={this.props.optionGroupLabel} optionGroupChildren={this.props.optionGroupChildren}\r\n                            onOptionSelect={this.onOptionSelect} onOptionGroupSelect={this.onOptionGroupSelect} root template={this.props.itemTemplate} />\r\n                    </div>\r\n                </div>\r\n            </CSSTransition>\r\n        );\r\n\r\n        return this.props.appendTo ? ReactDOM.createPortal(overlay, this.props.appendTo) : overlay;\r\n    }\r\n\r\n    renderElement() {\r\n        let className = classNames('p-cascadeselect p-component p-inputwrapper', this.props.className, {\r\n            'p-disabled': this.props.disabled,\r\n            'p-focus': this.state.focused,\r\n            'p-inputwrapper-filled': this.props.value,\r\n            'p-inputwrapper-focus': this.state.focused || this.state.overlayVisible\r\n        });\r\n\r\n        let keyboardHelper = this.renderKeyboardHelper();\r\n        let labelElement = this.renderLabel(this.props.value);\r\n        let dropdownIcon = this.renderDropdownIcon();\r\n        let overlay = this.renderOverlay();\r\n\r\n        return (\r\n            <div id={this.id} ref={(el) => this.container = el} className={className} style={this.props.style} onClick={this.onClick}>\r\n                {keyboardHelper}\r\n                {labelElement}\r\n                {dropdownIcon}\r\n                {overlay}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const element = this.renderElement();\r\n\r\n        return element;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}