{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\src\\\\components\\\\datascroller\\\\DataScroller.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { classNames } from '../utils/ClassNames';\nexport var DataScroller = /*#__PURE__*/function (_Component) {\n  _inherits(DataScroller, _Component);\n\n  var _super = _createSuper(DataScroller);\n\n  function DataScroller(props) {\n    var _this;\n\n    _classCallCheck(this, DataScroller);\n\n    _this = _super.call(this, props);\n    _this.state = {};\n    _this.dataToRender = [];\n    _this.value = _this.props.value;\n    _this.first = 0;\n    return _this;\n  }\n\n  _createClass(DataScroller, [{\n    key: \"handleDataChange\",\n    value: function handleDataChange() {\n      if (this.props.lazy) {\n        this.dataToRender = this.value;\n        this.setState({\n          dataToRender: this.dataToRender\n        });\n      } else {\n        this.load();\n      }\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      if (this.props.lazy) {\n        if (this.props.onLazyLoad) {\n          this.props.onLazyLoad(this.createLazyLoadMetadata());\n        }\n\n        this.first = this.first + this.props.rows;\n      } else {\n        if (this.value) {\n          for (var i = this.first; i < this.first + this.props.rows; i++) {\n            if (i >= this.value.length) {\n              break;\n            }\n\n            this.dataToRender.push(this.value[i]);\n          }\n\n          this.first = this.first + this.props.rows;\n          this.setState({\n            dataToRender: this.dataToRender\n          });\n        }\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.first = 0;\n      this.dataToRender = [];\n      this.setState({\n        dataToRender: this.dataToRender\n      });\n      this.load();\n    }\n  }, {\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      return !this.dataToRender || this.dataToRender.length === 0;\n    }\n  }, {\n    key: \"createLazyLoadMetadata\",\n    value: function createLazyLoadMetadata() {\n      return {\n        first: this.first,\n        rows: this.props.rows\n      };\n    }\n  }, {\n    key: \"bindScrollListener\",\n    value: function bindScrollListener() {\n      var _this2 = this;\n\n      if (this.props.inline) {\n        this.scrollFunction = function () {\n          var scrollTop = _this2.contentElement.scrollTop,\n              scrollHeight = _this2.contentElement.scrollHeight,\n              viewportHeight = _this2.contentElement.clientHeight;\n\n          if (scrollTop >= scrollHeight * _this2.props.buffer - viewportHeight) {\n            _this2.load();\n          }\n        };\n\n        this.contentElement.addEventListener('scroll', this.scrollFunction);\n      } else {\n        this.scrollFunction = function () {\n          var docBody = document.body,\n              docElement = document.documentElement,\n              scrollTop = window.pageYOffset || document.documentElement.scrollTop,\n              winHeight = docElement.clientHeight,\n              docHeight = Math.max(docBody.scrollHeight, docBody.offsetHeight, winHeight, docElement.scrollHeight, docElement.offsetHeight);\n\n          if (scrollTop >= docHeight * _this2.props.buffer - winHeight) {\n            _this2.load();\n          }\n        };\n\n        window.addEventListener('scroll', this.scrollFunction);\n      }\n    }\n  }, {\n    key: \"unbindScrollListener\",\n    value: function unbindScrollListener() {\n      if (this.scrollFunction) {\n        if (this.props.inline) {\n          this.contentElement.removeEventListener('scroll', this.scrollFunction);\n          this.contentElement = null;\n        } else if (!this.props.loader) {\n          window.removeEventListener('scroll', this.scrollFunction);\n        }\n      }\n\n      this.scrollFunction = null;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.load();\n\n      if (!this.props.loader) {\n        this.bindScrollListener();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var newValue = this.props.value;\n\n      if (newValue && this.value !== newValue) {\n        this.value = newValue;\n        this.handleDataChange();\n      }\n\n      if (prevProps.loader !== this.props.loader && this.props.loader) {\n        this.unbindScrollListener();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.scrollFunction) {\n        this.unbindScrollListener();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var className = classNames('p-datascroller p-component', this.props.className, {\n        'p-datascroller-inline': this.props.inline\n      });\n      var header = this.props.header && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-datascroller-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 45\n        }\n      }, \" \", this.props.header),\n          footer = this.props.footer && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-datascroller-footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 43\n        }\n      }, \" \", this.props.footer, \" \"),\n          content = /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(el) {\n          return _this3.contentElement = el;\n        },\n        className: \"p-datascroller-content\",\n        style: {\n          'maxHeight': this.props.scrollHeight\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"p-datascroller-list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }\n      }, this.state.dataToRender && this.state.dataToRender.map(function (val, i) {\n        var listItemContent = _this3.props.itemTemplate ? _this3.props.itemTemplate(val) : val;\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: i + '_datascrollitem',\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 37\n          }\n        }, listItemContent);\n      })));\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: this.props.id,\n        className: className,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }\n      }, header, content, footer);\n    }\n  }]);\n\n  return DataScroller;\n}(Component);\nDataScroller.defaultProps = {\n  id: null,\n  value: null,\n  rows: 0,\n  inline: false,\n  scrollHeight: null,\n  loader: false,\n  buffer: 0.9,\n  style: null,\n  className: null,\n  onLazyLoad: null,\n  itemTemplate: null,\n  header: null,\n  footer: null,\n  lazy: false\n};\nDataScroller.propTypes = {\n  id: PropTypes.string,\n  value: PropTypes.array,\n  rows: PropTypes.number,\n  inline: PropTypes.bool,\n  scrollHeight: PropTypes.any,\n  loader: PropTypes.bool,\n  buffer: PropTypes.number,\n  style: PropTypes.object,\n  className: PropTypes.string,\n  onLazyLoad: PropTypes.func,\n  itemTemplate: PropTypes.func,\n  header: PropTypes.any,\n  footer: PropTypes.any,\n  lazy: PropTypes.bool\n};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/components/datascroller/DataScroller.js"],"names":["React","Component","PropTypes","classNames","DataScroller","props","state","dataToRender","value","first","lazy","setState","load","onLazyLoad","createLazyLoadMetadata","rows","i","length","push","inline","scrollFunction","scrollTop","contentElement","scrollHeight","viewportHeight","clientHeight","buffer","addEventListener","docBody","document","body","docElement","documentElement","window","pageYOffset","winHeight","docHeight","Math","max","offsetHeight","removeEventListener","loader","bindScrollListener","prevProps","prevState","newValue","handleDataChange","unbindScrollListener","className","header","footer","content","el","map","val","listItemContent","itemTemplate","id","defaultProps","style","propTypes","string","array","number","bool","any","object","func"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../utils/ClassNames';\r\n\r\nexport class DataScroller extends Component {\r\n\r\n    static defaultProps = {\r\n        id: null,\r\n        value: null,\r\n        rows: 0,\r\n        inline: false,\r\n        scrollHeight: null,\r\n        loader: false,\r\n        buffer: 0.9,\r\n        style: null,\r\n        className: null,\r\n        onLazyLoad: null,\r\n        itemTemplate: null,\r\n        header: null,\r\n        footer: null,\r\n        lazy: false\r\n    }\r\n\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        value: PropTypes.array,\r\n        rows: PropTypes.number,\r\n        inline: PropTypes.bool,\r\n        scrollHeight: PropTypes.any,\r\n        loader: PropTypes.bool,\r\n        buffer: PropTypes.number,\r\n        style: PropTypes.object,\r\n        className: PropTypes.string,\r\n        onLazyLoad: PropTypes.func,\r\n        itemTemplate: PropTypes.func,\r\n        header: PropTypes.any,\r\n        footer: PropTypes.any,\r\n        lazy: PropTypes.bool\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.dataToRender = [];\r\n        this.value = this.props.value;\r\n        this.first = 0;\r\n    }\r\n\r\n    handleDataChange() {\r\n        if (this.props.lazy) {\r\n            this.dataToRender = this.value;\r\n            this.setState({ dataToRender: this.dataToRender });\r\n        }\r\n        else {\r\n            this.load();\r\n        }\r\n    }\r\n\r\n    load() {\r\n        if (this.props.lazy) {\r\n            if (this.props.onLazyLoad) {\r\n                this.props.onLazyLoad(this.createLazyLoadMetadata());\r\n            }\r\n\r\n            this.first = this.first + this.props.rows;\r\n        }\r\n        else {\r\n            if (this.value) {\r\n                for (let i = this.first; i < (this.first + this.props.rows); i++) {\r\n                    if (i >= this.value.length) {\r\n                        break;\r\n                    }\r\n\r\n                    this.dataToRender.push(this.value[i]);\r\n                }\r\n\r\n                this.first = this.first + this.props.rows;\r\n                this.setState({ dataToRender: this.dataToRender });\r\n            }\r\n        }\r\n    }\r\n\r\n    reset() {\r\n        this.first = 0;\r\n        this.dataToRender = [];\r\n        this.setState({ dataToRender: this.dataToRender });\r\n        this.load();\r\n    }\r\n\r\n    isEmpty() {\r\n        return !this.dataToRender || (this.dataToRender.length === 0);\r\n    }\r\n\r\n    createLazyLoadMetadata() {\r\n        return {\r\n            first: this.first,\r\n            rows: this.props.rows\r\n        };\r\n    }\r\n\r\n    bindScrollListener() {\r\n        if (this.props.inline) {\r\n            this.scrollFunction = () => {\r\n                let scrollTop = this.contentElement.scrollTop,\r\n                    scrollHeight = this.contentElement.scrollHeight,\r\n                    viewportHeight = this.contentElement.clientHeight;\r\n\r\n                if ((scrollTop >= ((scrollHeight * this.props.buffer) - (viewportHeight)))) {\r\n                    this.load();\r\n                }\r\n            }\r\n\r\n            this.contentElement.addEventListener('scroll', this.scrollFunction);\r\n        }\r\n        else {\r\n            this.scrollFunction = () => {\r\n                let docBody = document.body,\r\n                    docElement = document.documentElement,\r\n                    scrollTop = (window.pageYOffset || document.documentElement.scrollTop),\r\n                    winHeight = docElement.clientHeight,\r\n                    docHeight = Math.max(docBody.scrollHeight, docBody.offsetHeight, winHeight, docElement.scrollHeight, docElement.offsetHeight);\r\n\r\n                if (scrollTop >= ((docHeight * this.props.buffer) - winHeight)) {\r\n                    this.load();\r\n                }\r\n            }\r\n\r\n            window.addEventListener('scroll', this.scrollFunction);\r\n        }\r\n    }\r\n\r\n    unbindScrollListener() {\r\n        if (this.scrollFunction) {\r\n            if (this.props.inline) {\r\n                this.contentElement.removeEventListener('scroll', this.scrollFunction);\r\n                this.contentElement = null;\r\n            }\r\n            else if (!this.props.loader) {\r\n                window.removeEventListener('scroll', this.scrollFunction);\r\n            }\r\n        }\r\n\r\n        this.scrollFunction = null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.load();\r\n\r\n        if (!this.props.loader) {\r\n            this.bindScrollListener();\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        let newValue = this.props.value;\r\n        if (newValue && this.value !== newValue) {\r\n            this.value = newValue;\r\n\r\n            this.handleDataChange();\r\n        }\r\n\r\n        if (prevProps.loader !== this.props.loader && this.props.loader) {\r\n            this.unbindScrollListener();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.scrollFunction) {\r\n            this.unbindScrollListener();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const className = classNames('p-datascroller p-component', this.props.className, {\r\n            'p-datascroller-inline': this.props.inline\r\n        });\r\n\r\n        const header = this.props.header && <div className=\"p-datascroller-header\"> {this.props.header}</div>,\r\n            footer = this.props.footer && <div className=\"p-datascroller-footer\"> {this.props.footer} </div>,\r\n            content = (\r\n                <div ref={(el) => this.contentElement = el} className=\"p-datascroller-content\" style={{ 'maxHeight': this.props.scrollHeight }}>\r\n                    <ul className=\"p-datascroller-list\">\r\n                        {\r\n                            this.state.dataToRender && this.state.dataToRender.map((val, i) => {\r\n                                const listItemContent = this.props.itemTemplate ? this.props.itemTemplate(val) : val;\r\n                                return (\r\n                                    <li key={i + '_datascrollitem'}>\r\n                                        {listItemContent}\r\n                                    </li>\r\n                                );\r\n                            })\r\n                        }\r\n                    </ul>\r\n                </div>\r\n            );\r\n\r\n        return (\r\n            <div id={this.props.id} className={className}>\r\n                {header}\r\n                {content}\r\n                {footer}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}