{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\src\\\\components\\\\deferredcontent\\\\DeferredContent.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nexport var DeferredContent = /*#__PURE__*/function (_Component) {\n  _inherits(DeferredContent, _Component);\n\n  var _super = _createSuper(DeferredContent);\n\n  function DeferredContent() {\n    var _this;\n\n    _classCallCheck(this, DeferredContent);\n\n    _this = _super.call(this);\n    _this.state = {\n      loaded: false\n    };\n    return _this;\n  }\n\n  _createClass(DeferredContent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.state.loaded) {\n        if (this.shouldLoad()) this.load();else this.bindScrollListener();\n      }\n    }\n  }, {\n    key: \"bindScrollListener\",\n    value: function bindScrollListener() {\n      var _this2 = this;\n\n      this.documentScrollListener = function () {\n        if (_this2.shouldLoad()) {\n          _this2.load();\n\n          _this2.unbindScrollListener();\n        }\n      };\n\n      window.addEventListener('scroll', this.documentScrollListener);\n    }\n  }, {\n    key: \"unbindScrollListener\",\n    value: function unbindScrollListener() {\n      if (this.documentScrollListener) {\n        window.removeEventListener('scroll', this.documentScrollListener);\n        this.documentScrollListener = null;\n      }\n    }\n  }, {\n    key: \"shouldLoad\",\n    value: function shouldLoad() {\n      if (this.state.loaded) {\n        return false;\n      } else {\n        var rect = this.container.getBoundingClientRect();\n        var docElement = document.documentElement;\n        var winHeight = docElement.clientHeight;\n        return winHeight >= rect.top;\n      }\n    }\n  }, {\n    key: \"load\",\n    value: function load(event) {\n      this.setState({\n        loaded: true\n      });\n\n      if (this.props.onLoad) {\n        this.props.onLoad(event);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unbindScrollListener();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(el) {\n          return _this3.container = el;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      }, this.state.loaded ? this.props.children : null);\n    }\n  }]);\n\n  return DeferredContent;\n}(Component);\nDeferredContent.defaultProps = {\n  onload: null\n};\nDeferredContent.propTypes = {\n  onLoad: PropTypes.func\n};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/slotmaster-dashboard/src/components/deferredcontent/DeferredContent.js"],"names":["React","Component","PropTypes","DeferredContent","state","loaded","shouldLoad","load","bindScrollListener","documentScrollListener","unbindScrollListener","window","addEventListener","removeEventListener","rect","container","getBoundingClientRect","docElement","document","documentElement","winHeight","clientHeight","top","event","setState","props","onLoad","el","children","defaultProps","onload","propTypes","func"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,WAAaC,eAAb;AAAA;;AAAA;;AAUI,6BAAc;AAAA;;AAAA;;AACV;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE;AADC,KAAb;AAFU;AAKb;;AAfL;AAAA;AAAA,WAiBI,6BAAoB;AAChB,UAAI,CAAC,KAAKD,KAAL,CAAWC,MAAhB,EAAwB;AACpB,YAAI,KAAKC,UAAL,EAAJ,EACI,KAAKC,IAAL,GADJ,KAGI,KAAKC,kBAAL;AACP;AACJ;AAxBL;AAAA;AAAA,WA0BI,8BAAqB;AAAA;;AACjB,WAAKC,sBAAL,GAA8B,YAAM;AAChC,YAAI,MAAI,CAACH,UAAL,EAAJ,EAAuB;AACnB,UAAA,MAAI,CAACC,IAAL;;AACA,UAAA,MAAI,CAACG,oBAAL;AACH;AACJ,OALD;;AAOAC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKH,sBAAvC;AACH;AAnCL;AAAA;AAAA,WAqCI,gCAAuB;AACnB,UAAI,KAAKA,sBAAT,EAAiC;AAC7BE,QAAAA,MAAM,CAACE,mBAAP,CAA2B,QAA3B,EAAqC,KAAKJ,sBAA1C;AACA,aAAKA,sBAAL,GAA8B,IAA9B;AACH;AACJ;AA1CL;AAAA;AAAA,WA4CI,sBAAa;AACT,UAAI,KAAKL,KAAL,CAAWC,MAAf,EAAuB;AACnB,eAAO,KAAP;AACH,OAFD,MAGK;AACD,YAAIS,IAAI,GAAG,KAAKC,SAAL,CAAeC,qBAAf,EAAX;AACA,YAAIC,UAAU,GAAGC,QAAQ,CAACC,eAA1B;AACA,YAAIC,SAAS,GAAGH,UAAU,CAACI,YAA3B;AAEA,eAAQD,SAAS,IAAIN,IAAI,CAACQ,GAA1B;AACH;AACJ;AAvDL;AAAA;AAAA,WAyDI,cAAKC,KAAL,EAAY;AACR,WAAKC,QAAL,CAAc;AAACnB,QAAAA,MAAM,EAAC;AAAR,OAAd;;AAEA,UAAI,KAAKoB,KAAL,CAAWC,MAAf,EAAuB;AACnB,aAAKD,KAAL,CAAWC,MAAX,CAAkBH,KAAlB;AACH;AACJ;AA/DL;AAAA;AAAA,WAiEI,gCAAuB;AACnB,WAAKb,oBAAL;AACH;AAnEL;AAAA;AAAA,WAqEI,kBAAS;AAAA;;AACL,0BACI;AAAK,QAAA,GAAG,EAAE,aAACiB,EAAD;AAAA,iBAAQ,MAAI,CAACZ,SAAL,GAAiBY,EAAzB;AAAA,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKvB,KAAL,CAAWC,MAAX,GAAoB,KAAKoB,KAAL,CAAWG,QAA/B,GAA0C,IAD/C,CADJ;AAKH;AA3EL;;AAAA;AAAA,EAAqC3B,SAArC;AAAaE,e,CAEF0B,Y,GAAe;AAClBC,EAAAA,MAAM,EAAE;AADU,C;AAFb3B,e,CAMF4B,S,GAAY;AACfL,EAAAA,MAAM,EAAExB,SAAS,CAAC8B;AADH,C","sourcesContent":["import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport class DeferredContent extends Component {\r\n\r\n    static defaultProps = {\r\n        onload: null\r\n    }\r\n\r\n    static propTypes = {\r\n        onLoad: PropTypes.func\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            loaded: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!this.state.loaded) {\r\n            if (this.shouldLoad())\r\n                this.load();\r\n            else\r\n                this.bindScrollListener();\r\n        }\r\n    }\r\n\r\n    bindScrollListener() {\r\n        this.documentScrollListener = () => {\r\n            if (this.shouldLoad()) {\r\n                this.load();\r\n                this.unbindScrollListener();\r\n            }\r\n        };\r\n\r\n        window.addEventListener('scroll', this.documentScrollListener);\r\n    }\r\n\r\n    unbindScrollListener() {\r\n        if (this.documentScrollListener) {\r\n            window.removeEventListener('scroll', this.documentScrollListener);\r\n            this.documentScrollListener = null;\r\n        }\r\n    }\r\n\r\n    shouldLoad() {\r\n        if (this.state.loaded) {\r\n            return false;\r\n        }\r\n        else {\r\n            let rect = this.container.getBoundingClientRect();\r\n            let docElement = document.documentElement;\r\n            let winHeight = docElement.clientHeight;\r\n    \r\n            return (winHeight >= rect.top);\r\n        }\r\n    }\r\n\r\n    load(event) {\r\n        this.setState({loaded:true});\r\n        \r\n        if (this.props.onLoad) {\r\n            this.props.onLoad(event);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.unbindScrollListener();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={(el) => this.container = el}>\r\n                {this.state.loaded ? this.props.children : null}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}