{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\src\\\\views\\\\transferProviders\\\\components\\\\providerActions.js\";\n\nimport { Column } from \"../../../components/column/Column\";\nimport { DataTable } from \"../../../components/datatable/DataTable\";\nimport React, { useEffect, useState } from \"react\";\nimport { Actions } from \"../../../core\";\nimport { ProgressBar } from \"../../../components/progressbar/ProgressBar\";\nimport classNames from \"classnames\";\nimport { confirmDialog } from \"../../../components/confirmdialog/ConfirmDialog\";\nimport { Button } from \"../../../components/button/Button\";\nimport { Dialog } from \"../../../components/dialog/Dialog\";\nimport { InputText } from \"../../../components/inputtext/InputText\";\nimport { Dropdown } from \"../../../components/dropdown/Dropdown\";\nexport var ProviderActions = function ProviderActions(_ref) {\n  var provider = _ref.provider,\n      onEvent = _ref.onEvent;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loader = _useState4[0],\n      setLoader = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      type = _useState6[0],\n      setType = _useState6[1];\n\n  var _useState7 = useState({\n    id: \"\",\n    name: \"\"\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      current = _useState8[0],\n      setCurrent = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      selected = _useState10[0],\n      setSelected = _useState10[1];\n\n  useEffect(function () {\n    if (provider) {\n      loadData(provider.id);\n    } else {\n      setData([]);\n    }\n  }, [provider]);\n  useEffect(function () {\n    if (selected) {\n      setCurrent(_objectSpread({}, selected));\n    }\n  }, [selected]);\n  useEffect(function () {\n    if (type === \"insert\") {\n      setCurrent({\n        id: \"\",\n        name: \"\"\n      });\n    }\n  }, [type]);\n\n  var loadData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoader(true);\n              _context.next = 3;\n              return Actions.Providers.Actions(id);\n\n            case 3:\n              response = _context.sent;\n              setLoader(false);\n              setData(response.status ? response.data.data : []);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function loadData(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var onDelete = function onDelete() {\n    if (selected) {\n      confirmDialog({\n        message: 'Do you want to delete this record?',\n        header: 'Delete Confirmation',\n        icon: 'pi pi-info-circle',\n        acceptClassName: 'p-button-danger',\n        accept: function () {\n          var _accept = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n            var response;\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.next = 2;\n                    return Actions.Providers.DeleteAction({\n                      actionId: selected.id,\n                      providerId: provider.id\n                    });\n\n                  case 2:\n                    response = _context2.sent;\n                    parseResponse(response);\n\n                  case 4:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          }));\n\n          function accept() {\n            return _accept.apply(this, arguments);\n          }\n\n          return accept;\n        }(),\n        reject: function reject() {\n          return console.log(\"reject\");\n        }\n      });\n    }\n  };\n\n  var parseResponse = function parseResponse(response) {\n    if (response.status) {\n      if (response.data.data === 1) {\n        loadData(provider.id);\n        onEvent({\n          severity: 'success',\n          summary: 'Success Message',\n          detail: 'Message Content',\n          life: 3000\n        });\n      } else {\n        onEvent({\n          severity: 'info',\n          summary: 'Rejected',\n          detail: 'Maybe this already deleted',\n          life: 3000\n        });\n      }\n    } else {\n      onEvent({\n        severity: 'error',\n        summary: 'Rejected',\n        detail: 'You have rejected',\n        life: 3000\n      });\n    }\n  };\n\n  var onAction = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(type === \"insert\")) {\n                _context3.next = 7;\n                break;\n              }\n\n              _context3.next = 3;\n              return Actions.Providers.InsertAction({\n                actionId: current.id,\n                providerId: provider.id,\n                name: current.name\n              });\n\n            case 3:\n              response = _context3.sent;\n              parseResponse({\n                status: response.status,\n                data: response.status ? {\n                  data: 1\n                } : {\n                  data: 0\n                }\n              });\n              _context3.next = 11;\n              break;\n\n            case 7:\n              _context3.next = 9;\n              return Actions.Providers.UpdateAction({\n                actionId: current.id,\n                providerId: provider.id,\n                name: current.name\n              });\n\n            case 9:\n              response = _context3.sent;\n              parseResponse({\n                status: response.status,\n                data: response.status ? {\n                  data: 1\n                } : {\n                  data: 0\n                }\n              });\n\n            case 11:\n              if (response.status) {\n                setType(null);\n              }\n\n            case 12:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function onAction() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var renderFooter = function renderFooter() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      label: \"No\",\n      icon: \"pi pi-times\",\n      onClick: function onClick() {\n        setType(null);\n      },\n      className: \"p-button-text\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      label: \"Yes\",\n      icon: \"pi pi-check\",\n      onClick: function onClick() {\n        return onAction();\n      },\n      autoFocus: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }));\n  };\n\n  var renderHeader = function renderHeader() {\n    return type === \"insert\" ? \"New Action(\".concat(provider.name, \")\") : \"Update Action (\".concat(provider.name, \")\");\n  };\n\n  var visible = function visible() {\n    if (!provider) {\n      return;\n    }\n\n    if (type === \"insert\") {\n      return true;\n    } else if (type === \"update\" && selected) {\n      return true;\n    }\n\n    return false;\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Dialog, {\n    header: renderHeader,\n    visible: visible(),\n    style: {\n      width: '50vw'\n    },\n    footer: renderFooter,\n    onHide: function onHide() {\n      return setType(null);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-fluid\",\n    style: {\n      height: \"\".concat(type === \"insert\" ? \"140px\" : \"70px\")\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, type === \"insert\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-field\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 43\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"id\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 29\n    }\n  }, \"Action Id\"), /*#__PURE__*/React.createElement(InputText, {\n    id: \"id\",\n    type: \"number\",\n    value: current.id,\n    onChange: function onChange(event) {\n      return setCurrent(_objectSpread(_objectSpread({}, current), {}, {\n        id: event.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-field\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"gName\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, \"Action Name\"), /*#__PURE__*/React.createElement(InputText, {\n    id: \"gName\",\n    type: \"text\",\n    value: current.name,\n    onChange: function onChange(event) {\n      return setCurrent(_objectSpread(_objectSpread({}, current), {}, {\n        name: event.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-box call\",\n    style: {\n      flex: '1',\n      marginLeft: '10px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, \"Provider Actions\"), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"pi pi-plus\",\n    onClick: function onClick() {\n      setSelected(null);\n      setType(\"insert\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"pi pi-pencil\",\n    onClick: function onClick() {\n      return setType(\"update\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"pi pi-trash\",\n    onClick: onDelete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-cont grid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, loader && /*#__PURE__*/React.createElement(ProgressBar, {\n    style: {\n      height: '6px'\n    },\n    mode: \"indeterminate\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 32\n    }\n  }), /*#__PURE__*/React.createElement(DataTable, {\n    selection: selected,\n    onSelectionChange: function onSelectionChange(e) {\n      return setSelected(e.value);\n    },\n    selectionMode: \"single\",\n    dataKey: \"id\",\n    scrollable: true,\n    value: data,\n    className: \"p-datatable-gridlines\",\n    rowClassName: function rowClassName(data) {\n      return {\n        'bg-red': data.disabled === 1\n      };\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Column, {\n    field: \"id\",\n    header: \"ID\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    field: \"name\",\n    header: \"Name\",\n    filter: true,\n    filterPlaceholder: \"Search by name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  })))));\n};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/views/transferProviders/components/providerActions.js"],"names":["Column","DataTable","React","useEffect","useState","Actions","ProgressBar","classNames","confirmDialog","Button","Dialog","InputText","Dropdown","ProviderActions","provider","onEvent","data","setData","loader","setLoader","type","setType","id","name","current","setCurrent","selected","setSelected","loadData","Providers","response","status","onDelete","message","header","icon","acceptClassName","accept","DeleteAction","actionId","providerId","parseResponse","reject","console","log","severity","summary","detail","life","onAction","InsertAction","UpdateAction","renderFooter","renderHeader","visible","width","height","event","target","value","flex","marginLeft","e","disabled"],"mappings":"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","sourcesContent":["import {Column} from \"../../../components/column/Column\";\r\nimport {DataTable} from \"../../../components/datatable/DataTable\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {Actions} from \"../../../core\";\r\nimport {ProgressBar} from \"../../../components/progressbar/ProgressBar\";\r\nimport classNames from \"classnames\";\r\nimport {confirmDialog} from \"../../../components/confirmdialog/ConfirmDialog\";\r\nimport {Button} from \"../../../components/button/Button\";\r\nimport {Dialog} from \"../../../components/dialog/Dialog\";\r\nimport {InputText} from \"../../../components/inputtext/InputText\";\r\nimport {Dropdown} from \"../../../components/dropdown/Dropdown\";\r\n\r\nexport const ProviderActions = ({provider,onEvent}) =>{\r\n    const [data,setData]=useState(null)\r\n    const [loader,setLoader]=useState(false)\r\n    const [type,setType]=useState(null)\r\n    const [current,setCurrent]=useState({\r\n        id:\"\",\r\n        name:\"\"\r\n    })\r\n    const [selected,setSelected]=useState(null)\r\n    useEffect(()=>{\r\n        if(provider){\r\n            loadData(provider.id)\r\n        }else {\r\n            setData([])\r\n        }\r\n    },[provider])\r\n    useEffect(()=>{\r\n        if(selected){\r\n            setCurrent({...selected})\r\n        }\r\n    },[selected])\r\n    useEffect(()=>{\r\n        if(type===\"insert\"){\r\n            setCurrent({\r\n                id:\"\",\r\n                name:\"\"\r\n            })\r\n        }\r\n\r\n    },[type])\r\n    const loadData = async (id) => {\r\n        setLoader(true)\r\n        const response = await Actions.Providers.Actions(id);\r\n        setLoader(false)\r\n        setData(response.status?response.data.data:[])\r\n    }\r\n    const onDelete=()=>{\r\n        if(selected){\r\n            confirmDialog({\r\n                message: 'Do you want to delete this record?',\r\n                header: 'Delete Confirmation',\r\n                icon: 'pi pi-info-circle',\r\n                acceptClassName: 'p-button-danger',\r\n                accept: async () => {\r\n                    const response = await Actions.Providers.DeleteAction({actionId:selected.id,providerId:provider.id})\r\n                    parseResponse(response)\r\n                },\r\n                reject: ()=>console.log(\"reject\")\r\n            });\r\n        }\r\n    }\r\n    const parseResponse = (response) =>{\r\n        if(response.status){\r\n            if(response.data.data===1){\r\n                loadData(provider.id);\r\n                onEvent({severity:'success', summary: 'Success Message', detail:'Message Content', life: 3000})\r\n            }else{\r\n                onEvent({ severity: 'info', summary: 'Rejected', detail: 'Maybe this already deleted', life: 3000 })\r\n            }\r\n        }else{\r\n            onEvent({ severity: 'error', summary: 'Rejected', detail: 'You have rejected', life: 3000 })\r\n        }\r\n    }\r\n    const onAction=async () => {\r\n        let response;\r\n        if (type === \"insert\") {\r\n            response = await Actions.Providers.InsertAction({actionId:current.id,providerId:provider.id,name:current.name})\r\n            parseResponse({\r\n                status:response.status,\r\n                data:response.status? {data:1}:{data:0}\r\n            })\r\n        } else {\r\n            response = await Actions.Providers.UpdateAction({actionId:current.id,providerId:provider.id,name:current.name})\r\n            parseResponse({\r\n                status:response.status,\r\n                data:response.status? {data:1}:{data:0}\r\n            })\r\n        }\r\n        if(response.status){\r\n            setType(null)\r\n        }\r\n    }\r\n    const renderFooter=()=>{\r\n        return (\r\n            <div>\r\n                <Button label=\"No\" icon=\"pi pi-times\" onClick={() => {\r\n                    setType(null);\r\n                }} className=\"p-button-text\" />\r\n                <Button label=\"Yes\" icon=\"pi pi-check\" onClick={() =>onAction()} autoFocus />\r\n            </div>\r\n        );\r\n    }\r\n    const renderHeader=()=>{\r\n        return  type===\"insert\"? `New Action(${provider.name})`:`Update Action (${provider.name})`\r\n    };\r\n    const visible=()=>{\r\n        if(!provider){\r\n            return;\r\n        }\r\n        if(type===\"insert\"){\r\n            return true;\r\n        }else if(type===\"update\" && selected){\r\n            return true;\r\n        }\r\n        return false\r\n    }\r\n    return (\r\n        <>\r\n            <Dialog header={renderHeader} visible={visible()} style={{ width: '50vw' }} footer={renderFooter} onHide={() => setType(null)}>\r\n                <div className=\"p-fluid\" style={{height:`${type===\"insert\"?\"140px\":\"70px\"}`}}>\r\n                    {\r\n                        type===\"insert\" &&<div className=\"p-field\">\r\n                            <label htmlFor=\"id\">Action Id</label>\r\n                            <InputText id=\"id\" type=\"number\"  value={current.id} onChange={event => setCurrent({...current,id:event.target.value})}/>\r\n                        </div>\r\n                    }\r\n\r\n                    <div className=\"p-field\">\r\n                        <label htmlFor=\"gName\">Action Name</label>\r\n                        <InputText id=\"gName\" type=\"text\"  value={current.name} onChange={event => setCurrent({...current,name:event.target.value})}/>\r\n                    </div>\r\n                </div>\r\n            </Dialog>\r\n\r\n            <div className=\"flex-box call\" style={{flex:'1',marginLeft:'10px'}}>\r\n                <div className=\"title\">\r\n                    <div>Provider Actions</div>\r\n                    <i className=\"pi pi-plus\" onClick={()=>{\r\n                        setSelected(null)\r\n                        setType(\"insert\")}}/>\r\n                    <i className=\"pi pi-pencil\" onClick={()=>setType(\"update\")}/>\r\n                    <i className=\"pi pi-trash\" onClick={onDelete}/>\r\n                </div>\r\n                <div className=\"flex-cont grid\">\r\n                    {loader && <ProgressBar style={{ height: '6px' }} mode=\"indeterminate\" />}\r\n                    <DataTable\r\n                        selection={selected} onSelectionChange={e => setSelected(e.value)} selectionMode=\"single\" dataKey=\"id\"\r\n                        scrollable value={data}  className=\"p-datatable-gridlines\" rowClassName={data => {\r\n                        return {\r\n                            'bg-red': data.disabled === 1\r\n                        }\r\n                    }}>\r\n                        <Column field=\"id\" header=\"ID\"/>\r\n                        <Column field=\"name\" header=\"Name\" filter  filterPlaceholder=\"Search by name\"/>\r\n                    </DataTable>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </>\r\n\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}