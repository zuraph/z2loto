{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\src\\\\views\\\\users\\\\components\\\\filter\\\\searchUser.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { AutoComplete } from \"../../../../components/autocomplete/AutoComplete\";\nimport { Actions } from \"../../../../core\";\nimport { Timeout } from \"../../../../core/utils/timeout\";\nexport var SearchUser = function SearchUser() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      countries = _useState2[0],\n      setCountries = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      value = _useState4[0],\n      setValue = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      filteredCountries = _useState6[0],\n      setFilteredCountries = _useState6[1];\n\n  var timeout = Timeout;\n\n  var findByUser = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(query) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return Actions.Users.findBy(query);\n\n            case 2:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function findByUser(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(); //const response =\n\n\n  var searchCountry = function searchCountry(event) {\n    if (event.query.length > 2) {\n      timeout.set(function () {\n        findByUser(event.query).then(function (response) {\n          setFilteredCountries(response.status ? response.data.data : []);\n        });\n        timeout.clear();\n      }, 500);\n    }\n  };\n\n  var itemTemplate = function itemTemplate(item) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"country-item\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }\n    }, item.id, \" - \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }\n    }, item.username));\n  };\n\n  return /*#__PURE__*/React.createElement(AutoComplete, {\n    value: value,\n    suggestions: filteredCountries,\n    completeMethod: searchCountry,\n    field: \"username\",\n    dropdown: true,\n    forceSelection: true,\n    placeholder: \"username\",\n    itemTemplate: itemTemplate,\n    onChange: function onChange(e) {\n      setValue(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  });\n};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/views/users/components/filter/searchUser.js"],"names":["React","useEffect","useState","AutoComplete","Actions","Timeout","SearchUser","countries","setCountries","value","setValue","filteredCountries","setFilteredCountries","timeout","findByUser","query","Users","findBy","searchCountry","event","length","set","then","response","status","data","clear","itemTemplate","item","id","username","e","target"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,YAAR,QAA2B,kDAA3B;AACA,SAAQC,OAAR,QAAsB,kBAAtB;AACA,SAAQC,OAAR,QAAsB,gCAAtB;AACA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAK;AAC3B,kBAA+BJ,QAAQ,CAAC,EAAD,CAAvC;AAAA;AAAA,MAAOK,SAAP;AAAA,MAAiBC,YAAjB;;AACA,mBAAuBN,QAAQ,CAAC,IAAD,CAA/B;AAAA;AAAA,MAAOO,KAAP;AAAA,MAAaC,QAAb;;AACA,mBAAgDR,QAAQ,CAAC,IAAD,CAAxD;AAAA;AAAA,MAAOS,iBAAP;AAAA,MAA0BC,oBAA1B;;AACA,MAAMC,OAAO,GAAER,OAAf;;AACA,MAAMS,UAAU;AAAA,wEAAG,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACDX,OAAO,CAACY,KAAR,CAAcC,MAAd,CAAqBF,KAArB,CADC;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVD,UAAU;AAAA;AAAA;AAAA,KAAhB,CAL2B,CAQ3B;;;AACA,MAAMI,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAW;AAC7B,QAAGA,KAAK,CAACJ,KAAN,CAAYK,MAAZ,GAAmB,CAAtB,EAAwB;AACpBP,MAAAA,OAAO,CAACQ,GAAR,CAAY,YAAI;AACZP,QAAAA,UAAU,CAACK,KAAK,CAACJ,KAAP,CAAV,CAAwBO,IAAxB,CAA6B,UAACC,QAAD,EAAY;AACrCX,UAAAA,oBAAoB,CAACW,QAAQ,CAACC,MAAT,GAAiBD,QAAQ,CAACE,IAAT,CAAcA,IAA/B,GAAoC,EAArC,CAApB;AACH,SAFD;AAGAZ,QAAAA,OAAO,CAACa,KAAR;AACH,OALD,EAKE,GALF;AAMH;AAEJ,GAVD;;AAYA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,IAAD,EAAU;AAC3B,wBACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMA,IAAI,CAACC,EAAX,QAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMD,IAAI,CAACE,QAAX,CALJ,CADJ;AASH,GAVD;;AAYA,sBACI,oBAAC,YAAD;AACI,IAAA,KAAK,EAAErB,KADX;AAEI,IAAA,WAAW,EAAEE,iBAFjB;AAGI,IAAA,cAAc,EAAEO,aAHpB;AAII,IAAA,KAAK,EAAC,UAJV;AAKI,IAAA,QAAQ,MALZ;AAMI,IAAA,cAAc,MANlB;AAOI,IAAA,WAAW,EAAE,UAPjB;AAQI,IAAA,YAAY,EAAES,YARlB;AASI,IAAA,QAAQ,EAAE,kBAACI,CAAD,EAAO;AACbrB,MAAAA,QAAQ,CAACqB,CAAC,CAACC,MAAF,CAASvB,KAAV,CAAR;AACH,KAXL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAiBH,CAlDM","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {AutoComplete} from \"../../../../components/autocomplete/AutoComplete\";\r\nimport {Actions} from \"../../../../core\";\r\nimport {Timeout} from \"../../../../core/utils/timeout\";\r\nexport const SearchUser = () =>{\r\n    const [countries,setCountries]=useState([])\r\n    const [value,setValue]=useState(null)\r\n    const [filteredCountries, setFilteredCountries]=useState(null)\r\n    const timeout= Timeout;\r\n    const findByUser = async (query)=>{\r\n        return await (Actions.Users.findBy(query))\r\n    }\r\n    //const response =\r\n    const searchCountry = (event) => {\r\n        if(event.query.length>2){\r\n            timeout.set(()=>{\r\n                findByUser(event.query).then((response)=>{\r\n                    setFilteredCountries(response.status? response.data.data:[]);\r\n                })\r\n                timeout.clear()\r\n            },500)\r\n        }\r\n\r\n    }\r\n\r\n    const itemTemplate = (item) => {\r\n        return (\r\n            <div className=\"country-item\">\r\n{/*\r\n                <img awaitlt={item.name} src={`showcase/demo/images/flag_placeholder.png`} onError={(e) => e.target.src='https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png'} className={`flag flag-${item.code.toLowerCase()}`} />\r\n*/}\r\n                <div>{item.id} - </div>\r\n                <div>{item.username}</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <AutoComplete\r\n            value={value}\r\n            suggestions={filteredCountries}\r\n            completeMethod={searchCountry}\r\n            field=\"username\"\r\n            dropdown\r\n            forceSelection\r\n            placeholder={\"username\"}\r\n            itemTemplate={itemTemplate}\r\n            onChange={(e) => {\r\n                setValue(e.target.value)\r\n            }}\r\n        />\r\n\r\n    )\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}