{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{classNames}from'../utils/ClassNames';import UniqueComponentId from'../utils/UniqueComponentId';import DomHandler from'../utils/DomHandler';export var SplitterPanel=/*#__PURE__*/function(_Component){_inherits(SplitterPanel,_Component);var _super=_createSuper(SplitterPanel);function SplitterPanel(){_classCallCheck(this,SplitterPanel);return _super.apply(this,arguments);}return SplitterPanel;}(Component);SplitterPanel.defaultProps={size:null,minSize:null,style:null,className:null};export var Splitter=/*#__PURE__*/function(_Component2){_inherits(Splitter,_Component2);var _super2=_createSuper(Splitter);function Splitter(props){var _this;_classCallCheck(this,Splitter);_this=_super2.call(this,props);_this.id=_this.props.id||UniqueComponentId();return _this;}_createClass(Splitter,[{key:\"bindMouseListeners\",value:function bindMouseListeners(){var _this2=this;if(!this.mouseMoveListener){this.mouseMoveListener=function(event){return _this2.onResize(event);};document.addEventListener('mousemove',this.mouseMoveListener);}if(!this.mouseUpListener){this.mouseUpListener=function(event){_this2.onResizeEnd(event);_this2.unbindMouseListeners();};document.addEventListener('mouseup',this.mouseUpListener);}}},{key:\"validateResize\",value:function validateResize(newPrevPanelSize,newNextPanelSize){if(this.props.children[0].props&&this.props.children[0].props.minSize&&this.props.children[0].props.minSize>newPrevPanelSize){return false;}if(this.props.children[1].props&&this.props.children[1].props.minSize&&this.props.children[1].props.minSize>newNextPanelSize){return false;}return true;}},{key:\"unbindMouseListeners\",value:function unbindMouseListeners(){if(this.mouseMoveListener){document.removeEventListener('mousemove',this.mouseMoveListener);this.mouseMoveListener=null;}if(this.mouseUpListener){document.removeEventListener('mouseup',this.mouseUpListener);this.mouseUpListener=null;}}},{key:\"clear\",value:function clear(){this.dragging=false;this.size=null;this.startPos=null;this.prevPanelElement=null;this.nextPanelElement=null;this.prevPanelSize=null;this.nextPanelSize=null;this.gutterElement=null;this.prevPanelIndex=null;}},{key:\"isStateful\",value:function isStateful(){return this.props.stateKey!=null;}},{key:\"getStorage\",value:function getStorage(){switch(this.props.stateStorage){case'local':return window.localStorage;case'session':return window.sessionStorage;default:throw new Error(this.props.stateStorage+' is not a valid value for the state storage, supported values are \"local\" and \"session\".');}}},{key:\"saveState\",value:function saveState(){this.getStorage().setItem(this.props.stateKey,JSON.stringify(this.panelSizes));}},{key:\"restoreState\",value:function restoreState(){var _this3=this;var storage=this.getStorage();var stateString=storage.getItem(this.props.stateKey);if(stateString){this.panelSizes=JSON.parse(stateString);var children=_toConsumableArray(this.container.children).filter(function(child){return DomHandler.hasClass(child,'p-splitter-panel');});children.forEach(function(child,i){child.style.flexBasis='calc('+_this3.panelSizes[i]+'% - '+(_this3.props.children.length-1)*_this3.props.gutterSize+'px)';});return true;}return false;}},{key:\"onResizeStart\",value:function onResizeStart(event,index){this.gutterElement=event.currentTarget;this.size=this.horizontal?DomHandler.getWidth(this.container):DomHandler.getHeight(this.container);this.dragging=true;this.startPos=this.props.layout==='horizontal'?event.pageX:event.pageY;this.prevPanelElement=this.gutterElement.previousElementSibling;this.nextPanelElement=this.gutterElement.nextElementSibling;this.prevPanelSize=100*(this.props.layout==='horizontal'?DomHandler.getOuterWidth(this.prevPanelElement,true):DomHandler.getOuterHeight(this.prevPanelElement,true))/this.size;this.nextPanelSize=100*(this.props.layout==='horizontal'?DomHandler.getOuterWidth(this.nextPanelElement,true):DomHandler.getOuterHeight(this.nextPanelElement,true))/this.size;this.prevPanelIndex=index;DomHandler.addClass(this.gutterElement,'p-splitter-gutter-resizing');DomHandler.addClass(this.container,'p-splitter-resizing');}},{key:\"onResize\",value:function onResize(event){var newPos;if(this.props.layout==='horizontal')newPos=event.pageX*100/this.size-this.startPos*100/this.size;else newPos=event.pageY*100/this.size-this.startPos*100/this.size;var newPrevPanelSize=this.prevPanelSize+newPos;var newNextPanelSize=this.nextPanelSize-newPos;if(this.validateResize(newPrevPanelSize,newNextPanelSize)){this.prevPanelElement.style.flexBasis='calc('+newPrevPanelSize+'% - '+(this.props.children.length-1)*this.props.gutterSize+'px)';this.nextPanelElement.style.flexBasis='calc('+newNextPanelSize+'% - '+(this.props.children.length-1)*this.props.gutterSize+'px)';this.panelSizes[this.prevPanelIndex]=newPrevPanelSize;this.panelSizes[this.prevPanelIndex+1]=newNextPanelSize;}}},{key:\"onResizeEnd\",value:function onResizeEnd(event){if(this.isStateful()){this.saveState();}if(this.props.onResizeEnd){this.props.onResizeEnd({originalEvent:event,sizes:this.panelSizes});}DomHandler.removeClass(this.gutterElement,'p-splitter-gutter-resizing');DomHandler.removeClass(this.container,'p-splitter-resizing');this.clear();}},{key:\"onGutterMouseDown\",value:function onGutterMouseDown(event,index){this.onResizeStart(event,index);this.bindMouseListeners();}},{key:\"onGutterTouchStart\",value:function onGutterTouchStart(event,index){this.onResizeStart(event,index);this.windowTouchMoveListener=this.onGutterTouchMove.bind(this);this.windowTouchEndListener=this.onGutterTouchEnd.bind(this);window.addEventListener('touchmove',this.windowTouchMoveListener,{passive:false,cancelable:false});window.addEventListener('touchend',this.windowTouchEndListener);}},{key:\"onGutterTouchMove\",value:function onGutterTouchMove(event){this.onResize(event);}},{key:\"onGutterTouchEnd\",value:function onGutterTouchEnd(event){this.onResizeEnd(event);window.removeEventListener('touchmove',this.windowTouchMoveListener);window.removeEventListener('touchend',this.windowTouchEndListener);this.windowTouchMoveListener=null;this.windowTouchEndListener=null;}},{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;if(this.panelElement){if(this.panelElement.childNodes&&DomHandler.find(this.panelElement,'.p-splitter')){DomHandler.addClass(this.panelElement,'p-splitter-panel-nested');}}if(this.props.children&&this.props.children.length){var initialized=false;if(this.isStateful()){initialized=this.restoreState();}if(!initialized){var children=_toConsumableArray(this.container.children).filter(function(child){return DomHandler.hasClass(child,'p-splitter-panel');});var _panelSizes=[];this.props.children.map(function(panel,i){var panelInitialSize=panel.props&&panel.props.size?panel.props.size:null;var panelSize=panelInitialSize||100/_this4.props.children.length;_panelSizes[i]=panelSize;children[i].style.flexBasis='calc('+panelSize+'% - '+(_this4.props.children.length-1)*_this4.props.gutterSize+'px)';return _panelSizes;});this.panelSizes=_panelSizes;}}}},{key:\"renderPanel\",value:function renderPanel(panel,index){var _this5=this;var panelClassName=classNames('p-splitter-panel',panel.props.className);var gutterStyle=this.props.layout==='horizontal'?{width:this.props.gutterSize+'px'}:{height:this.props.gutterSize+'px'};var gutter=index!==this.props.children.length-1&&/*#__PURE__*/React.createElement(\"div\",{ref:function ref(el){return _this5.gutterElement=el;},className:'p-splitter-gutter',style:gutterStyle,onMouseDown:function onMouseDown(event){return _this5.onGutterMouseDown(event,index);},onTouchStart:function onTouchStart(event){return _this5.onGutterTouchStart(event,index);},onTouchMove:function onTouchMove(event){return _this5.onGutterTouchMove(event);},onTouchEnd:function onTouchEnd(event){return _this5.onGutterTouchEnd(event);}},/*#__PURE__*/React.createElement(\"div\",{className:\"p-splitter-gutter-handle\"}));return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{ref:function ref(el){return _this5.panelElement=el;},key:index,className:panelClassName,style:panel.props.style},panel.props.children),gutter);}},{key:\"renderPanels\",value:function renderPanels(){var _this6=this;return React.Children.map(this.props.children,function(panel,index){return _this6.renderPanel(panel,index);});}},{key:\"render\",value:function render(){var _this7=this;var className=classNames(\"p-splitter p-component p-splitter-\".concat(this.props.layout),this.props.className);var panels=this.renderPanels();return/*#__PURE__*/React.createElement(\"div\",{ref:function ref(el){return _this7.container=el;},id:this.id,className:className,style:this.props.style},panels);}}]);return Splitter;}(Component);Splitter.defaultProps={id:null,className:null,style:null,layout:'horizontal',gutterSize:4,stateKey:null,stateStorage:'session',onResizeEnd:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/components/splitter/Splitter.js"],"names":["React","Component","classNames","UniqueComponentId","DomHandler","SplitterPanel","defaultProps","size","minSize","style","className","Splitter","props","id","mouseMoveListener","event","onResize","document","addEventListener","mouseUpListener","onResizeEnd","unbindMouseListeners","newPrevPanelSize","newNextPanelSize","children","removeEventListener","dragging","startPos","prevPanelElement","nextPanelElement","prevPanelSize","nextPanelSize","gutterElement","prevPanelIndex","stateKey","stateStorage","window","localStorage","sessionStorage","Error","getStorage","setItem","JSON","stringify","panelSizes","storage","stateString","getItem","parse","container","filter","child","hasClass","forEach","i","flexBasis","length","gutterSize","index","currentTarget","horizontal","getWidth","getHeight","layout","pageX","pageY","previousElementSibling","nextElementSibling","getOuterWidth","getOuterHeight","addClass","newPos","validateResize","isStateful","saveState","originalEvent","sizes","removeClass","clear","onResizeStart","bindMouseListeners","windowTouchMoveListener","onGutterTouchMove","bind","windowTouchEndListener","onGutterTouchEnd","passive","cancelable","panelElement","childNodes","find","initialized","restoreState","_panelSizes","map","panel","panelInitialSize","panelSize","panelClassName","gutterStyle","width","height","gutter","el","onGutterMouseDown","onGutterTouchStart","Children","renderPanel","panels","renderPanels"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport UniqueComponentId from '../utils/UniqueComponentId';\r\nimport DomHandler from '../utils/DomHandler';\r\n\r\nexport class SplitterPanel extends Component {\r\n\r\n    static defaultProps = {\r\n        size: null,\r\n        minSize: null,\r\n        style: null,\r\n        className: null\r\n    }\r\n\r\n    static propTypes = {\r\n        header: PropTypes.number,\r\n        minSize: PropTypes.number,\r\n        style: PropTypes.object,\r\n        className: PropTypes.string\r\n    }\r\n}\r\n\r\nexport class Splitter extends Component {\r\n\r\n    static defaultProps = {\r\n        id: null,\r\n        className: null,\r\n        style: null,\r\n        layout: 'horizontal',\r\n        gutterSize: 4,\r\n        stateKey: null,\r\n        stateStorage: 'session',\r\n        onResizeEnd: null\r\n    }\r\n\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        className: PropTypes.string,\r\n        style: PropTypes.object,\r\n        layout: PropTypes.string,\r\n        gutterSize: PropTypes.number,\r\n        stateKey: PropTypes.string,\r\n        stateStorage: PropTypes.string,\r\n        onResizeEnd: PropTypes.func\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.id = this.props.id || UniqueComponentId();\r\n    }\r\n\r\n    bindMouseListeners() {\r\n        if (!this.mouseMoveListener) {\r\n            this.mouseMoveListener = event => this.onResize(event)\r\n            document.addEventListener('mousemove', this.mouseMoveListener);\r\n        }\r\n\r\n        if (!this.mouseUpListener) {\r\n            this.mouseUpListener = event => {\r\n                this.onResizeEnd(event);\r\n                this.unbindMouseListeners();\r\n            }\r\n            document.addEventListener('mouseup', this.mouseUpListener);\r\n        }\r\n    }\r\n\r\n    validateResize(newPrevPanelSize, newNextPanelSize) {\r\n        if (this.props.children[0].props && this.props.children[0].props.minSize && this.props.children[0].props.minSize > newPrevPanelSize) {\r\n            return false;\r\n        }\r\n\r\n        if (this.props.children[1].props && this.props.children[1].props.minSize && this.props.children[1].props.minSize > newNextPanelSize) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    unbindMouseListeners() {\r\n        if (this.mouseMoveListener) {\r\n            document.removeEventListener('mousemove', this.mouseMoveListener);\r\n            this.mouseMoveListener = null;\r\n        }\r\n\r\n        if (this.mouseUpListener) {\r\n            document.removeEventListener('mouseup', this.mouseUpListener);\r\n            this.mouseUpListener = null;\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.dragging = false;\r\n        this.size = null;\r\n        this.startPos = null;\r\n        this.prevPanelElement = null;\r\n        this.nextPanelElement = null;\r\n        this.prevPanelSize = null;\r\n        this.nextPanelSize = null;\r\n        this.gutterElement = null;\r\n        this.prevPanelIndex = null;\r\n    }\r\n\r\n    isStateful() {\r\n        return this.props.stateKey != null;\r\n    }\r\n\r\n    getStorage() {\r\n        switch (this.props.stateStorage) {\r\n            case 'local':\r\n                return window.localStorage;\r\n\r\n            case 'session':\r\n                return window.sessionStorage;\r\n\r\n            default:\r\n                throw new Error(this.props.stateStorage + ' is not a valid value for the state storage, supported values are \"local\" and \"session\".');\r\n        }\r\n    }\r\n\r\n    saveState() {\r\n        this.getStorage().setItem(this.props.stateKey, JSON.stringify(this.panelSizes));\r\n    }\r\n\r\n    restoreState() {\r\n        const storage = this.getStorage();\r\n        const stateString = storage.getItem(this.props.stateKey);\r\n\r\n        if (stateString) {\r\n            this.panelSizes = JSON.parse(stateString);\r\n            let children = [...this.container.children].filter(child => DomHandler.hasClass(child, 'p-splitter-panel'));\r\n            children.forEach((child, i) => {\r\n                child.style.flexBasis = 'calc(' + this.panelSizes[i] + '% - ' + ((this.props.children.length - 1) * this.props.gutterSize) + 'px)';\r\n            });\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    onResizeStart(event, index) {\r\n        this.gutterElement = event.currentTarget;\r\n        this.size = this.horizontal ? DomHandler.getWidth(this.container) : DomHandler.getHeight(this.container);\r\n        this.dragging = true;\r\n        this.startPos = this.props.layout === 'horizontal' ? event.pageX : event.pageY;\r\n        this.prevPanelElement = this.gutterElement.previousElementSibling;\r\n        this.nextPanelElement = this.gutterElement.nextElementSibling;\r\n        this.prevPanelSize = 100 * (this.props.layout === 'horizontal' ? DomHandler.getOuterWidth(this.prevPanelElement, true) : DomHandler.getOuterHeight(this.prevPanelElement, true)) / this.size;\r\n        this.nextPanelSize = 100 * (this.props.layout === 'horizontal' ? DomHandler.getOuterWidth(this.nextPanelElement, true) : DomHandler.getOuterHeight(this.nextPanelElement, true)) / this.size;\r\n        this.prevPanelIndex = index;\r\n        DomHandler.addClass(this.gutterElement, 'p-splitter-gutter-resizing');\r\n        DomHandler.addClass(this.container, 'p-splitter-resizing');\r\n    }\r\n\r\n    onResize(event) {\r\n        let newPos;\r\n        if (this.props.layout === 'horizontal')\r\n            newPos = (event.pageX * 100 / this.size) - (this.startPos * 100 / this.size);\r\n        else\r\n            newPos = (event.pageY * 100 / this.size) - (this.startPos * 100 / this.size);\r\n\r\n        let newPrevPanelSize = this.prevPanelSize + newPos;\r\n        let newNextPanelSize = this.nextPanelSize - newPos;\r\n\r\n        if (this.validateResize(newPrevPanelSize, newNextPanelSize)) {\r\n            this.prevPanelElement.style.flexBasis = 'calc(' + newPrevPanelSize + '% - ' + ((this.props.children.length - 1) * this.props.gutterSize) + 'px)';\r\n            this.nextPanelElement.style.flexBasis = 'calc(' + newNextPanelSize + '% - ' + ((this.props.children.length - 1) * this.props.gutterSize) + 'px)';\r\n            this.panelSizes[this.prevPanelIndex] = newPrevPanelSize;\r\n            this.panelSizes[this.prevPanelIndex + 1] = newNextPanelSize;\r\n        }\r\n    }\r\n\r\n    onResizeEnd(event) {\r\n        if (this.isStateful()) {\r\n            this.saveState();\r\n        }\r\n\r\n        if (this.props.onResizeEnd) {\r\n            this.props.onResizeEnd({\r\n                originalEvent: event,\r\n                sizes: this.panelSizes\r\n            })\r\n        }\r\n\r\n        DomHandler.removeClass(this.gutterElement, 'p-splitter-gutter-resizing');\r\n        DomHandler.removeClass(this.container, 'p-splitter-resizing');\r\n        this.clear();\r\n    }\r\n\r\n    onGutterMouseDown(event, index) {\r\n        this.onResizeStart(event, index);\r\n        this.bindMouseListeners();\r\n    }\r\n\r\n    onGutterTouchStart(event, index) {\r\n        this.onResizeStart(event, index);\r\n\r\n        this.windowTouchMoveListener = this.onGutterTouchMove.bind(this);\r\n        this.windowTouchEndListener = this.onGutterTouchEnd.bind(this);\r\n        window.addEventListener('touchmove', this.windowTouchMoveListener, { passive: false, cancelable: false });\r\n        window.addEventListener('touchend', this.windowTouchEndListener);\r\n\r\n    }\r\n\r\n    onGutterTouchMove(event) {\r\n        this.onResize(event);\r\n    }\r\n\r\n    onGutterTouchEnd(event) {\r\n        this.onResizeEnd(event);\r\n\r\n        window.removeEventListener('touchmove', this.windowTouchMoveListener);\r\n        window.removeEventListener('touchend', this.windowTouchEndListener);\r\n        this.windowTouchMoveListener = null;\r\n        this.windowTouchEndListener = null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.panelElement) {\r\n            if (this.panelElement.childNodes && DomHandler.find(this.panelElement, '.p-splitter')) {\r\n                DomHandler.addClass(this.panelElement, 'p-splitter-panel-nested');\r\n            }\r\n        }\r\n\r\n        if (this.props.children && this.props.children.length) {\r\n            let initialized = false;\r\n            if (this.isStateful()) {\r\n                initialized = this.restoreState();\r\n            }\r\n\r\n            if (!initialized) {\r\n                let children = [...this.container.children].filter(child => DomHandler.hasClass(child, 'p-splitter-panel'));\r\n                let _panelSizes = [];\r\n\r\n                this.props.children.map((panel, i) => {\r\n                    let panelInitialSize = panel.props && panel.props.size ? panel.props.size : null;\r\n                    let panelSize = panelInitialSize || (100 / this.props.children.length);\r\n                    _panelSizes[i] = panelSize;\r\n                    children[i].style.flexBasis = 'calc(' + panelSize + '% - ' + ((this.props.children.length - 1) * this.props.gutterSize) + 'px)';\r\n                    return _panelSizes;\r\n                });\r\n\r\n                this.panelSizes = _panelSizes;\r\n            }\r\n        }\r\n    }\r\n\r\n    renderPanel(panel, index) {\r\n        const panelClassName = classNames('p-splitter-panel', panel.props.className);\r\n        const gutterStyle = this.props.layout === 'horizontal' ? { width: this.props.gutterSize + 'px' } : { height: this.props.gutterSize + 'px' }\r\n        const gutter = (index !== this.props.children.length - 1) && (\r\n            <div ref={(el) => this.gutterElement = el} className={'p-splitter-gutter'} style={gutterStyle} onMouseDown={event => this.onGutterMouseDown(event, index)}\r\n                onTouchStart={event => this.onGutterTouchStart(event, index)} onTouchMove={event => this.onGutterTouchMove(event)} onTouchEnd={event => this.onGutterTouchEnd(event)}>\r\n                <div className=\"p-splitter-gutter-handle\"></div>\r\n            </div>\r\n        );\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div ref={(el) => this.panelElement = el} key={index} className={panelClassName} style={panel.props.style}>\r\n                    {panel.props.children}\r\n                </div>\r\n                {gutter}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    renderPanels() {\r\n        return (\r\n            React.Children.map(this.props.children, (panel, index) => {\r\n                return this.renderPanel(panel, index);\r\n            })\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const className = classNames(`p-splitter p-component p-splitter-${this.props.layout}`, this.props.className);\r\n        const panels = this.renderPanels();\r\n\r\n        return (\r\n            <div ref={(el) => this.container = el} id={this.id} className={className} style={this.props.style}>\r\n                {panels}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}