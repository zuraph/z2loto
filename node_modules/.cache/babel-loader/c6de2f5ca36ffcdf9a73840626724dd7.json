{"ast":null,"code":"import _createForOfIteratorHelper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _toConsumableArray from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{InputText}from'../inputtext/InputText';import{Button}from'../button/Button';import{CalendarPanel}from'./CalendarPanel';import DomHandler from'../utils/DomHandler';import{classNames}from'../utils/ClassNames';import{tip}from'../tooltip/Tooltip';import{Ripple}from'../ripple/Ripple';import UniqueComponentId from'../utils/UniqueComponentId';import ConnectedOverlayScrollHandler from'../utils/ConnectedOverlayScrollHandler';import{localeOption,localeOptions}from'../api/Locale';import OverlayEventBus from'../overlayeventbus/OverlayEventBus';export var Calendar=/*#__PURE__*/function(_Component){_inherits(Calendar,_Component);var _super=_createSuper(Calendar);function Calendar(props){var _this;_classCallCheck(this,Calendar);_this=_super.call(this,props);_this.state={focused:false,overlayVisible:false};if(!_this.props.onViewDateChange){var propValue=_this.props.value;if(Array.isArray(propValue)){propValue=propValue[0];}var viewDate=_this.props.viewDate&&_this.isValidDate(_this.props.viewDate)?_this.props.viewDate:propValue&&_this.isValidDate(propValue)?propValue:new Date();_this.validateDate(viewDate);_this.state=_objectSpread(_objectSpread({},_this.state),{},{viewDate:viewDate});}_this.navigation=null;_this.onUserInput=_this.onUserInput.bind(_assertThisInitialized(_this));_this.onInputFocus=_this.onInputFocus.bind(_assertThisInitialized(_this));_this.onInputBlur=_this.onInputBlur.bind(_assertThisInitialized(_this));_this.onInputKeyDown=_this.onInputKeyDown.bind(_assertThisInitialized(_this));_this.onButtonClick=_this.onButtonClick.bind(_assertThisInitialized(_this));_this.onPrevButtonClick=_this.onPrevButtonClick.bind(_assertThisInitialized(_this));_this.onNextButtonClick=_this.onNextButtonClick.bind(_assertThisInitialized(_this));_this.onMonthDropdownChange=_this.onMonthDropdownChange.bind(_assertThisInitialized(_this));_this.onYearDropdownChange=_this.onYearDropdownChange.bind(_assertThisInitialized(_this));_this.onTodayButtonClick=_this.onTodayButtonClick.bind(_assertThisInitialized(_this));_this.onClearButtonClick=_this.onClearButtonClick.bind(_assertThisInitialized(_this));_this.onPanelClick=_this.onPanelClick.bind(_assertThisInitialized(_this));_this.incrementHour=_this.incrementHour.bind(_assertThisInitialized(_this));_this.decrementHour=_this.decrementHour.bind(_assertThisInitialized(_this));_this.incrementMinute=_this.incrementMinute.bind(_assertThisInitialized(_this));_this.decrementMinute=_this.decrementMinute.bind(_assertThisInitialized(_this));_this.incrementSecond=_this.incrementSecond.bind(_assertThisInitialized(_this));_this.decrementSecond=_this.decrementSecond.bind(_assertThisInitialized(_this));_this.toggleAmPm=_this.toggleAmPm.bind(_assertThisInitialized(_this));_this.onTimePickerElementMouseDown=_this.onTimePickerElementMouseDown.bind(_assertThisInitialized(_this));_this.onTimePickerElementMouseUp=_this.onTimePickerElementMouseUp.bind(_assertThisInitialized(_this));_this.onTimePickerElementMouseLeave=_this.onTimePickerElementMouseLeave.bind(_assertThisInitialized(_this));_this.onOverlayEnter=_this.onOverlayEnter.bind(_assertThisInitialized(_this));_this.onOverlayEntered=_this.onOverlayEntered.bind(_assertThisInitialized(_this));_this.onOverlayExit=_this.onOverlayExit.bind(_assertThisInitialized(_this));_this.reFocusInputField=_this.reFocusInputField.bind(_assertThisInitialized(_this));_this.id=_this.props.id||UniqueComponentId();_this.overlayRef=React.createRef();return _this;}_createClass(Calendar,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.tooltip){this.renderTooltip();}if(this.props.inline){this.initFocusableCell();}if(this.props.value){this.updateInputfield(this.props.value);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var _this2=this;if(prevProps.tooltip!==this.props.tooltip||prevProps.tooltipOptions!==this.props.tooltipOptions){if(this.tooltip)this.tooltip.update(_objectSpread({content:this.props.tooltip},this.props.tooltipOptions||{}));else this.renderTooltip();}if(!this.props.onViewDateChange&&!this.viewStateChanged){var propValue=this.props.value;if(Array.isArray(propValue)){propValue=propValue[0];}var prevPropValue=prevProps.value;if(Array.isArray(prevPropValue)){prevPropValue=prevPropValue[0];}if(!prevPropValue&&propValue||propValue&&propValue instanceof Date&&propValue.getTime()!==prevPropValue.getTime()){var viewDate=this.props.viewDate&&this.isValidDate(this.props.viewDate)?this.props.viewDate:propValue&&this.isValidDate(propValue)?propValue:new Date();this.validateDate(viewDate);this.setState({viewDate:viewDate},function(){_this2.viewStateChanged=true;});}}if(this.overlayRef&&this.overlayRef.current){this.updateFocus();}if(prevProps.value!==this.props.value&&(!this.viewStateChanged||!this.state.overlayVisible)||this.isOptionChanged(prevProps)){this.updateInputfield(this.props.value);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.hideTimeout){clearTimeout(this.hideTimeout);}if(this.mask){this.disableModality();this.mask=null;}if(this.tooltip){this.tooltip.destroy();this.tooltip=null;}this.unbindDocumentClickListener();this.unbindDocumentResizeListener();if(this.scrollHandler){this.scrollHandler.destroy();this.scrollHandler=null;}}},{key:\"renderTooltip\",value:function renderTooltip(){this.tooltip=tip({target:this.inputElement,content:this.props.tooltip,options:this.props.tooltipOptions});}},{key:\"isOptionChanged\",value:function isOptionChanged(prevProps){var _this3=this;var optionProps=['dateFormat','hourFormat','timeOnly','showSeconds','showMillisec'];return optionProps.some(function(option){return prevProps[option]!==_this3.props[option];});}},{key:\"getDateFormat\",value:function getDateFormat(){return this.props.dateFormat||localeOption('dateFormat',this.props.locale);}},{key:\"onInputFocus\",value:function onInputFocus(event){var _this4=this;if(this.ignoreFocusFunctionality){this.setState({focused:true},function(){_this4.ignoreFocusFunctionality=false;});}else{event.persist();if(this.props.showOnFocus&&!this.state.overlayVisible){this.showOverlay();}this.setState({focused:true},function(){if(_this4.props.onFocus){_this4.props.onFocus(event);}});}}},{key:\"onInputBlur\",value:function onInputBlur(event){var _this5=this;event.persist();this.setState({focused:false},function(){if(_this5.props.onBlur){_this5.props.onBlur(event);}if(!_this5.props.keepInvalid){_this5.updateInputfield(_this5.props.value);}});}},{key:\"onInputKeyDown\",value:function onInputKeyDown(event){this.isKeydown=true;switch(event.which){//escape\ncase 27:{this.hideOverlay();break;}//tab\ncase 9:{if(this.state.overlayVisible){this.trapFocus(event);}if(this.props.touchUI){this.disableModality();}break;}default://no op\nbreak;}}},{key:\"onUserInput\",value:function onUserInput(event){// IE 11 Workaround for input placeholder\nif(!this.isKeydown){return;}this.isKeydown=false;var rawValue=event.target.value;try{var value=this.parseValueFromString(rawValue);if(this.isValidSelection(value)){this.updateModel(event,value);this.updateViewDate(event,value.length?value[0]:value);}}catch(err){//invalid date\nvar _value=this.props.keepInvalid?rawValue:null;this.updateModel(event,_value);}if(this.props.onInput){this.props.onInput(event);}}},{key:\"reFocusInputField\",value:function reFocusInputField(){if(!this.props.inline&&this.inputElement){this.ignoreFocusFunctionality=true;this.inputElement.focus();}}},{key:\"isValidSelection\",value:function isValidSelection(value){var _this6=this;var isValid=true;if(this.isSingleSelection()){if(!(this.isSelectable(value.getDate(),value.getMonth(),value.getFullYear(),false)&&this.isSelectableTime(value))){isValid=false;}}else if(value.every(function(v){return _this6.isSelectable(v.getDate(),v.getMonth(),v.getFullYear(),false)&&_this6.isSelectableTime(value);})){if(this.isRangeSelection()){isValid=value.length>1&&value[1]>value[0]?true:false;}}return isValid;}},{key:\"onButtonClick\",value:function onButtonClick(){if(this.state.overlayVisible){this.hideOverlay();}else{this.showOverlay();}}},{key:\"onPrevButtonClick\",value:function onPrevButtonClick(event){this.navigation={backward:true,button:true};this.navBackward(event);}},{key:\"onNextButtonClick\",value:function onNextButtonClick(event){this.navigation={backward:false,button:true};this.navForward(event);}},{key:\"onContainerButtonKeydown\",value:function onContainerButtonKeydown(event){switch(event.which){//tab\ncase 9:this.trapFocus(event);break;//escape\ncase 27:this.hideOverlay(this.reFocusInputField);event.preventDefault();break;default://Noop\nbreak;}}},{key:\"trapFocus\",value:function trapFocus(event){event.preventDefault();var focusableElements=DomHandler.getFocusableElements(this.overlayRef.current);if(focusableElements&&focusableElements.length>0){if(!document.activeElement){focusableElements[0].focus();}else{var focusedIndex=focusableElements.indexOf(document.activeElement);if(event.shiftKey){if(focusedIndex===-1||focusedIndex===0)focusableElements[focusableElements.length-1].focus();else focusableElements[focusedIndex-1].focus();}else{if(focusedIndex===-1||focusedIndex===focusableElements.length-1)focusableElements[0].focus();else focusableElements[focusedIndex+1].focus();}}}}},{key:\"updateFocus\",value:function updateFocus(){var cell;if(this.navigation){if(this.navigation.button){this.initFocusableCell();if(this.navigation.backward)DomHandler.findSingle(this.overlayRef.current,'.p-datepicker-prev').focus();else DomHandler.findSingle(this.overlayRef.current,'.p-datepicker-next').focus();}else{if(this.navigation.backward){var cells=DomHandler.find(this.overlayRef.current,'.p-datepicker-calendar td span:not(.p-disabled)');cell=cells[cells.length-1];}else{cell=DomHandler.findSingle(this.overlayRef.current,'.p-datepicker-calendar td span:not(.p-disabled)');}if(cell){cell.tabIndex='0';cell.focus();}}this.navigation=null;}else{this.initFocusableCell();}}},{key:\"initFocusableCell\",value:function initFocusableCell(){var cell;if(this.view==='month'){var cells=DomHandler.find(this.overlayRef.current,'.p-monthpicker .p-monthpicker-month');var selectedCell=DomHandler.findSingle(this.overlayRef.current,'.p-monthpicker .p-monthpicker-month.p-highlight');cells.forEach(function(cell){return cell.tabIndex=-1;});cell=selectedCell||cells[0];}else{cell=DomHandler.findSingle(this.overlayRef.current,'span.p-highlight');if(!cell){var todayCell=DomHandler.findSingle(this.overlayRef.current,'td.p-datepicker-today span:not(.p-disabled)');if(todayCell)cell=todayCell;else cell=DomHandler.findSingle(this.overlayRef.current,'.p-datepicker-calendar td span:not(.p-disabled)');}}if(cell){cell.tabIndex='0';}}},{key:\"navBackward\",value:function navBackward(event){if(this.props.disabled){event.preventDefault();return;}var newViewDate=new Date(this.getViewDate().getTime());newViewDate.setDate(1);if(this.props.view==='date'){if(newViewDate.getMonth()===0){newViewDate.setMonth(11);newViewDate.setFullYear(newViewDate.getFullYear()-1);}else{newViewDate.setMonth(newViewDate.getMonth()-1);}}else if(this.props.view==='month'){var currentYear=newViewDate.getFullYear();var newYear=currentYear-1;if(this.props.yearNavigator){var minYear=parseInt(this.props.yearRange.split(':')[0],10);if(newYear<minYear){newYear=minYear;}}newViewDate.setFullYear(newYear);}this.updateViewDate(event,newViewDate);event.preventDefault();}},{key:\"navForward\",value:function navForward(event){if(this.props.disabled){event.preventDefault();return;}var newViewDate=new Date(this.getViewDate().getTime());newViewDate.setDate(1);if(this.props.view==='date'){if(newViewDate.getMonth()===11){newViewDate.setMonth(0);newViewDate.setFullYear(newViewDate.getFullYear()+1);}else{newViewDate.setMonth(newViewDate.getMonth()+1);}}else if(this.props.view==='month'){var currentYear=newViewDate.getFullYear();var newYear=currentYear+1;if(this.props.yearNavigator){var maxYear=parseInt(this.props.yearRange.split(':')[1],10);if(newYear>maxYear){newYear=maxYear;}}newViewDate.setFullYear(newYear);}this.updateViewDate(event,newViewDate);event.preventDefault();}},{key:\"onMonthDropdownChange\",value:function onMonthDropdownChange(event){var currentViewDate=this.getViewDate();var newViewDate=new Date(currentViewDate.getTime());newViewDate.setMonth(parseInt(event.target.value,10));this.updateViewDate(event,newViewDate);}},{key:\"onYearDropdownChange\",value:function onYearDropdownChange(event){var currentViewDate=this.getViewDate();var newViewDate=new Date(currentViewDate.getTime());newViewDate.setFullYear(parseInt(event.target.value,10));this.updateViewDate(event,newViewDate);}},{key:\"onTodayButtonClick\",value:function onTodayButtonClick(event){var today=new Date();var dateMeta={day:today.getDate(),month:today.getMonth(),year:today.getFullYear(),today:true,selectable:true};var timeMeta={hours:today.getHours(),minutes:today.getMinutes(),seconds:today.getSeconds(),milliseconds:today.getMilliseconds()};this.updateViewDate(event,today);this.onDateSelect(event,dateMeta,timeMeta);if(this.props.onTodayButtonClick){this.props.onTodayButtonClick(event);}}},{key:\"onClearButtonClick\",value:function onClearButtonClick(event){this.updateModel(event,null);this.updateInputfield(null);this.hideOverlay(this.reFocusInputField);if(this.props.onClearButtonClick){this.props.onClearButtonClick(event);}}},{key:\"onPanelClick\",value:function onPanelClick(event){if(!this.props.inline){OverlayEventBus.emit('overlay-click',{originalEvent:event,target:this.container});}}},{key:\"onTimePickerElementMouseDown\",value:function onTimePickerElementMouseDown(event,type,direction){if(!this.props.disabled){this.repeat(event,null,type,direction);event.preventDefault();}}},{key:\"onTimePickerElementMouseUp\",value:function onTimePickerElementMouseUp(){if(!this.props.disabled){this.clearTimePickerTimer();}}},{key:\"onTimePickerElementMouseLeave\",value:function onTimePickerElementMouseLeave(){if(!this.props.disabled){this.clearTimePickerTimer();}}},{key:\"repeat\",value:function repeat(event,interval,type,direction){var _this7=this;event.persist();var i=interval||500;this.clearTimePickerTimer();this.timePickerTimer=setTimeout(function(){_this7.repeat(event,100,type,direction);},i);switch(type){case 0:if(direction===1)this.incrementHour(event);else this.decrementHour(event);break;case 1:if(direction===1)this.incrementMinute(event);else this.decrementMinute(event);break;case 2:if(direction===1)this.incrementSecond(event);else this.decrementSecond(event);break;case 3:if(direction===1)this.incrementMilliSecond(event);else this.decrementMilliSecond(event);break;default:break;}}},{key:\"clearTimePickerTimer\",value:function clearTimePickerTimer(){if(this.timePickerTimer){clearTimeout(this.timePickerTimer);}}},{key:\"incrementHour\",value:function incrementHour(event){var currentTime=this.props.value&&this.props.value instanceof Date?this.props.value:this.getViewDate();var currentHour=currentTime.getHours();var newHour=currentHour+this.props.stepHour;newHour=newHour>=24?newHour-24:newHour;if(this.validateHour(newHour,currentTime)){if(this.props.maxDate&&this.props.maxDate.toDateString()===currentTime.toDateString()&&this.props.maxDate.getHours()===newHour){if(this.props.maxDate.getMinutes()<currentTime.getMinutes()){if(this.props.maxDate.getSeconds()<currentTime.getSeconds()){if(this.props.maxDate.getMilliseconds()<currentTime.getMilliseconds()){this.updateTime(event,newHour,this.props.maxDate.getMinutes(),this.props.maxDate.getSeconds(),this.props.maxDate.getMilliseconds());}else{this.updateTime(event,newHour,this.props.maxDate.getMinutes(),this.props.maxDate.getSeconds(),currentTime.getMilliseconds());}}else{this.updateTime(event,newHour,this.props.maxDate.getMinutes(),currentTime.getSeconds(),currentTime.getMilliseconds());}}else if(this.props.maxDate.getMinutes()===currentTime.getMinutes()){if(this.props.maxDate.getSeconds()<currentTime.getSeconds()){if(this.props.maxDate.getMilliseconds()<currentTime.getMilliseconds()){this.updateTime(event,newHour,this.props.maxDate.getMinutes(),this.props.maxDate.getSeconds(),this.props.maxDate.getMilliseconds());}else{this.updateTime(event,newHour,this.props.maxDate.getMinutes(),this.props.maxDate.getSeconds(),currentTime.getMilliseconds());}}else{this.updateTime(event,newHour,this.props.maxDate.getMinutes(),currentTime.getSeconds(),currentTime.getMilliseconds());}}else{this.updateTime(event,newHour,currentTime.getMinutes(),currentTime.getSeconds(),currentTime.getMilliseconds());}}else{this.updateTime(event,newHour,currentTime.getMinutes(),currentTime.getSeconds(),currentTime.getMilliseconds());}}event.preventDefault();}},{key:\"decrementHour\",value:function decrementHour(event){var currentTime=this.props.value&&this.props.value instanceof Date?this.props.value:this.getViewDate();var currentHour=currentTime.getHours();var newHour=currentHour-this.props.stepHour;newHour=newHour<0?newHour+24:newHour;if(this.validateHour(newHour,currentTime)){if(this.props.minDate&&this.props.minDate.toDateString()===currentTime.toDateString()&&this.props.minDate.getHours()===newHour){if(this.props.minDate.getMinutes()>currentTime.getMinutes()){if(this.props.minDate.getSeconds()>currentTime.getSeconds()){if(this.props.minDate.getMilliseconds()>currentTime.getMilliseconds()){this.updateTime(event,newHour,this.props.minDate.getMinutes(),this.props.minDate.getSeconds(),this.props.minDate.getMilliseconds());}else{this.updateTime(event,newHour,this.props.minDate.getMinutes(),this.props.minDate.getSeconds(),currentTime.getMilliseconds());}}else{this.updateTime(event,newHour,this.props.minDate.getMinutes(),currentTime.getSeconds(),currentTime.getMilliseconds());}}else if(this.props.minDate.getMinutes()===currentTime.getMinutes()){if(this.props.minDate.getSeconds()>currentTime.getSeconds()){if(this.props.minDate.getMilliseconds()>currentTime.getMilliseconds()){this.updateTime(event,newHour,this.props.minDate.getMinutes(),this.props.minDate.getSeconds(),this.props.minDate.getMilliseconds());}else{this.updateTime(event,newHour,this.props.minDate.getMinutes(),this.props.minDate.getSeconds(),currentTime.getMilliseconds());}}else{this.updateTime(event,newHour,this.props.minDate.getMinutes(),currentTime.getSeconds(),currentTime.getMilliseconds());}}else{this.updateTime(event,newHour,currentTime.getMinutes(),currentTime.getSeconds(),currentTime.getMilliseconds());}}else{this.updateTime(event,newHour,currentTime.getMinutes(),currentTime.getSeconds(),currentTime.getMilliseconds());}}event.preventDefault();}},{key:\"incrementMinute\",value:function incrementMinute(event){var currentTime=this.props.value&&this.props.value instanceof Date?this.props.value:this.getViewDate();var currentMinute=currentTime.getMinutes();var newMinute=currentMinute+this.props.stepMinute;newMinute=newMinute>59?newMinute-60:newMinute;if(this.validateMinute(newMinute,currentTime)){if(this.props.maxDate&&this.props.maxDate.toDateString()===currentTime.toDateString()&&this.props.maxDate.getMinutes()===newMinute){if(this.props.maxDate.getSeconds()<currentTime.getSeconds()){if(this.props.maxDate.getMilliseconds()<currentTime.getMilliseconds()){this.updateTime(event,currentTime.getHours(),newMinute,this.props.maxDate.getSeconds(),this.props.maxDate.getMilliseconds());}else{this.updateTime(event,currentTime.getHours(),newMinute,this.props.maxDate.getSeconds(),currentTime.getMilliseconds());}}else{this.updateTime(event,currentTime.getHours(),newMinute,currentTime.getSeconds(),currentTime.getMilliseconds());}}else{this.updateTime(event,currentTime.getHours(),newMinute,currentTime.getSeconds(),currentTime.getMilliseconds());}}event.preventDefault();}},{key:\"decrementMinute\",value:function decrementMinute(event){var currentTime=this.props.value&&this.props.value instanceof Date?this.props.value:this.getViewDate();var currentMinute=currentTime.getMinutes();var newMinute=currentMinute-this.props.stepMinute;newMinute=newMinute<0?newMinute+60:newMinute;if(this.validateMinute(newMinute,currentTime)){if(this.props.minDate&&this.props.minDate.toDateString()===currentTime.toDateString()&&this.props.minDate.getMinutes()===newMinute){if(this.props.minDate.getSeconds()>currentTime.getSeconds()){if(this.props.minDate.getMilliseconds()>currentTime.getMilliseconds()){this.updateTime(event,currentTime.getHours(),newMinute,this.props.minDate.getSeconds(),this.props.minDate.getMilliseconds());}else{this.updateTime(event,currentTime.getHours(),newMinute,this.props.minDate.getSeconds(),currentTime.getMilliseconds());}}else{this.updateTime(event,currentTime.getHours(),newMinute,currentTime.getSeconds(),currentTime.getMilliseconds());}}else{this.updateTime(event,currentTime.getHours(),newMinute,currentTime.getSeconds(),currentTime.getMilliseconds());}}event.preventDefault();}},{key:\"incrementSecond\",value:function incrementSecond(event){var currentTime=this.props.value&&this.props.value instanceof Date?this.props.value:this.getViewDate();var currentSecond=currentTime.getSeconds();var newSecond=currentSecond+this.props.stepSecond;newSecond=newSecond>59?newSecond-60:newSecond;if(this.validateSecond(newSecond,currentTime)){if(this.props.maxDate&&this.props.maxDate.toDateString()===currentTime.toDateString()&&this.props.maxDate.getSeconds()===newSecond){if(this.props.maxDate.getMilliseconds()<currentTime.getMilliseconds()){this.updateTime(event,currentTime.getHours(),currentTime.getMinutes(),newSecond,this.props.maxDate.getMilliseconds());}else{this.updateTime(event,currentTime.getHours(),currentTime.getMinutes(),newSecond,currentTime.getMilliseconds());}}else{this.updateTime(event,currentTime.getHours(),currentTime.getMinutes(),newSecond,currentTime.getMilliseconds());}}event.preventDefault();}},{key:\"decrementSecond\",value:function decrementSecond(event){var currentTime=this.props.value&&this.props.value instanceof Date?this.props.value:this.getViewDate();var currentSecond=currentTime.getSeconds();var newSecond=currentSecond-this.props.stepSecond;newSecond=newSecond<0?newSecond+60:newSecond;if(this.validateSecond(newSecond,currentTime)){if(this.props.minDate&&this.props.minDate.toDateString()===currentTime.toDateString()&&this.props.minDate.getSeconds()===newSecond){if(this.props.minDate.getMilliseconds()>currentTime.getMilliseconds()){this.updateTime(event,currentTime.getHours(),currentTime.getMinutes(),newSecond,this.props.minDate.getMilliseconds());}else{this.updateTime(event,currentTime.getHours(),currentTime.getMinutes(),newSecond,currentTime.getMilliseconds());}}else{this.updateTime(event,currentTime.getHours(),currentTime.getMinutes(),newSecond,currentTime.getMilliseconds());}}event.preventDefault();}},{key:\"incrementMilliSecond\",value:function incrementMilliSecond(event){var currentTime=this.props.value&&this.props.value instanceof Date?this.props.value:this.getViewDate();var currentMillisecond=currentTime.getMilliseconds();var newMillisecond=currentMillisecond+this.props.stepMillisec;newMillisecond=newMillisecond>999?newMillisecond-1000:newMillisecond;if(this.validateMillisecond(newMillisecond,currentTime)){this.updateTime(event,currentTime.getHours(),currentTime.getMinutes(),currentTime.getSeconds(),newMillisecond);}event.preventDefault();}},{key:\"decrementMilliSecond\",value:function decrementMilliSecond(event){var currentTime=this.props.value&&this.props.value instanceof Date?this.props.value:this.getViewDate();var currentMillisecond=currentTime.getMilliseconds();var newMillisecond=currentMillisecond-this.props.stepMillisec;newMillisecond=newMillisecond<0?newMillisecond+999:newMillisecond;if(this.validateMillisecond(newMillisecond,currentTime)){this.updateTime(event,currentTime.getHours(),currentTime.getMinutes(),currentTime.getSeconds(),newMillisecond);}event.preventDefault();}},{key:\"toggleAmPm\",value:function toggleAmPm(event){var currentTime=this.props.value&&this.props.value instanceof Date?this.props.value:this.getViewDate();var currentHour=currentTime.getHours();var newHour=currentHour>=12?currentHour-12:currentHour+12;this.updateTime(event,newHour,currentTime.getMinutes(),currentTime.getSeconds(),currentTime.getMilliseconds());event.preventDefault();}},{key:\"getViewDate\",value:function getViewDate(){return this.props.onViewDateChange?this.props.viewDate:this.state.viewDate;}},{key:\"isValidDate\",value:function isValidDate(date){return date instanceof Date&&!isNaN(date);}},{key:\"validateHour\",value:function validateHour(hour,value){var valid=true;var valueDateString=value?value.toDateString():null;if(this.props.minDate&&valueDateString&&this.props.minDate.toDateString()===valueDateString){if(this.props.minDate.getHours()>hour){valid=false;}}if(this.props.maxDate&&valueDateString&&this.props.maxDate.toDateString()===valueDateString){if(this.props.maxDate.getHours()<hour){valid=false;}}return valid;}},{key:\"validateMinute\",value:function validateMinute(minute,value){var valid=true;var valueDateString=value?value.toDateString():null;if(this.props.minDate&&valueDateString&&this.props.minDate.toDateString()===valueDateString){if(value.getHours()===this.props.minDate.getHours()){if(this.props.minDate.getMinutes()>minute){valid=false;}}}if(this.props.maxDate&&valueDateString&&this.props.maxDate.toDateString()===valueDateString){if(value.getHours()===this.props.maxDate.getHours()){if(this.props.maxDate.getMinutes()<minute){valid=false;}}}return valid;}},{key:\"validateSecond\",value:function validateSecond(second,value){var valid=true;var valueDateString=value?value.toDateString():null;if(this.props.minDate&&valueDateString&&this.props.minDate.toDateString()===valueDateString){if(value.getHours()===this.props.minDate.getHours()&&value.getMinutes()===this.props.minDate.getMinutes()){if(this.props.minDate.getSeconds()>second){valid=false;}}}if(this.props.maxDate&&valueDateString&&this.props.maxDate.toDateString()===valueDateString){if(value.getHours()===this.props.maxDate.getHours()&&value.getMinutes()===this.props.maxDate.getMinutes()){if(this.props.maxDate.getSeconds()<second){valid=false;}}}return valid;}},{key:\"validateMillisecond\",value:function validateMillisecond(millisecond,value){var valid=true;var valueDateString=value?value.toDateString():null;if(this.props.minDate&&valueDateString&&this.props.minDate.toDateString()===valueDateString){if(value.getHours()===this.props.minDate.getHours()&&value.getSeconds()===this.props.minDate.getSeconds()&&value.getMinutes()===this.props.minDate.getMinutes()){if(this.props.minDate.getMilliseconds()>millisecond){valid=false;}}}if(this.props.maxDate&&valueDateString&&this.props.maxDate.toDateString()===valueDateString){if(value.getHours()===this.props.maxDate.getHours()&&value.getSeconds()===this.props.maxDate.getSeconds()&&value.getMinutes()===this.props.maxDate.getMinutes()){if(this.props.maxDate.getMilliseconds()<millisecond){valid=false;}}}return valid;}},{key:\"validateDate\",value:function validateDate(value){if(this.props.yearNavigator){var viewYear=value.getFullYear();var minRangeYear=this.props.yearRange?parseInt(this.props.yearRange.split(':')[0],10):null;var maxRangeYear=this.props.yearRange?parseInt(this.props.yearRange.split(':')[1],10):null;var minYear=this.props.minDate&&minRangeYear!=null?Math.max(this.props.minDate.getFullYear(),minRangeYear):this.props.minDate||minRangeYear;var maxYear=this.props.maxDate&&maxRangeYear!=null?Math.min(this.props.maxDate.getFullYear(),maxRangeYear):this.props.maxDate||maxRangeYear;if(minYear&&minYear>viewYear){viewYear=minYear;}if(maxYear&&maxYear<viewYear){viewYear=maxYear;}value.setFullYear(viewYear);}if(this.props.monthNavigator&&this.props.view!=='month'){var viewMonth=value.getMonth();var viewMonthWithMinMax=parseInt(this.isInMinYear(value)&&Math.max(this.props.minDate.getMonth(),viewMonth).toString()||this.isInMaxYear(value)&&Math.min(this.props.maxDate.getMonth(),viewMonth).toString()||viewMonth);value.setMonth(viewMonthWithMinMax);}}},{key:\"updateTime\",value:function updateTime(event,hour,minute,second,millisecond){var newDateTime=this.props.value&&this.props.value instanceof Date?new Date(this.props.value):new Date();newDateTime.setHours(hour);newDateTime.setMinutes(minute);newDateTime.setSeconds(second);newDateTime.setMilliseconds(millisecond);this.updateModel(event,newDateTime);if(this.props.onSelect){this.props.onSelect({originalEvent:event,value:newDateTime});}this.updateInputfield(newDateTime);}},{key:\"updateViewDate\",value:function updateViewDate(event,value){this.validateDate(value);if(this.props.onViewDateChange){this.props.onViewDateChange({originalEvent:event,value:value});}else{this.viewStateChanged=true;this.setState({viewDate:value});}}},{key:\"onDateCellKeydown\",value:function onDateCellKeydown(event,date,groupIndex){var cellContent=event.currentTarget;var cell=cellContent.parentElement;switch(event.which){//down arrow\ncase 40:{cellContent.tabIndex='-1';var cellIndex=DomHandler.index(cell);var nextRow=cell.parentElement.nextElementSibling;if(nextRow){var focusCell=nextRow.children[cellIndex].children[0];if(DomHandler.hasClass(focusCell,'p-disabled')){this.navigation={backward:false};this.navForward(event);}else{nextRow.children[cellIndex].children[0].tabIndex='0';nextRow.children[cellIndex].children[0].focus();}}else{this.navigation={backward:false};this.navForward(event);}event.preventDefault();break;}//up arrow\ncase 38:{cellContent.tabIndex='-1';var _cellIndex=DomHandler.index(cell);var prevRow=cell.parentElement.previousElementSibling;if(prevRow){var _focusCell=prevRow.children[_cellIndex].children[0];if(DomHandler.hasClass(_focusCell,'p-disabled')){this.navigation={backward:true};this.navBackward(event);}else{_focusCell.tabIndex='0';_focusCell.focus();}}else{this.navigation={backward:true};this.navBackward(event);}event.preventDefault();break;}//left arrow\ncase 37:{cellContent.tabIndex='-1';var prevCell=cell.previousElementSibling;if(prevCell){var _focusCell2=prevCell.children[0];if(DomHandler.hasClass(_focusCell2,'p-disabled')){this.navigateToMonth(true,groupIndex,event);}else{_focusCell2.tabIndex='0';_focusCell2.focus();}}else{this.navigateToMonth(true,groupIndex,event);}event.preventDefault();break;}//right arrow\ncase 39:{cellContent.tabIndex='-1';var nextCell=cell.nextElementSibling;if(nextCell){var _focusCell3=nextCell.children[0];if(DomHandler.hasClass(_focusCell3,'p-disabled')){this.navigateToMonth(false,groupIndex,event);}else{_focusCell3.tabIndex='0';_focusCell3.focus();}}else{this.navigateToMonth(false,groupIndex,event);}event.preventDefault();break;}//enter\ncase 13:{this.onDateSelect(event,date);event.preventDefault();break;}//escape\ncase 27:{this.hideOverlay(this.reFocusInputField);event.preventDefault();break;}//tab\ncase 9:{this.trapFocus(event);break;}default://no op\nbreak;}}},{key:\"navigateToMonth\",value:function navigateToMonth(prev,groupIndex,event){if(prev){if(this.props.numberOfMonths===1||groupIndex===0){this.navigation={backward:true};this.navBackward(event);}else{var prevMonthContainer=this.overlayRef.current.children[groupIndex-1];var cells=DomHandler.find(prevMonthContainer,'.p-datepicker-calendar td span:not(.p-disabled)');var focusCell=cells[cells.length-1];focusCell.tabIndex='0';focusCell.focus();}}else{if(this.props.numberOfMonths===1||groupIndex===this.props.numberOfMonths-1){this.navigation={backward:false};this.navForward(event);}else{var nextMonthContainer=this.overlayRef.current.children[groupIndex+1];var _focusCell4=DomHandler.findSingle(nextMonthContainer,'.p-datepicker-calendar td span:not(.p-disabled)');_focusCell4.tabIndex='0';_focusCell4.focus();}}}},{key:\"onMonthCellKeydown\",value:function onMonthCellKeydown(event,index){var cell=event.currentTarget;switch(event.which){//arrows\ncase 38:case 40:{cell.tabIndex='-1';var cells=cell.parentElement.children;var cellIndex=DomHandler.index(cell);var nextCell=cells[event.which===40?cellIndex+3:cellIndex-3];if(nextCell){nextCell.tabIndex='0';nextCell.focus();}event.preventDefault();break;}//left arrow\ncase 37:{cell.tabIndex='-1';var prevCell=cell.previousElementSibling;if(prevCell){prevCell.tabIndex='0';prevCell.focus();}event.preventDefault();break;}//right arrow\ncase 39:{cell.tabIndex='-1';var _nextCell=cell.nextElementSibling;if(_nextCell){_nextCell.tabIndex='0';_nextCell.focus();}event.preventDefault();break;}//enter\ncase 13:{this.onMonthSelect(event,index);event.preventDefault();break;}//escape\ncase 27:{this.hideOverlay(this.reFocusInputField);event.preventDefault();break;}//tab\ncase 9:{this.trapFocus(event);break;}default://no op\nbreak;}}},{key:\"onDateSelect\",value:function onDateSelect(event,dateMeta,timeMeta){var _this8=this;if(this.props.disabled||!dateMeta.selectable){event.preventDefault();return;}DomHandler.find(this.overlayRef.current,'.p-datepicker-calendar td span:not(.p-disabled)').forEach(function(cell){return cell.tabIndex=-1;});event.currentTarget.focus();if(this.isMultipleSelection()){if(this.isSelected(dateMeta)){var value=this.props.value.filter(function(date,i){return!_this8.isDateEquals(date,dateMeta);});this.updateModel(event,value);}else if(!this.props.maxDateCount||!this.props.value||this.props.maxDateCount>this.props.value.length){this.selectDate(event,dateMeta,timeMeta);}}else{this.selectDate(event,dateMeta,timeMeta);}if(!this.props.inline&&this.isSingleSelection()&&(!this.props.showTime||this.props.hideOnDateTimeSelect)){setTimeout(function(){_this8.hideOverlay();},100);if(this.mask){this.disableModality();}}event.preventDefault();}},{key:\"selectTime\",value:function selectTime(date,timeMeta){if(this.props.showTime){var hours,minutes,seconds,milliseconds;if(timeMeta){hours=timeMeta.hours;minutes=timeMeta.minutes;seconds=timeMeta.seconds;milliseconds=timeMeta.milliseconds;}else{var time=this.props.value&&this.props.value instanceof Date?this.props.value:new Date();var _ref=[time.getHours(),time.getMinutes(),time.getSeconds(),time.getMilliseconds()];hours=_ref[0];minutes=_ref[1];seconds=_ref[2];milliseconds=_ref[3];}date.setHours(hours);date.setMinutes(minutes);date.setSeconds(seconds);date.setMilliseconds(milliseconds);}}},{key:\"selectDate\",value:function selectDate(event,dateMeta,timeMeta){var date=new Date(dateMeta.year,dateMeta.month,dateMeta.day);this.selectTime(date,timeMeta);if(this.props.minDate&&this.props.minDate>date){date=this.props.minDate;}if(this.props.maxDate&&this.props.maxDate<date){date=this.props.maxDate;}var selectedValues=date;if(this.isSingleSelection()){this.updateModel(event,date);}else if(this.isMultipleSelection()){selectedValues=this.props.value?[].concat(_toConsumableArray(this.props.value),[date]):[date];this.updateModel(event,selectedValues);}else if(this.isRangeSelection()){if(this.props.value&&this.props.value.length){var startDate=this.props.value[0];var endDate=this.props.value[1];if(!endDate&&date.getTime()>=startDate.getTime()){endDate=date;}else{startDate=date;endDate=null;}selectedValues=[startDate,endDate];this.updateModel(event,selectedValues);}else{selectedValues=[date,null];this.updateModel(event,selectedValues);}}if(this.props.onSelect){this.props.onSelect({originalEvent:event,value:date});}this.updateInputfield(selectedValues);}},{key:\"onMonthSelect\",value:function onMonthSelect(event,month){this.onDateSelect(event,{year:this.getViewDate().getFullYear(),month:month,day:1,selectable:true});event.preventDefault();}},{key:\"updateModel\",value:function updateModel(event,value){if(this.props.onChange){this.props.onChange({originalEvent:event,value:value,stopPropagation:function stopPropagation(){},preventDefault:function preventDefault(){},target:{name:this.props.name,id:this.id,value:value}});this.viewStateChanged=true;}}},{key:\"showOverlay\",value:function showOverlay(){this.setState({overlayVisible:true});}},{key:\"hideOverlay\",value:function hideOverlay(callback){var _this9=this;this.setState({overlayVisible:false},function(){_this9.viewStateChanged=false;_this9.ignoreFocusFunctionality=false;if(callback){callback();}});}},{key:\"onOverlayEnter\",value:function onOverlayEnter(){if(this.props.autoZIndex){this.overlayRef.current.style.zIndex=String(this.props.baseZIndex+DomHandler.generateZIndex());}this.alignOverlay();}},{key:\"onOverlayEntered\",value:function onOverlayEntered(){this.bindDocumentClickListener();this.bindDocumentResizeListener();this.bindScrollListener();}},{key:\"onOverlayExit\",value:function onOverlayExit(){this.unbindDocumentClickListener();this.unbindDocumentResizeListener();this.unbindScrollListener();}},{key:\"bindDocumentClickListener\",value:function bindDocumentClickListener(){var _this10=this;if(!this.documentClickListener){this.documentClickListener=function(event){if(_this10.state.overlayVisible&&_this10.isOutsideClicked(event)){_this10.hideOverlay();}};document.addEventListener('mousedown',this.documentClickListener);}}},{key:\"unbindDocumentClickListener\",value:function unbindDocumentClickListener(){if(this.documentClickListener){document.removeEventListener('mousedown',this.documentClickListener);this.documentClickListener=null;}}},{key:\"bindDocumentResizeListener\",value:function bindDocumentResizeListener(){if(!this.documentResizeListener&&!this.props.touchUI){this.documentResizeListener=this.onWindowResize.bind(this);window.addEventListener('resize',this.documentResizeListener);}}},{key:\"unbindDocumentResizeListener\",value:function unbindDocumentResizeListener(){if(this.documentResizeListener){window.removeEventListener('resize',this.documentResizeListener);this.documentResizeListener=null;}}},{key:\"bindScrollListener\",value:function bindScrollListener(){var _this11=this;if(!this.scrollHandler){this.scrollHandler=new ConnectedOverlayScrollHandler(this.container,function(){if(_this11.state.overlayVisible){_this11.hideOverlay();}});}this.scrollHandler.bindScrollListener();}},{key:\"unbindScrollListener\",value:function unbindScrollListener(){if(this.scrollHandler){this.scrollHandler.unbindScrollListener();}}},{key:\"isOutsideClicked\",value:function isOutsideClicked(event){return this.container&&!(this.container.isSameNode(event.target)||this.isNavIconClicked(event)||this.container.contains(event.target)||this.overlayRef&&this.overlayRef.current.contains(event.target));}},{key:\"isNavIconClicked\",value:function isNavIconClicked(event){return DomHandler.hasClass(event.target,'p-datepicker-prev')||DomHandler.hasClass(event.target,'p-datepicker-prev-icon')||DomHandler.hasClass(event.target,'p-datepicker-next')||DomHandler.hasClass(event.target,'p-datepicker-next-icon');}},{key:\"onWindowResize\",value:function onWindowResize(){if(this.state.overlayVisible&&!DomHandler.isAndroid()){this.hideOverlay();}}},{key:\"alignOverlay\",value:function alignOverlay(){if(this.props.touchUI){this.enableModality();}else{if(this.props.appendTo){DomHandler.absolutePosition(this.overlayRef.current,this.inputElement);this.overlayRef.current.style.minWidth=DomHandler.getWidth(this.container)+'px';}else{DomHandler.relativePosition(this.overlayRef.current,this.inputElement);}}}},{key:\"enableModality\",value:function enableModality(){var _this12=this;if(!this.mask){this.mask=document.createElement('div');this.mask.style.zIndex=String(parseInt(this.overlayRef.current.style.zIndex,10)-1);DomHandler.addMultipleClasses(this.mask,'p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker');this.maskClickListener=function(){_this12.disableModality();};this.mask.addEventListener('click',this.maskClickListener);document.body.appendChild(this.mask);DomHandler.addClass(document.body,'p-overflow-hidden');}}},{key:\"disableModality\",value:function disableModality(){if(this.mask){this.mask.removeEventListener('click',this.maskClickListener);this.maskClickListener=null;document.body.removeChild(this.mask);this.mask=null;var bodyChildren=document.body.children;var hasBlockerMasks;for(var i=0;i<bodyChildren.length;i++){var bodyChild=bodyChildren[i];if(DomHandler.hasClass(bodyChild,'p-datepicker-mask-scrollblocker')){hasBlockerMasks=true;break;}}if(!hasBlockerMasks){DomHandler.removeClass(document.body,'p-overflow-hidden');}this.hideOverlay();}}},{key:\"getFirstDayOfMonthIndex\",value:function getFirstDayOfMonthIndex(month,year){var day=new Date();day.setDate(1);day.setMonth(month);day.setFullYear(year);var dayIndex=day.getDay()+this.getSundayIndex();return dayIndex>=7?dayIndex-7:dayIndex;}},{key:\"getDaysCountInMonth\",value:function getDaysCountInMonth(month,year){return 32-this.daylightSavingAdjust(new Date(year,month,32)).getDate();}},{key:\"getDaysCountInPrevMonth\",value:function getDaysCountInPrevMonth(month,year){var prev=this.getPreviousMonthAndYear(month,year);return this.getDaysCountInMonth(prev.month,prev.year);}},{key:\"daylightSavingAdjust\",value:function daylightSavingAdjust(date){if(!date){return null;}date.setHours(date.getHours()>12?date.getHours()+2:0);return date;}},{key:\"getPreviousMonthAndYear\",value:function getPreviousMonthAndYear(month,year){var m,y;if(month===0){m=11;y=year-1;}else{m=month-1;y=year;}return{'month':m,'year':y};}},{key:\"getNextMonthAndYear\",value:function getNextMonthAndYear(month,year){var m,y;if(month===11){m=0;y=year+1;}else{m=month+1;y=year;}return{'month':m,'year':y};}},{key:\"getSundayIndex\",value:function getSundayIndex(){var firstDayOfWeek=localeOption('firstDayOfWeek',this.props.locale);return firstDayOfWeek>0?7-firstDayOfWeek:0;}},{key:\"createWeekDays\",value:function createWeekDays(){var weekDays=[];var _localeOptions=localeOptions(this.props.locale),dayIndex=_localeOptions.firstDayOfWeek,dayNamesMin=_localeOptions.dayNamesMin;for(var i=0;i<7;i++){weekDays.push(dayNamesMin[dayIndex]);dayIndex=dayIndex===6?0:++dayIndex;}return weekDays;}},{key:\"createMonths\",value:function createMonths(month,year){var months=[];for(var i=0;i<this.props.numberOfMonths;i++){var m=month+i;var y=year;if(m>11){m=m%11-1;y=year+1;}months.push(this.createMonth(m,y));}return months;}},{key:\"createMonth\",value:function createMonth(month,year){var dates=[];var firstDay=this.getFirstDayOfMonthIndex(month,year);var daysLength=this.getDaysCountInMonth(month,year);var prevMonthDaysLength=this.getDaysCountInPrevMonth(month,year);var dayNo=1;var today=new Date();var weekNumbers=[];var monthRows=Math.ceil((daysLength+firstDay)/7);for(var i=0;i<monthRows;i++){var week=[];if(i===0){for(var j=prevMonthDaysLength-firstDay+1;j<=prevMonthDaysLength;j++){var prev=this.getPreviousMonthAndYear(month,year);week.push({day:j,month:prev.month,year:prev.year,otherMonth:true,today:this.isToday(today,j,prev.month,prev.year),selectable:this.isSelectable(j,prev.month,prev.year,true)});}var remainingDaysLength=7-week.length;for(var _j=0;_j<remainingDaysLength;_j++){week.push({day:dayNo,month:month,year:year,today:this.isToday(today,dayNo,month,year),selectable:this.isSelectable(dayNo,month,year,false)});dayNo++;}}else{for(var _j2=0;_j2<7;_j2++){if(dayNo>daysLength){var next=this.getNextMonthAndYear(month,year);week.push({day:dayNo-daysLength,month:next.month,year:next.year,otherMonth:true,today:this.isToday(today,dayNo-daysLength,next.month,next.year),selectable:this.isSelectable(dayNo-daysLength,next.month,next.year,true)});}else{week.push({day:dayNo,month:month,year:year,today:this.isToday(today,dayNo,month,year),selectable:this.isSelectable(dayNo,month,year,false)});}dayNo++;}}if(this.props.showWeek){weekNumbers.push(this.getWeekNumber(new Date(week[0].year,week[0].month,week[0].day)));}dates.push(week);}return{month:month,year:year,dates:dates,weekNumbers:weekNumbers};}},{key:\"getWeekNumber\",value:function getWeekNumber(date){var checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate.getTime())/86400000)/7)+1;}},{key:\"isSelectable\",value:function isSelectable(day,month,year,otherMonth){var validMin=true;var validMax=true;var validDate=true;var validDay=true;var validMonth=true;if(this.props.minDate){if(this.props.minDate.getFullYear()>year){validMin=false;}else if(this.props.minDate.getFullYear()===year){if(this.props.minDate.getMonth()>month){validMin=false;}else if(this.props.minDate.getMonth()===month){if(this.props.minDate.getDate()>day){validMin=false;}}}}if(this.props.maxDate){if(this.props.maxDate.getFullYear()<year){validMax=false;}else if(this.props.maxDate.getFullYear()===year){if(this.props.maxDate.getMonth()<month){validMax=false;}else if(this.props.maxDate.getMonth()===month){if(this.props.maxDate.getDate()<day){validMax=false;}}}}if(this.props.disabledDates){validDate=!this.isDateDisabled(day,month,year);}if(this.props.disabledDays){validDay=!this.isDayDisabled(day,month,year);}if(this.props.selectOtherMonths===false&&otherMonth){validMonth=false;}return validMin&&validMax&&validDate&&validDay&&validMonth;}},{key:\"isSelectableTime\",value:function isSelectableTime(value){var validMin=true;var validMax=true;if(this.props.minDate&&this.props.minDate.toDateString()===value.toDateString()){if(this.props.minDate.getHours()>value.getHours()){validMin=false;}else if(this.props.minDate.getHours()===value.getHours()){if(this.props.minDate.getMinutes()>value.getMinutes()){validMin=false;}else if(this.props.minDate.getMinutes()===value.getMinutes()){if(this.props.minDate.getSeconds()>value.getSeconds()){validMin=false;}else if(this.props.minDate.getSeconds()===value.getSeconds()){if(this.props.minDate.getMilliseconds()>value.getMilliseconds()){validMin=false;}}}}}if(this.props.maxDate&&this.props.maxDate.toDateString()===value.toDateString()){if(this.props.maxDate.getHours()<value.getHours()){validMax=false;}else if(this.props.maxDate.getHours()===value.getHours()){if(this.props.maxDate.getMinutes()<value.getMinutes()){validMax=false;}else if(this.props.maxDate.getMinutes()===value.getMinutes()){if(this.props.maxDate.getSeconds()<value.getSeconds()){validMax=false;}else if(this.props.maxDate.getSeconds()===value.getSeconds()){if(this.props.maxDate.getMilliseconds()<value.getMilliseconds()){validMax=false;}}}}}return validMin&&validMax;}},{key:\"isSelected\",value:function isSelected(dateMeta){if(this.props.value){if(this.isSingleSelection()){return this.isDateEquals(this.props.value,dateMeta);}else if(this.isMultipleSelection()){var selected=false;var _iterator=_createForOfIteratorHelper(this.props.value),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var date=_step.value;selected=this.isDateEquals(date,dateMeta);if(selected){break;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return selected;}else if(this.isRangeSelection()){if(this.props.value[1])return this.isDateEquals(this.props.value[0],dateMeta)||this.isDateEquals(this.props.value[1],dateMeta)||this.isDateBetween(this.props.value[0],this.props.value[1],dateMeta);else{return this.isDateEquals(this.props.value[0],dateMeta);}}}else{return false;}}},{key:\"isMonthSelected\",value:function isMonthSelected(month){var viewDate=this.getViewDate();if(this.props.value&&this.props.value instanceof Date)return this.props.value.getDate()===1&&this.props.value.getMonth()===month&&this.props.value.getFullYear()===viewDate.getFullYear();else return false;}},{key:\"isDateEquals\",value:function isDateEquals(value,dateMeta){if(value&&value instanceof Date)return value.getDate()===dateMeta.day&&value.getMonth()===dateMeta.month&&value.getFullYear()===dateMeta.year;else return false;}},{key:\"isDateBetween\",value:function isDateBetween(start,end,dateMeta){var between=false;if(start&&end){var date=new Date(dateMeta.year,dateMeta.month,dateMeta.day);return start.getTime()<=date.getTime()&&end.getTime()>=date.getTime();}return between;}},{key:\"isSingleSelection\",value:function isSingleSelection(){return this.props.selectionMode==='single';}},{key:\"isRangeSelection\",value:function isRangeSelection(){return this.props.selectionMode==='range';}},{key:\"isMultipleSelection\",value:function isMultipleSelection(){return this.props.selectionMode==='multiple';}},{key:\"isToday\",value:function isToday(today,day,month,year){return today.getDate()===day&&today.getMonth()===month&&today.getFullYear()===year;}},{key:\"isDateDisabled\",value:function isDateDisabled(day,month,year){if(this.props.disabledDates){for(var i=0;i<this.props.disabledDates.length;i++){var disabledDate=this.props.disabledDates[i];if(disabledDate.getFullYear()===year&&disabledDate.getMonth()===month&&disabledDate.getDate()===day){return true;}}}return false;}},{key:\"isDayDisabled\",value:function isDayDisabled(day,month,year){if(this.props.disabledDays){var weekday=new Date(year,month,day);var weekdayNumber=weekday.getDay();return this.props.disabledDays.indexOf(weekdayNumber)!==-1;}return false;}},{key:\"updateInputfield\",value:function updateInputfield(value){if(!this.inputElement){return;}var formattedValue='';if(value){try{if(this.isSingleSelection()){formattedValue=this.isValidDate(value)?this.formatDateTime(value):'';}else if(this.isMultipleSelection()){for(var i=0;i<value.length;i++){var selectedValue=value[i];var dateAsString=this.isValidDate(selectedValue)?this.formatDateTime(selectedValue):'';formattedValue+=dateAsString;if(i!==value.length-1){formattedValue+=', ';}}}else if(this.isRangeSelection()){if(value&&value.length){var startDate=value[0];var endDate=value[1];formattedValue=this.isValidDate(startDate)?this.formatDateTime(startDate):'';if(endDate){formattedValue+=this.isValidDate(endDate)?' - '+this.formatDateTime(endDate):'';}}}}catch(err){formattedValue=value;}}this.inputElement.value=formattedValue;}},{key:\"formatDateTime\",value:function formatDateTime(date){var formattedValue=null;if(date){if(this.props.timeOnly){formattedValue=this.formatTime(date);}else{formattedValue=this.formatDate(date,this.getDateFormat());if(this.props.showTime){formattedValue+=' '+this.formatTime(date);}}}return formattedValue;}},{key:\"formatDate\",value:function formatDate(date,format){if(!date){return'';}var iFormat;var lookAhead=function lookAhead(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)===match;if(matches){iFormat++;}return matches;},formatNumber=function formatNumber(match,value,len){var num=''+value;if(lookAhead(match)){while(num.length<len){num='0'+num;}}return num;},formatName=function formatName(match,value,shortNames,longNames){return lookAhead(match)?longNames[value]:shortNames[value];};var output='';var literal=false;var _localeOptions2=localeOptions(this.props.locale),dayNamesShort=_localeOptions2.dayNamesShort,dayNames=_localeOptions2.dayNames,monthNamesShort=_localeOptions2.monthNamesShort,monthNames=_localeOptions2.monthNames;if(date){for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==='\\''&&!lookAhead('\\'')){literal=false;}else{output+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case'd':output+=formatNumber('d',date.getDate(),2);break;case'D':output+=formatName('D',date.getDay(),dayNamesShort,dayNames);break;case'o':output+=formatNumber('o',Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000),3);break;case'm':output+=formatNumber('m',date.getMonth()+1,2);break;case'M':output+=formatName('M',date.getMonth(),monthNamesShort,monthNames);break;case'y':output+=lookAhead('y')?date.getFullYear():(date.getFullYear()%100<10?'0':'')+date.getFullYear()%100;break;case'@':output+=date.getTime();break;case'!':output+=date.getTime()*10000+this.ticksTo1970;break;case'\\'':if(lookAhead('\\'')){output+='\\'';}else{literal=true;}break;default:output+=format.charAt(iFormat);}}}}return output;}},{key:\"formatTime\",value:function formatTime(date){if(!date){return'';}var output='';var hours=date.getHours();var minutes=date.getMinutes();var seconds=date.getSeconds();var milliseconds=date.getMilliseconds();if(this.props.hourFormat==='12'&&hours>11&&hours!==12){hours-=12;}if(this.props.hourFormat==='12'){output+=hours===0?12:hours<10?'0'+hours:hours;}else{output+=hours<10?'0'+hours:hours;}output+=':';output+=minutes<10?'0'+minutes:minutes;if(this.props.showSeconds){output+=':';output+=seconds<10?'0'+seconds:seconds;}if(this.props.showMillisec){output+='.';output+=milliseconds<100?(milliseconds<10?'00':'0')+milliseconds:milliseconds;}if(this.props.hourFormat==='12'){output+=date.getHours()>11?' PM':' AM';}return output;}},{key:\"parseValueFromString\",value:function parseValueFromString(text){if(!text||text.trim().length===0){return null;}var value;if(this.isSingleSelection()){value=this.parseDateTime(text);}else if(this.isMultipleSelection()){var tokens=text.split(',');value=[];var _iterator2=_createForOfIteratorHelper(tokens),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var token=_step2.value;value.push(this.parseDateTime(token.trim()));}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}else if(this.isRangeSelection()){var _tokens=text.split(' - ');value=[];for(var i=0;i<_tokens.length;i++){value[i]=this.parseDateTime(_tokens[i].trim());}}return value;}},{key:\"parseDateTime\",value:function parseDateTime(text){var date;var parts=text.split(' ');if(this.props.timeOnly){date=new Date();this.populateTime(date,parts[0],parts[1]);}else{if(this.props.showTime){date=this.parseDate(parts[0],this.getDateFormat());this.populateTime(date,parts[1],parts[2]);}else{date=this.parseDate(text,this.getDateFormat());}}return date;}},{key:\"populateTime\",value:function populateTime(value,timeString,ampm){if(this.props.hourFormat==='12'&&ampm!=='PM'&&ampm!=='AM'){throw new Error('Invalid Time');}var time=this.parseTime(timeString,ampm);value.setHours(time.hour);value.setMinutes(time.minute);value.setSeconds(time.second);value.setMilliseconds(time.millisecond);}},{key:\"parseTime\",value:function parseTime(value,ampm){value=this.props.showMillisec?value.replace('.',':'):value;var tokens=value.split(':');var validTokenLength=this.props.showSeconds?3:2;validTokenLength=this.props.showMillisec?validTokenLength+1:validTokenLength;if(tokens.length!==validTokenLength||tokens[0].length!==2||tokens[1].length!==2||this.props.showSeconds&&tokens[2].length!==2||this.props.showMillisec&&tokens[3].length!==3){throw new Error('Invalid time');}var h=parseInt(tokens[0],10);var m=parseInt(tokens[1],10);var s=this.props.showSeconds?parseInt(tokens[2],10):null;var ms=this.props.showMillisec?parseInt(tokens[3],10):null;if(isNaN(h)||isNaN(m)||h>23||m>59||this.props.hourFormat==='12'&&h>12||this.props.showSeconds&&(isNaN(s)||s>59)||this.props.showMillisec&&(isNaN(s)||s>1000)){throw new Error('Invalid time');}else{if(this.props.hourFormat==='12'&&h!==12&&ampm==='PM'){h+=12;}return{hour:h,minute:m,second:s,millisecond:ms};}}// Ported from jquery-ui datepicker parseDate\n},{key:\"parseDate\",value:function parseDate(value,format){if(format==null||value==null){throw new Error('Invalid arguments');}value=typeof value===\"object\"?value.toString():value+\"\";if(value===\"\"){return null;}var iFormat,dim,extra,iValue=0,shortYearCutoff=typeof this.props.shortYearCutoff!==\"string\"?this.props.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.props.shortYearCutoff,10),year=-1,month=-1,day=-1,doy=-1,literal=false,date,lookAhead=function lookAhead(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)===match;if(matches){iFormat++;}return matches;},getNumber=function getNumber(match){var isDoubled=lookAhead(match),size=match===\"@\"?14:match===\"!\"?20:match===\"y\"&&isDoubled?4:match===\"o\"?3:2,minSize=match===\"y\"?size:1,digits=new RegExp(\"^\\\\d{\"+minSize+\",\"+size+\"}\"),num=value.substring(iValue).match(digits);if(!num){throw new Error('Missing number at position '+iValue);}iValue+=num[0].length;return parseInt(num[0],10);},getName=function getName(match,shortNames,longNames){var index=-1;var arr=lookAhead(match)?longNames:shortNames;var names=[];for(var i=0;i<arr.length;i++){names.push([i,arr[i]]);}names.sort(function(a,b){return-(a[1].length-b[1].length);});for(var _i=0;_i<names.length;_i++){var name=names[_i][1];if(value.substr(iValue,name.length).toLowerCase()===name.toLowerCase()){index=names[_i][0];iValue+=name.length;break;}}if(index!==-1){return index+1;}else{throw new Error('Unknown name at position '+iValue);}},checkLiteral=function checkLiteral(){if(value.charAt(iValue)!==format.charAt(iFormat)){throw new Error('Unexpected literal at position '+iValue);}iValue++;};if(this.props.view==='month'){day=1;}var _localeOptions3=localeOptions(this.props.locale),dayNamesShort=_localeOptions3.dayNamesShort,dayNames=_localeOptions3.dayNames,monthNamesShort=_localeOptions3.monthNamesShort,monthNames=_localeOptions3.monthNames;for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)===\"'\"&&!lookAhead(\"'\")){literal=false;}else{checkLiteral();}}else{switch(format.charAt(iFormat)){case\"d\":day=getNumber(\"d\");break;case\"D\":getName(\"D\",dayNamesShort,dayNames);break;case\"o\":doy=getNumber(\"o\");break;case\"m\":month=getNumber(\"m\");break;case\"M\":month=getName(\"M\",monthNamesShort,monthNames);break;case\"y\":year=getNumber(\"y\");break;case\"@\":date=new Date(getNumber(\"@\"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case\"!\":date=new Date((getNumber(\"!\")-this.ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case\"'\":if(lookAhead(\"'\")){checkLiteral();}else{literal=true;}break;default:checkLiteral();}}}if(iValue<value.length){extra=value.substr(iValue);if(!/^\\s+/.test(extra)){throw new Error('Extra/unparsed characters found in date: '+extra);}}if(year===-1){year=new Date().getFullYear();}else if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+(year<=shortYearCutoff?0:-100);}if(doy>-1){month=1;day=doy;do{dim=this.getDaysCountInMonth(year,month-1);if(day<=dim){break;}month++;day-=dim;}while(true);}date=this.daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day){throw new Error('Invalid date');// E.g. 31/02/00\n}return date;}},{key:\"renderBackwardNavigator\",value:function renderBackwardNavigator(isVisible){var _this13=this;var navigatorProps=isVisible?{'onClick':this.onPrevButtonClick,'onKeyDown':function onKeyDown(e){return _this13.onContainerButtonKeydown(e);}}:{'style':{visibility:'hidden'}};return/*#__PURE__*/React.createElement(\"button\",Object.assign({type:\"button\",className:\"p-datepicker-prev p-link\"},navigatorProps),/*#__PURE__*/React.createElement(\"span\",{className:\"p-datepicker-prev-icon pi pi-chevron-left\"}),/*#__PURE__*/React.createElement(Ripple,null));}},{key:\"renderForwardNavigator\",value:function renderForwardNavigator(isVisible){var _this14=this;var navigatorProps=isVisible?{'onClick':this.onNextButtonClick,'onKeyDown':function onKeyDown(e){return _this14.onContainerButtonKeydown(e);}}:{'style':{visibility:'hidden'}};return/*#__PURE__*/React.createElement(\"button\",Object.assign({type:\"button\",className:\"p-datepicker-next p-link\"},navigatorProps),/*#__PURE__*/React.createElement(\"span\",{className:\"p-datepicker-next-icon pi pi-chevron-right\"}),/*#__PURE__*/React.createElement(Ripple,null));}},{key:\"isInMinYear\",value:function isInMinYear(viewDate){return this.props.minDate&&this.props.minDate.getFullYear()===viewDate.getFullYear();}},{key:\"isInMaxYear\",value:function isInMaxYear(viewDate){return this.props.maxDate&&this.props.maxDate.getFullYear()===viewDate.getFullYear();}},{key:\"renderTitleMonthElement\",value:function renderTitleMonthElement(month){var _this15=this;var monthNames=localeOption('monthNames',this.props.locale);if(this.props.monthNavigator&&this.props.view!=='month'){var viewDate=this.getViewDate();var viewMonth=viewDate.getMonth();return/*#__PURE__*/React.createElement(\"select\",{className:\"p-datepicker-month\",onChange:this.onMonthDropdownChange,value:viewMonth},monthNames.map(function(month,index){if((!_this15.isInMinYear(viewDate)||index>=_this15.props.minDate.getMonth())&&(!_this15.isInMaxYear(viewDate)||index<=_this15.props.maxDate.getMonth())){return/*#__PURE__*/React.createElement(\"option\",{key:month,value:index},month);}return null;}));}else{return/*#__PURE__*/React.createElement(\"span\",{className:\"p-datepicker-month\"},monthNames[month]);}}},{key:\"renderTitleYearElement\",value:function renderTitleYearElement(year){var _this16=this;if(this.props.yearNavigator){var yearOptions=[];var years=this.props.yearRange.split(':');var yearStart=parseInt(years[0],10);var yearEnd=parseInt(years[1],10);for(var i=yearStart;i<=yearEnd;i++){yearOptions.push(i);}var viewDate=this.getViewDate();var viewYear=viewDate.getFullYear();return/*#__PURE__*/React.createElement(\"select\",{className:\"p-datepicker-year\",onChange:this.onYearDropdownChange,value:viewYear},yearOptions.map(function(year){if(!(_this16.props.minDate&&_this16.props.minDate.getFullYear()>year)&&!(_this16.props.maxDate&&_this16.props.maxDate.getFullYear()<year)){return/*#__PURE__*/React.createElement(\"option\",{key:year,value:year},year);}return null;}));}else{return/*#__PURE__*/React.createElement(\"span\",{className:\"p-datepicker-year\"},year);}}},{key:\"renderTitle\",value:function renderTitle(monthMetaData){var month=this.renderTitleMonthElement(monthMetaData.month);var year=this.renderTitleYearElement(monthMetaData.year);return/*#__PURE__*/React.createElement(\"div\",{className:\"p-datepicker-title\"},month,year);}},{key:\"renderDayNames\",value:function renderDayNames(weekDays){var dayNames=weekDays.map(function(weekDay){return/*#__PURE__*/React.createElement(\"th\",{key:weekDay,scope:\"col\"},/*#__PURE__*/React.createElement(\"span\",null,weekDay));});if(this.props.showWeek){var weekHeader=/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",key:'wn',className:\"p-datepicker-weekheader p-disabled\"},/*#__PURE__*/React.createElement(\"span\",null,localeOption('weekHeader',this.props.locale)));return[weekHeader].concat(_toConsumableArray(dayNames));}else{return dayNames;}}},{key:\"renderDateCellContent\",value:function renderDateCellContent(date,className,groupIndex){var _this17=this;var content=this.props.dateTemplate?this.props.dateTemplate(date):date.day;return/*#__PURE__*/React.createElement(\"span\",{className:className,onClick:function onClick(e){return _this17.onDateSelect(e,date);},onKeyDown:function onKeyDown(e){return _this17.onDateCellKeydown(e,date,groupIndex);}},content,/*#__PURE__*/React.createElement(Ripple,null));}},{key:\"renderWeek\",value:function renderWeek(weekDates,weekNumber,groupIndex){var _this18=this;var week=weekDates.map(function(date){var selected=_this18.isSelected(date);var cellClassName=classNames({'p-datepicker-other-month':date.otherMonth,'p-datepicker-today':date.today});var dateClassName=classNames({'p-highlight':selected,'p-disabled':!date.selectable});var content=date.otherMonth&&!_this18.props.showOtherMonths?null:_this18.renderDateCellContent(date,dateClassName,groupIndex);return/*#__PURE__*/React.createElement(\"td\",{key:date.day,className:cellClassName},content);});if(this.props.showWeek){var weekNumberCell=/*#__PURE__*/React.createElement(\"td\",{key:'wn'+weekNumber,className:\"p-datepicker-weeknumber\"},/*#__PURE__*/React.createElement(\"span\",{className:\"p-disabled\"},weekNumber));return[weekNumberCell].concat(_toConsumableArray(week));}else{return week;}}},{key:\"renderDates\",value:function renderDates(monthMetaData,groupIndex){var _this19=this;return monthMetaData.dates.map(function(weekDates,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},_this19.renderWeek(weekDates,monthMetaData.weekNumbers[index],groupIndex));});}},{key:\"renderDateViewGrid\",value:function renderDateViewGrid(monthMetaData,weekDays,groupIndex){var dayNames=this.renderDayNames(weekDays);var dates=this.renderDates(monthMetaData,groupIndex);return/*#__PURE__*/React.createElement(\"div\",{className:\"p-datepicker-calendar-container\"},/*#__PURE__*/React.createElement(\"table\",{className:\"p-datepicker-calendar\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,dayNames)),/*#__PURE__*/React.createElement(\"tbody\",null,dates)));}},{key:\"renderMonth\",value:function renderMonth(monthMetaData,index){var weekDays=this.createWeekDays();var backwardNavigator=this.renderBackwardNavigator(index===0);var forwardNavigator=this.renderForwardNavigator(this.props.numberOfMonths===1||index===this.props.numberOfMonths-1);var title=this.renderTitle(monthMetaData);var dateViewGrid=this.renderDateViewGrid(monthMetaData,weekDays,index);var header=this.props.headerTemplate?this.props.headerTemplate():null;return/*#__PURE__*/React.createElement(\"div\",{key:monthMetaData.month,className:\"p-datepicker-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-datepicker-header\"},header,backwardNavigator,title,forwardNavigator),dateViewGrid);}},{key:\"renderMonths\",value:function renderMonths(monthsMetaData){var _this20=this;var groups=monthsMetaData.map(function(monthMetaData,index){return _this20.renderMonth(monthMetaData,index);});return/*#__PURE__*/React.createElement(\"div\",{className:\"p-datepicker-group-container\"},groups);}},{key:\"renderDateView\",value:function renderDateView(){var viewDate=this.getViewDate();var monthsMetaData=this.createMonths(viewDate.getMonth(),viewDate.getFullYear());var months=this.renderMonths(monthsMetaData);return/*#__PURE__*/React.createElement(React.Fragment,null,months);}},{key:\"renderMonthViewMonth\",value:function renderMonthViewMonth(index){var _this21=this;var className=classNames('p-monthpicker-month',{'p-highlight':this.isMonthSelected(index)});var monthNamesShort=localeOption('monthNamesShort',this.props.locale);var monthName=monthNamesShort[index];return/*#__PURE__*/React.createElement(\"span\",{key:monthName,className:className,onClick:function onClick(event){return _this21.onMonthSelect(event,index);},onKeyDown:function onKeyDown(event){return _this21.onMonthCellKeydown(event,index);}},monthName,/*#__PURE__*/React.createElement(Ripple,null));}},{key:\"renderMonthViewMonths\",value:function renderMonthViewMonths(){var months=[];for(var i=0;i<=11;i++){months.push(this.renderMonthViewMonth(i));}return months;}},{key:\"renderMonthView\",value:function renderMonthView(){var backwardNavigator=this.renderBackwardNavigator();var forwardNavigator=this.renderForwardNavigator();var yearElement=this.renderTitleYearElement(this.getViewDate().getFullYear());var months=this.renderMonthViewMonths();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"p-datepicker-header\"},backwardNavigator,forwardNavigator,/*#__PURE__*/React.createElement(\"div\",{className:\"p-datepicker-title\"},yearElement)),/*#__PURE__*/React.createElement(\"div\",{className:\"p-monthpicker\"},months));}},{key:\"renderDatePicker\",value:function renderDatePicker(){if(!this.props.timeOnly){if(this.props.view==='date'){return this.renderDateView();}else if(this.props.view==='month'){return this.renderMonthView();}else{return null;}}}},{key:\"renderHourPicker\",value:function renderHourPicker(){var _this22=this;var currentTime=this.props.value&&this.props.value instanceof Date?this.props.value:this.getViewDate();var hour=currentTime.getHours();if(this.props.hourFormat==='12'){if(hour===0)hour=12;else if(hour>11&&hour!==12)hour=hour-12;}var hourDisplay=hour<10?'0'+hour:hour;return/*#__PURE__*/React.createElement(\"div\",{className:\"p-hour-picker\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"p-link\",onMouseDown:function onMouseDown(e){return _this22.onTimePickerElementMouseDown(e,0,1);},onMouseUp:this.onTimePickerElementMouseUp,onMouseLeave:this.onTimePickerElementMouseLeave,onKeyDown:function onKeyDown(e){return _this22.onContainerButtonKeydown(e);}},/*#__PURE__*/React.createElement(\"span\",{className:\"pi pi-chevron-up\"}),/*#__PURE__*/React.createElement(Ripple,null)),/*#__PURE__*/React.createElement(\"span\",null,hourDisplay),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"p-link\",onMouseDown:function onMouseDown(e){return _this22.onTimePickerElementMouseDown(e,0,-1);},onMouseUp:this.onTimePickerElementMouseUp,onMouseLeave:this.onTimePickerElementMouseLeave,onKeyDown:function onKeyDown(e){return _this22.onContainerButtonKeydown(e);}},/*#__PURE__*/React.createElement(\"span\",{className:\"pi pi-chevron-down\"}),/*#__PURE__*/React.createElement(Ripple,null)));}},{key:\"renderMinutePicker\",value:function renderMinutePicker(){var _this23=this;var currentTime=this.props.value&&this.props.value instanceof Date?this.props.value:this.getViewDate();var minute=currentTime.getMinutes();var minuteDisplay=minute<10?'0'+minute:minute;return/*#__PURE__*/React.createElement(\"div\",{className:\"p-minute-picker\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"p-link\",onMouseDown:function onMouseDown(e){return _this23.onTimePickerElementMouseDown(e,1,1);},onMouseUp:this.onTimePickerElementMouseUp,onMouseLeave:this.onTimePickerElementMouseLeave,onKeyDown:function onKeyDown(e){return _this23.onContainerButtonKeydown(e);}},/*#__PURE__*/React.createElement(\"span\",{className:\"pi pi-chevron-up\"}),/*#__PURE__*/React.createElement(Ripple,null)),/*#__PURE__*/React.createElement(\"span\",null,minuteDisplay),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"p-link\",onMouseDown:function onMouseDown(e){return _this23.onTimePickerElementMouseDown(e,1,-1);},onMouseUp:this.onTimePickerElementMouseUp,onMouseLeave:this.onTimePickerElementMouseLeave,onKeyDown:function onKeyDown(e){return _this23.onContainerButtonKeydown(e);}},/*#__PURE__*/React.createElement(\"span\",{className:\"pi pi-chevron-down\"}),/*#__PURE__*/React.createElement(Ripple,null)));}},{key:\"renderSecondPicker\",value:function renderSecondPicker(){var _this24=this;if(this.props.showSeconds){var currentTime=this.props.value&&this.props.value instanceof Date?this.props.value:this.getViewDate();var second=currentTime.getSeconds();var secondDisplay=second<10?'0'+second:second;return/*#__PURE__*/React.createElement(\"div\",{className:\"p-second-picker\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"p-link\",onMouseDown:function onMouseDown(e){return _this24.onTimePickerElementMouseDown(e,2,1);},onMouseUp:this.onTimePickerElementMouseUp,onMouseLeave:this.onTimePickerElementMouseLeave,onKeyDown:function onKeyDown(e){return _this24.onContainerButtonKeydown(e);}},/*#__PURE__*/React.createElement(\"span\",{className:\"pi pi-chevron-up\"}),/*#__PURE__*/React.createElement(Ripple,null)),/*#__PURE__*/React.createElement(\"span\",null,secondDisplay),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"p-link\",onMouseDown:function onMouseDown(e){return _this24.onTimePickerElementMouseDown(e,2,-1);},onMouseUp:this.onTimePickerElementMouseUp,onMouseLeave:this.onTimePickerElementMouseLeave,onKeyDown:function onKeyDown(e){return _this24.onContainerButtonKeydown(e);}},/*#__PURE__*/React.createElement(\"span\",{className:\"pi pi-chevron-down\"}),/*#__PURE__*/React.createElement(Ripple,null)));}return null;}},{key:\"renderMiliSecondPicker\",value:function renderMiliSecondPicker(){var _this25=this;if(this.props.showMillisec){var currentTime=this.props.value&&this.props.value instanceof Date?this.props.value:this.getViewDate();var millisecond=currentTime.getMilliseconds();var millisecondDisplay=millisecond<100?(millisecond<10?'00':'0')+millisecond:millisecond;return/*#__PURE__*/React.createElement(\"div\",{className:\"p-millisecond-picker\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"p-link\",onMouseDown:function onMouseDown(e){return _this25.onTimePickerElementMouseDown(e,3,1);},onMouseUp:this.onTimePickerElementMouseUp,onMouseLeave:this.onTimePickerElementMouseLeave,onKeyDown:function onKeyDown(e){return _this25.onContainerButtonKeydown(e);}},/*#__PURE__*/React.createElement(\"span\",{className:\"pi pi-chevron-up\"}),/*#__PURE__*/React.createElement(Ripple,null)),/*#__PURE__*/React.createElement(\"span\",null,millisecondDisplay),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"p-link\",onMouseDown:function onMouseDown(e){return _this25.onTimePickerElementMouseDown(e,3,-1);},onMouseUp:this.onTimePickerElementMouseUp,onMouseLeave:this.onTimePickerElementMouseLeave,onKeyDown:function onKeyDown(e){return _this25.onContainerButtonKeydown(e);}},/*#__PURE__*/React.createElement(\"span\",{className:\"pi pi-chevron-down\"}),/*#__PURE__*/React.createElement(Ripple,null)));}return null;}},{key:\"renderAmPmPicker\",value:function renderAmPmPicker(){if(this.props.hourFormat==='12'){var currentTime=this.props.value&&this.props.value instanceof Date?this.props.value:this.getViewDate();var hour=currentTime.getHours();var display=hour>11?'PM':'AM';return/*#__PURE__*/React.createElement(\"div\",{className:\"p-ampm-picker\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"p-link\",onClick:this.toggleAmPm},/*#__PURE__*/React.createElement(\"span\",{className:\"pi pi-chevron-up\"}),/*#__PURE__*/React.createElement(Ripple,null)),/*#__PURE__*/React.createElement(\"span\",null,display),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"p-link\",onClick:this.toggleAmPm},/*#__PURE__*/React.createElement(\"span\",{className:\"pi pi-chevron-down\"}),/*#__PURE__*/React.createElement(Ripple,null)));}return null;}},{key:\"renderSeparator\",value:function renderSeparator(separator){return/*#__PURE__*/React.createElement(\"div\",{className:\"p-separator\"},/*#__PURE__*/React.createElement(\"span\",null,separator));}},{key:\"renderTimePicker\",value:function renderTimePicker(){if(this.props.showTime||this.props.timeOnly){return/*#__PURE__*/React.createElement(\"div\",{className:\"p-timepicker\"},this.renderHourPicker(),this.renderSeparator(':'),this.renderMinutePicker(),this.props.showSeconds&&this.renderSeparator(':'),this.renderSecondPicker(),this.props.showMillisec&&this.renderSeparator('.'),this.renderMiliSecondPicker(),this.props.hourFormat==='12'&&this.renderSeparator(':'),this.renderAmPmPicker());}return null;}},{key:\"renderInputElement\",value:function renderInputElement(){var _this26=this;if(!this.props.inline){return/*#__PURE__*/React.createElement(InputText,{ref:function ref(el){return _this26.inputElement=el;},id:this.props.inputId,name:this.props.name,type:\"text\",className:this.props.inputClassName,style:this.props.inputStyle,readOnly:this.props.readOnlyInput,disabled:this.props.disabled,required:this.props.required,autoComplete:\"off\",placeholder:this.props.placeholder,onInput:this.onUserInput,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onKeyDown:this.onInputKeyDown,\"aria-labelledby\":this.props.ariaLabelledBy,inputMode:\"none\"});}return null;}},{key:\"renderButton\",value:function renderButton(){if(this.props.showIcon){return/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:this.props.icon,onClick:this.onButtonClick,tabIndex:\"-1\",disabled:this.props.disabled,className:\"p-datepicker-trigger\"});}return null;}},{key:\"renderButtonBar\",value:function renderButtonBar(){var _this27=this;if(this.props.showButtonBar){var todayClassName=classNames('p-button-text',this.props.todayButtonClassName);var clearClassName=classNames('p-button-text',this.props.clearButtonClassName);var _localeOptions4=localeOptions(this.props.locale),today=_localeOptions4.today,clear=_localeOptions4.clear;return/*#__PURE__*/React.createElement(\"div\",{className:\"p-datepicker-buttonbar\"},/*#__PURE__*/React.createElement(Button,{type:\"button\",label:today,onClick:this.onTodayButtonClick,onKeyDown:function onKeyDown(e){return _this27.onContainerButtonKeydown(e);},className:todayClassName}),/*#__PURE__*/React.createElement(Button,{type:\"button\",label:clear,onClick:this.onClearButtonClick,onKeyDown:function onKeyDown(e){return _this27.onContainerButtonKeydown(e);},className:clearClassName}));}return null;}},{key:\"renderFooter\",value:function renderFooter(){if(this.props.footerTemplate){var content=this.props.footerTemplate();return/*#__PURE__*/React.createElement(\"div\",{className:\"p-datepicker-footer\"},content);}return null;}},{key:\"render\",value:function render(){var _this28=this;var className=classNames('p-calendar p-component p-inputwrapper',this.props.className,{'p-calendar-w-btn':this.props.showIcon,'p-calendar-timeonly':this.props.timeOnly,'p-inputwrapper-filled':this.props.value||DomHandler.hasClass(this.inputElement,'p-filled')&&this.inputElement.value!=='','p-inputwrapper-focus':this.state.focused});var panelClassName=classNames('p-datepicker p-component',this.props.panelClassName,{'p-datepicker-inline':this.props.inline,'p-disabled':this.props.disabled,'p-datepicker-timeonly':this.props.timeOnly,'p-datepicker-multiple-month':this.props.numberOfMonths>1,'p-datepicker-monthpicker':this.props.view==='month','p-datepicker-touch-ui':this.props.touchUI});var input=this.renderInputElement();var button=this.renderButton();var datePicker=this.renderDatePicker();var timePicker=this.renderTimePicker();var buttonBar=this.renderButtonBar();var footer=this.renderFooter();return/*#__PURE__*/React.createElement(\"span\",{ref:function ref(el){return _this28.container=el;},id:this.id,className:className,style:this.props.style},input,button,/*#__PURE__*/React.createElement(CalendarPanel,{ref:this.overlayRef,className:panelClassName,style:this.props.panelStyle,appendTo:this.props.appendTo,onClick:this.onPanelClick,in:this.props.inline||this.state.overlayVisible,onEnter:this.onOverlayEnter,onEntered:this.onOverlayEntered,onExit:this.onOverlayExit},datePicker,timePicker,buttonBar,footer));}}]);return Calendar;}(Component);Calendar.defaultProps={id:null,name:null,value:null,viewDate:null,style:null,className:null,inline:false,selectionMode:'single',inputId:null,inputStyle:null,inputClassName:null,required:false,readOnlyInput:false,keepInvalid:false,disabled:false,tabIndex:null,placeholder:null,showIcon:false,icon:'pi pi-calendar',showOnFocus:true,numberOfMonths:1,view:'date',touchUI:false,showTime:false,timeOnly:false,showSeconds:false,showMillisec:false,hourFormat:'24',stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,shortYearCutoff:'+10',hideOnDateTimeSelect:false,showWeek:false,locale:null,dateFormat:null,panelStyle:null,panelClassName:null,monthNavigator:false,yearNavigator:false,disabledDates:null,disabledDays:null,minDate:null,maxDate:null,maxDateCount:null,showOtherMonths:true,selectOtherMonths:false,showButtonBar:false,todayButtonClassName:'p-button-secondary',clearButtonClassName:'p-button-secondary',autoZIndex:true,baseZIndex:0,appendTo:null,tooltip:null,tooltipOptions:null,ariaLabelledBy:null,dateTemplate:null,headerTemplate:null,footerTemplate:null,onFocus:null,onBlur:null,onInput:null,onSelect:null,onChange:null,onViewDateChange:null,onTodayButtonClick:null,onClearButtonClick:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/components/calendar/Calendar.js"],"names":["React","Component","InputText","Button","CalendarPanel","DomHandler","classNames","tip","Ripple","UniqueComponentId","ConnectedOverlayScrollHandler","localeOption","localeOptions","OverlayEventBus","Calendar","props","state","focused","overlayVisible","onViewDateChange","propValue","value","Array","isArray","viewDate","isValidDate","Date","validateDate","navigation","onUserInput","bind","onInputFocus","onInputBlur","onInputKeyDown","onButtonClick","onPrevButtonClick","onNextButtonClick","onMonthDropdownChange","onYearDropdownChange","onTodayButtonClick","onClearButtonClick","onPanelClick","incrementHour","decrementHour","incrementMinute","decrementMinute","incrementSecond","decrementSecond","toggleAmPm","onTimePickerElementMouseDown","onTimePickerElementMouseUp","onTimePickerElementMouseLeave","onOverlayEnter","onOverlayEntered","onOverlayExit","reFocusInputField","id","overlayRef","createRef","tooltip","renderTooltip","inline","initFocusableCell","updateInputfield","prevProps","tooltipOptions","update","content","viewStateChanged","prevPropValue","getTime","setState","current","updateFocus","isOptionChanged","hideTimeout","clearTimeout","mask","disableModality","destroy","unbindDocumentClickListener","unbindDocumentResizeListener","scrollHandler","target","inputElement","options","optionProps","some","option","dateFormat","locale","event","ignoreFocusFunctionality","persist","showOnFocus","showOverlay","onFocus","onBlur","keepInvalid","isKeydown","which","hideOverlay","trapFocus","touchUI","rawValue","parseValueFromString","isValidSelection","updateModel","updateViewDate","length","err","onInput","focus","isValid","isSingleSelection","isSelectable","getDate","getMonth","getFullYear","isSelectableTime","every","v","isRangeSelection","backward","button","navBackward","navForward","preventDefault","focusableElements","getFocusableElements","document","activeElement","focusedIndex","indexOf","shiftKey","cell","findSingle","cells","find","tabIndex","view","selectedCell","forEach","todayCell","disabled","newViewDate","getViewDate","setDate","setMonth","setFullYear","currentYear","newYear","yearNavigator","minYear","parseInt","yearRange","split","maxYear","currentViewDate","today","dateMeta","day","month","year","selectable","timeMeta","hours","getHours","minutes","getMinutes","seconds","getSeconds","milliseconds","getMilliseconds","onDateSelect","emit","originalEvent","container","type","direction","repeat","clearTimePickerTimer","interval","i","timePickerTimer","setTimeout","incrementMilliSecond","decrementMilliSecond","currentTime","currentHour","newHour","stepHour","validateHour","maxDate","toDateString","updateTime","minDate","currentMinute","newMinute","stepMinute","validateMinute","currentSecond","newSecond","stepSecond","validateSecond","currentMillisecond","newMillisecond","stepMillisec","validateMillisecond","date","isNaN","hour","valid","valueDateString","minute","second","millisecond","viewYear","minRangeYear","maxRangeYear","Math","max","min","monthNavigator","viewMonth","viewMonthWithMinMax","isInMinYear","toString","isInMaxYear","newDateTime","setHours","setMinutes","setSeconds","setMilliseconds","onSelect","groupIndex","cellContent","currentTarget","parentElement","cellIndex","index","nextRow","nextElementSibling","focusCell","children","hasClass","prevRow","previousElementSibling","prevCell","navigateToMonth","nextCell","prev","numberOfMonths","prevMonthContainer","nextMonthContainer","onMonthSelect","isMultipleSelection","isSelected","filter","isDateEquals","maxDateCount","selectDate","showTime","hideOnDateTimeSelect","time","selectTime","selectedValues","startDate","endDate","onChange","stopPropagation","name","callback","autoZIndex","style","zIndex","String","baseZIndex","generateZIndex","alignOverlay","bindDocumentClickListener","bindDocumentResizeListener","bindScrollListener","unbindScrollListener","documentClickListener","isOutsideClicked","addEventListener","removeEventListener","documentResizeListener","onWindowResize","window","isSameNode","isNavIconClicked","contains","isAndroid","enableModality","appendTo","absolutePosition","minWidth","getWidth","relativePosition","createElement","addMultipleClasses","maskClickListener","body","appendChild","addClass","removeChild","bodyChildren","hasBlockerMasks","bodyChild","removeClass","dayIndex","getDay","getSundayIndex","daylightSavingAdjust","getPreviousMonthAndYear","getDaysCountInMonth","m","y","firstDayOfWeek","weekDays","dayNamesMin","push","months","createMonth","dates","firstDay","getFirstDayOfMonthIndex","daysLength","prevMonthDaysLength","getDaysCountInPrevMonth","dayNo","weekNumbers","monthRows","ceil","week","j","otherMonth","isToday","remainingDaysLength","next","getNextMonthAndYear","showWeek","getWeekNumber","checkDate","floor","round","validMin","validMax","validDate","validDay","validMonth","disabledDates","isDateDisabled","disabledDays","isDayDisabled","selectOtherMonths","selected","isDateBetween","start","end","between","selectionMode","disabledDate","weekday","weekdayNumber","formattedValue","formatDateTime","selectedValue","dateAsString","timeOnly","formatTime","formatDate","getDateFormat","format","iFormat","lookAhead","match","matches","charAt","formatNumber","len","num","formatName","shortNames","longNames","output","literal","dayNamesShort","dayNames","monthNamesShort","monthNames","ticksTo1970","hourFormat","showSeconds","showMillisec","text","trim","parseDateTime","tokens","token","parts","populateTime","parseDate","timeString","ampm","Error","parseTime","replace","validTokenLength","h","s","ms","dim","extra","iValue","shortYearCutoff","doy","getNumber","isDoubled","size","minSize","digits","RegExp","substring","getName","arr","names","sort","a","b","substr","toLowerCase","checkLiteral","test","isVisible","navigatorProps","e","onContainerButtonKeydown","visibility","map","yearOptions","years","yearStart","yearEnd","monthMetaData","renderTitleMonthElement","renderTitleYearElement","weekDay","weekHeader","className","dateTemplate","onDateCellKeydown","weekDates","weekNumber","cellClassName","dateClassName","showOtherMonths","renderDateCellContent","weekNumberCell","renderWeek","renderDayNames","renderDates","createWeekDays","backwardNavigator","renderBackwardNavigator","forwardNavigator","renderForwardNavigator","title","renderTitle","dateViewGrid","renderDateViewGrid","header","headerTemplate","monthsMetaData","groups","renderMonth","createMonths","renderMonths","isMonthSelected","monthName","onMonthCellKeydown","renderMonthViewMonth","yearElement","renderMonthViewMonths","renderDateView","renderMonthView","hourDisplay","minuteDisplay","secondDisplay","millisecondDisplay","display","separator","renderHourPicker","renderSeparator","renderMinutePicker","renderSecondPicker","renderMiliSecondPicker","renderAmPmPicker","el","inputId","inputClassName","inputStyle","readOnlyInput","required","placeholder","ariaLabelledBy","showIcon","icon","showButtonBar","todayClassName","todayButtonClassName","clearClassName","clearButtonClassName","clear","footerTemplate","panelClassName","input","renderInputElement","renderButton","datePicker","renderDatePicker","timePicker","renderTimePicker","buttonBar","renderButtonBar","footer","renderFooter","panelStyle","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { InputText } from '../inputtext/InputText';\r\nimport { Button } from '../button/Button';\r\nimport { CalendarPanel } from './CalendarPanel';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport { tip } from '../tooltip/Tooltip';\r\nimport { Ripple } from '../ripple/Ripple';\r\nimport UniqueComponentId from '../utils/UniqueComponentId';\r\nimport ConnectedOverlayScrollHandler from '../utils/ConnectedOverlayScrollHandler';\r\nimport { localeOption, localeOptions } from '../api/Locale';\r\nimport OverlayEventBus from '../overlayeventbus/OverlayEventBus';\r\n\r\nexport class Calendar extends Component {\r\n\r\n    static defaultProps = {\r\n        id: null,\r\n        name: null,\r\n        value: null,\r\n        viewDate: null,\r\n        style: null,\r\n        className: null,\r\n        inline: false,\r\n        selectionMode: 'single',\r\n        inputId: null,\r\n        inputStyle: null,\r\n        inputClassName: null,\r\n        required: false,\r\n        readOnlyInput: false,\r\n        keepInvalid: false,\r\n        disabled: false,\r\n        tabIndex: null,\r\n        placeholder: null,\r\n        showIcon: false,\r\n        icon: 'pi pi-calendar',\r\n        showOnFocus: true,\r\n        numberOfMonths: 1,\r\n        view: 'date',\r\n        touchUI: false,\r\n        showTime: false,\r\n        timeOnly: false,\r\n        showSeconds: false,\r\n        showMillisec: false,\r\n        hourFormat: '24',\r\n        stepHour: 1,\r\n        stepMinute: 1,\r\n        stepSecond: 1,\r\n        stepMillisec: 1,\r\n        shortYearCutoff: '+10',\r\n        hideOnDateTimeSelect: false,\r\n        showWeek: false,\r\n        locale: null,\r\n        dateFormat: null,\r\n        panelStyle: null,\r\n        panelClassName: null,\r\n        monthNavigator: false,\r\n        yearNavigator: false,\r\n        disabledDates: null,\r\n        disabledDays: null,\r\n        minDate: null,\r\n        maxDate: null,\r\n        maxDateCount: null,\r\n        showOtherMonths: true,\r\n        selectOtherMonths: false,\r\n        showButtonBar: false,\r\n        todayButtonClassName: 'p-button-secondary',\r\n        clearButtonClassName: 'p-button-secondary',\r\n        autoZIndex: true,\r\n        baseZIndex: 0,\r\n        appendTo: null,\r\n        tooltip: null,\r\n        tooltipOptions: null,\r\n        ariaLabelledBy: null,\r\n        dateTemplate: null,\r\n        headerTemplate: null,\r\n        footerTemplate: null,\r\n        onFocus: null,\r\n        onBlur: null,\r\n        onInput: null,\r\n        onSelect: null,\r\n        onChange: null,\r\n        onViewDateChange: null,\r\n        onTodayButtonClick: null,\r\n        onClearButtonClick: null\r\n    }\r\n\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        name: PropTypes.string,\r\n        value: PropTypes.any,\r\n        viewDate: PropTypes.any,\r\n        style: PropTypes.object,\r\n        className: PropTypes.string,\r\n        inline: PropTypes.bool,\r\n        selectionMode: PropTypes.string,\r\n        inputId: PropTypes.string,\r\n        inputStyle: PropTypes.object,\r\n        inputClassName: PropTypes.string,\r\n        required: PropTypes.bool,\r\n        readOnlyInput: PropTypes.bool,\r\n        keepInvalid: PropTypes.bool,\r\n        disabled: PropTypes.bool,\r\n        tabIndex: PropTypes.number,\r\n        placeholder: PropTypes.string,\r\n        showIcon: PropTypes.bool,\r\n        icon: PropTypes.string,\r\n        showOnFocus: PropTypes.bool,\r\n        numberOfMonths: PropTypes.number,\r\n        view: PropTypes.string,\r\n        touchUI: PropTypes.bool,\r\n        showTime: PropTypes.bool,\r\n        timeOnly: PropTypes.bool,\r\n        showSeconds: PropTypes.bool,\r\n        showMillisec: PropTypes.bool,\r\n        hourFormat: PropTypes.string,\r\n        stepHour: PropTypes.number,\r\n        stepMinute: PropTypes.number,\r\n        stepSecond: PropTypes.number,\r\n        stepMillisec: PropTypes.number,\r\n        shortYearCutoff: PropTypes.string,\r\n        hideOnDateTimeSelect: PropTypes.bool,\r\n        showWeek: PropTypes.bool,\r\n        locale: PropTypes.string,\r\n        dateFormat: PropTypes.string,\r\n        panelStyle: PropTypes.object,\r\n        panelClassName: PropTypes.string,\r\n        monthNavigator: PropTypes.bool,\r\n        yearNavigator: PropTypes.bool,\r\n        disabledDates: PropTypes.array,\r\n        disabledDays: PropTypes.array,\r\n        minDate: PropTypes.any,\r\n        maxDate: PropTypes.any,\r\n        maxDateCount: PropTypes.number,\r\n        showOtherMonths: PropTypes.bool,\r\n        selectOtherMonths: PropTypes.bool,\r\n        showButtonBar: PropTypes.bool,\r\n        todayButtonClassName: PropTypes.string,\r\n        clearButtonClassName: PropTypes.string,\r\n        autoZIndex: PropTypes.bool,\r\n        baseZIndex: PropTypes.number,\r\n        appendTo: PropTypes.any,\r\n        tooltip: PropTypes.string,\r\n        tooltipOptions: PropTypes.object,\r\n        ariaLabelledBy: PropTypes.string,\r\n        dateTemplate: PropTypes.func,\r\n        headerTemplate: PropTypes.func,\r\n        footerTemplate: PropTypes.func,\r\n        onFocus: PropTypes.func,\r\n        onBlur: PropTypes.func,\r\n        onInput: PropTypes.func,\r\n        onSelect: PropTypes.func,\r\n        onChange: PropTypes.func,\r\n        onViewDateChange: PropTypes.func,\r\n        onTodayButtonClick: PropTypes.func,\r\n        onClearButtonClick: PropTypes.func,\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            focused: false,\r\n            overlayVisible: false\r\n        };\r\n\r\n        if (!this.props.onViewDateChange) {\r\n            let propValue = this.props.value;\r\n            if (Array.isArray(propValue)) {\r\n                propValue = propValue[0];\r\n            }\r\n\r\n            let viewDate = this.props.viewDate && this.isValidDate(this.props.viewDate) ?\r\n                this.props.viewDate : (propValue && this.isValidDate(propValue) ? propValue : new Date());\r\n\r\n            this.validateDate(viewDate);\r\n\r\n            this.state = {\r\n                ...this.state,\r\n                viewDate\r\n            }\r\n        }\r\n\r\n        this.navigation = null;\r\n\r\n        this.onUserInput = this.onUserInput.bind(this);\r\n        this.onInputFocus = this.onInputFocus.bind(this);\r\n        this.onInputBlur = this.onInputBlur.bind(this);\r\n        this.onInputKeyDown = this.onInputKeyDown.bind(this);\r\n        this.onButtonClick = this.onButtonClick.bind(this);\r\n        this.onPrevButtonClick = this.onPrevButtonClick.bind(this);\r\n        this.onNextButtonClick = this.onNextButtonClick.bind(this);\r\n        this.onMonthDropdownChange = this.onMonthDropdownChange.bind(this);\r\n        this.onYearDropdownChange = this.onYearDropdownChange.bind(this);\r\n        this.onTodayButtonClick = this.onTodayButtonClick.bind(this);\r\n        this.onClearButtonClick = this.onClearButtonClick.bind(this);\r\n        this.onPanelClick = this.onPanelClick.bind(this);\r\n        this.incrementHour = this.incrementHour.bind(this);\r\n        this.decrementHour = this.decrementHour.bind(this);\r\n        this.incrementMinute = this.incrementMinute.bind(this);\r\n        this.decrementMinute = this.decrementMinute.bind(this);\r\n        this.incrementSecond = this.incrementSecond.bind(this);\r\n        this.decrementSecond = this.decrementSecond.bind(this);\r\n        this.toggleAmPm = this.toggleAmPm.bind(this);\r\n        this.onTimePickerElementMouseDown = this.onTimePickerElementMouseDown.bind(this);\r\n        this.onTimePickerElementMouseUp = this.onTimePickerElementMouseUp.bind(this);\r\n        this.onTimePickerElementMouseLeave = this.onTimePickerElementMouseLeave.bind(this);\r\n        this.onOverlayEnter = this.onOverlayEnter.bind(this);\r\n        this.onOverlayEntered = this.onOverlayEntered.bind(this);\r\n        this.onOverlayExit = this.onOverlayExit.bind(this);\r\n        this.reFocusInputField = this.reFocusInputField.bind(this);\r\n\r\n        this.id = this.props.id || UniqueComponentId();\r\n        this.overlayRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.tooltip) {\r\n            this.renderTooltip();\r\n        }\r\n\r\n        if (this.props.inline) {\r\n            this.initFocusableCell();\r\n        }\r\n\r\n        if (this.props.value) {\r\n            this.updateInputfield(this.props.value);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.tooltip !== this.props.tooltip || prevProps.tooltipOptions !== this.props.tooltipOptions) {\r\n            if (this.tooltip)\r\n                this.tooltip.update({ content: this.props.tooltip, ...(this.props.tooltipOptions || {}) });\r\n            else\r\n                this.renderTooltip();\r\n        }\r\n\r\n        if (!this.props.onViewDateChange && !this.viewStateChanged) {\r\n            let propValue = this.props.value;\r\n            if (Array.isArray(propValue)) {\r\n                propValue = propValue[0];\r\n            }\r\n\r\n            let prevPropValue = prevProps.value;\r\n            if (Array.isArray(prevPropValue)) {\r\n                prevPropValue = prevPropValue[0];\r\n            }\r\n\r\n            if ((!prevPropValue && propValue) || (propValue && propValue instanceof Date && propValue.getTime() !== prevPropValue.getTime())) {\r\n                let viewDate = this.props.viewDate && this.isValidDate(this.props.viewDate) ?\r\n                    this.props.viewDate : (propValue && this.isValidDate(propValue) ? propValue : new Date());\r\n\r\n                this.validateDate(viewDate);\r\n\r\n                this.setState({\r\n                    viewDate\r\n                }, () => {\r\n                    this.viewStateChanged = true;\r\n                });\r\n            }\r\n        }\r\n\r\n        if (this.overlayRef && this.overlayRef.current) {\r\n            this.updateFocus();\r\n        }\r\n\r\n        if ((prevProps.value !== this.props.value && (!this.viewStateChanged || !this.state.overlayVisible)) || this.isOptionChanged(prevProps)) {\r\n            this.updateInputfield(this.props.value);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.hideTimeout) {\r\n            clearTimeout(this.hideTimeout);\r\n        }\r\n        if (this.mask) {\r\n            this.disableModality();\r\n            this.mask = null;\r\n        }\r\n\r\n        if (this.tooltip) {\r\n            this.tooltip.destroy();\r\n            this.tooltip = null;\r\n        }\r\n\r\n        this.unbindDocumentClickListener();\r\n        this.unbindDocumentResizeListener();\r\n        if (this.scrollHandler) {\r\n            this.scrollHandler.destroy();\r\n            this.scrollHandler = null;\r\n        }\r\n    }\r\n\r\n    renderTooltip() {\r\n        this.tooltip = tip({\r\n            target: this.inputElement,\r\n            content: this.props.tooltip,\r\n            options: this.props.tooltipOptions\r\n        });\r\n    }\r\n\r\n    isOptionChanged(prevProps) {\r\n        const optionProps = ['dateFormat', 'hourFormat', 'timeOnly', 'showSeconds', 'showMillisec'];\r\n        return optionProps.some((option) => prevProps[option] !== this.props[option]);\r\n    }\r\n\r\n    getDateFormat() {\r\n        return this.props.dateFormat || localeOption('dateFormat', this.props.locale);\r\n    }\r\n\r\n    onInputFocus(event) {\r\n        if (this.ignoreFocusFunctionality) {\r\n            this.setState({ focused: true }, () => {\r\n                this.ignoreFocusFunctionality = false;\r\n            });\r\n        }\r\n        else {\r\n            event.persist();\r\n\r\n            if (this.props.showOnFocus && !this.state.overlayVisible) {\r\n                this.showOverlay();\r\n            }\r\n\r\n            this.setState({ focused: true }, () => {\r\n                if (this.props.onFocus) {\r\n                    this.props.onFocus(event);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    onInputBlur(event) {\r\n        event.persist();\r\n\r\n        this.setState({ focused: false }, () => {\r\n            if (this.props.onBlur) {\r\n                this.props.onBlur(event);\r\n            }\r\n\r\n            if (!this.props.keepInvalid) {\r\n                this.updateInputfield(this.props.value);\r\n            }\r\n        });\r\n    }\r\n\r\n    onInputKeyDown(event) {\r\n        this.isKeydown = true;\r\n\r\n        switch (event.which) {\r\n            //escape\r\n            case 27: {\r\n                this.hideOverlay();\r\n                break;\r\n            }\r\n\r\n            //tab\r\n            case 9: {\r\n                if (this.state.overlayVisible) {\r\n                    this.trapFocus(event);\r\n                }\r\n\r\n                if (this.props.touchUI) {\r\n                    this.disableModality();\r\n                }\r\n                break;\r\n            }\r\n\r\n            default:\r\n                //no op\r\n                break;\r\n        }\r\n    }\r\n\r\n    onUserInput(event) {\r\n        // IE 11 Workaround for input placeholder\r\n        if (!this.isKeydown) {\r\n            return;\r\n        }\r\n        this.isKeydown = false;\r\n\r\n        let rawValue = event.target.value;\r\n\r\n        try {\r\n            let value = this.parseValueFromString(rawValue);\r\n            if (this.isValidSelection(value)) {\r\n                this.updateModel(event, value);\r\n                this.updateViewDate(event, value.length ? value[0] : value);\r\n            }\r\n        }\r\n        catch (err) {\r\n            //invalid date\r\n            let value = this.props.keepInvalid ? rawValue : null;\r\n            this.updateModel(event, value);\r\n        }\r\n\r\n        if (this.props.onInput) {\r\n            this.props.onInput(event);\r\n        }\r\n    }\r\n\r\n    reFocusInputField() {\r\n        if (!this.props.inline && this.inputElement) {\r\n            this.ignoreFocusFunctionality = true;\r\n            this.inputElement.focus();\r\n        }\r\n    }\r\n\r\n    isValidSelection(value) {\r\n        let isValid = true;\r\n        if (this.isSingleSelection()) {\r\n            if (!(this.isSelectable(value.getDate(), value.getMonth(), value.getFullYear(), false) && this.isSelectableTime(value))) {\r\n                isValid = false;\r\n            }\r\n        } else if (value.every(v => (this.isSelectable(v.getDate(), v.getMonth(), v.getFullYear(), false) && this.isSelectableTime(value)))) {\r\n            if (this.isRangeSelection()) {\r\n                isValid = value.length > 1 && value[1] > value[0] ? true : false;\r\n            }\r\n        }\r\n        return isValid;\r\n    }\r\n\r\n    onButtonClick() {\r\n        if (this.state.overlayVisible) {\r\n            this.hideOverlay();\r\n        }\r\n        else {\r\n            this.showOverlay();\r\n        }\r\n    }\r\n\r\n    onPrevButtonClick(event) {\r\n        this.navigation = { backward: true, button: true };\r\n        this.navBackward(event);\r\n    }\r\n\r\n    onNextButtonClick(event) {\r\n        this.navigation = { backward: false, button: true };\r\n        this.navForward(event);\r\n    }\r\n\r\n    onContainerButtonKeydown(event) {\r\n        switch (event.which) {\r\n            //tab\r\n            case 9:\r\n                this.trapFocus(event);\r\n                break;\r\n\r\n            //escape\r\n            case 27:\r\n                this.hideOverlay(this.reFocusInputField);\r\n                event.preventDefault();\r\n                break;\r\n\r\n            default:\r\n                //Noop\r\n                break;\r\n        }\r\n    }\r\n\r\n    trapFocus(event) {\r\n        event.preventDefault();\r\n        let focusableElements = DomHandler.getFocusableElements(this.overlayRef.current);\r\n\r\n        if (focusableElements && focusableElements.length > 0) {\r\n            if (!document.activeElement) {\r\n                focusableElements[0].focus();\r\n            }\r\n            else {\r\n                let focusedIndex = focusableElements.indexOf(document.activeElement);\r\n\r\n                if (event.shiftKey) {\r\n                    if (focusedIndex === -1 || focusedIndex === 0)\r\n                        focusableElements[focusableElements.length - 1].focus();\r\n                    else\r\n                        focusableElements[focusedIndex - 1].focus();\r\n                }\r\n                else {\r\n                    if (focusedIndex === -1 || focusedIndex === (focusableElements.length - 1))\r\n                        focusableElements[0].focus();\r\n                    else\r\n                        focusableElements[focusedIndex + 1].focus();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    updateFocus() {\r\n        let cell;\r\n        if (this.navigation) {\r\n            if (this.navigation.button) {\r\n                this.initFocusableCell();\r\n\r\n                if (this.navigation.backward)\r\n                    DomHandler.findSingle(this.overlayRef.current, '.p-datepicker-prev').focus();\r\n                else\r\n                    DomHandler.findSingle(this.overlayRef.current, '.p-datepicker-next').focus();\r\n            }\r\n            else {\r\n                if (this.navigation.backward) {\r\n                    let cells = DomHandler.find(this.overlayRef.current, '.p-datepicker-calendar td span:not(.p-disabled)');\r\n                    cell = cells[cells.length - 1];\r\n                }\r\n                else {\r\n                    cell = DomHandler.findSingle(this.overlayRef.current, '.p-datepicker-calendar td span:not(.p-disabled)');\r\n                }\r\n\r\n                if (cell) {\r\n                    cell.tabIndex = '0';\r\n                    cell.focus();\r\n                }\r\n            }\r\n\r\n            this.navigation = null;\r\n        }\r\n        else {\r\n            this.initFocusableCell();\r\n        }\r\n    }\r\n\r\n    initFocusableCell() {\r\n        let cell;\r\n        if (this.view === 'month') {\r\n            let cells = DomHandler.find(this.overlayRef.current, '.p-monthpicker .p-monthpicker-month');\r\n            let selectedCell = DomHandler.findSingle(this.overlayRef.current, '.p-monthpicker .p-monthpicker-month.p-highlight');\r\n            cells.forEach(cell => cell.tabIndex = -1);\r\n            cell = selectedCell || cells[0];\r\n        }\r\n        else {\r\n            cell = DomHandler.findSingle(this.overlayRef.current, 'span.p-highlight');\r\n            if (!cell) {\r\n                let todayCell = DomHandler.findSingle(this.overlayRef.current, 'td.p-datepicker-today span:not(.p-disabled)');\r\n                if (todayCell)\r\n                    cell = todayCell;\r\n                else\r\n                    cell = DomHandler.findSingle(this.overlayRef.current, '.p-datepicker-calendar td span:not(.p-disabled)');\r\n            }\r\n        }\r\n\r\n        if (cell) {\r\n            cell.tabIndex = '0';\r\n        }\r\n    }\r\n\r\n    navBackward(event) {\r\n        if (this.props.disabled) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        let newViewDate = new Date(this.getViewDate().getTime());\r\n        newViewDate.setDate(1);\r\n\r\n        if (this.props.view === 'date') {\r\n            if (newViewDate.getMonth() === 0) {\r\n                newViewDate.setMonth(11);\r\n                newViewDate.setFullYear(newViewDate.getFullYear() - 1);\r\n            }\r\n            else {\r\n                newViewDate.setMonth(newViewDate.getMonth() - 1);\r\n            }\r\n        }\r\n        else if (this.props.view === 'month') {\r\n            let currentYear = newViewDate.getFullYear();\r\n            let newYear = currentYear - 1;\r\n\r\n            if (this.props.yearNavigator) {\r\n                const minYear = parseInt(this.props.yearRange.split(':')[0], 10);\r\n\r\n                if (newYear < minYear) {\r\n                    newYear = minYear;\r\n                }\r\n            }\r\n\r\n            newViewDate.setFullYear(newYear);\r\n        }\r\n\r\n        this.updateViewDate(event, newViewDate);\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    navForward(event) {\r\n        if (this.props.disabled) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        let newViewDate = new Date(this.getViewDate().getTime());\r\n        newViewDate.setDate(1);\r\n\r\n        if (this.props.view === 'date') {\r\n            if (newViewDate.getMonth() === 11) {\r\n                newViewDate.setMonth(0);\r\n                newViewDate.setFullYear(newViewDate.getFullYear() + 1);\r\n            }\r\n            else {\r\n                newViewDate.setMonth(newViewDate.getMonth() + 1);\r\n            }\r\n        }\r\n        else if (this.props.view === 'month') {\r\n            let currentYear = newViewDate.getFullYear();\r\n            let newYear = currentYear + 1;\r\n\r\n            if (this.props.yearNavigator) {\r\n                const maxYear = parseInt(this.props.yearRange.split(':')[1], 10);\r\n\r\n                if (newYear > maxYear) {\r\n                    newYear = maxYear;\r\n                }\r\n            }\r\n\r\n            newViewDate.setFullYear(newYear);\r\n        }\r\n\r\n        this.updateViewDate(event, newViewDate);\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    onMonthDropdownChange(event) {\r\n        const currentViewDate = this.getViewDate();\r\n        let newViewDate = new Date(currentViewDate.getTime());\r\n        newViewDate.setMonth(parseInt(event.target.value, 10));\r\n\r\n        this.updateViewDate(event, newViewDate);\r\n    }\r\n\r\n    onYearDropdownChange(event) {\r\n        const currentViewDate = this.getViewDate();\r\n        let newViewDate = new Date(currentViewDate.getTime());\r\n        newViewDate.setFullYear(parseInt(event.target.value, 10));\r\n\r\n        this.updateViewDate(event, newViewDate);\r\n    }\r\n\r\n    onTodayButtonClick(event) {\r\n        const today = new Date();\r\n        const dateMeta = { day: today.getDate(), month: today.getMonth(), year: today.getFullYear(), today: true, selectable: true };\r\n        const timeMeta = { hours: today.getHours(), minutes: today.getMinutes(), seconds: today.getSeconds(), milliseconds: today.getMilliseconds() };\r\n\r\n        this.updateViewDate(event, today);\r\n        this.onDateSelect(event, dateMeta, timeMeta);\r\n\r\n        if (this.props.onTodayButtonClick) {\r\n            this.props.onTodayButtonClick(event);\r\n        }\r\n    }\r\n\r\n    onClearButtonClick(event) {\r\n        this.updateModel(event, null);\r\n        this.updateInputfield(null);\r\n        this.hideOverlay(this.reFocusInputField);\r\n\r\n        if (this.props.onClearButtonClick) {\r\n            this.props.onClearButtonClick(event);\r\n        }\r\n    }\r\n\r\n    onPanelClick(event) {\r\n        if (!this.props.inline) {\r\n            OverlayEventBus.emit('overlay-click', {\r\n                originalEvent: event,\r\n                target: this.container\r\n            });\r\n        }\r\n    }\r\n\r\n    onTimePickerElementMouseDown(event, type, direction) {\r\n        if (!this.props.disabled) {\r\n            this.repeat(event, null, type, direction);\r\n            event.preventDefault();\r\n        }\r\n    }\r\n\r\n    onTimePickerElementMouseUp() {\r\n        if (!this.props.disabled) {\r\n            this.clearTimePickerTimer();\r\n        }\r\n    }\r\n\r\n    onTimePickerElementMouseLeave() {\r\n        if (!this.props.disabled) {\r\n            this.clearTimePickerTimer();\r\n        }\r\n    }\r\n\r\n    repeat(event, interval, type, direction) {\r\n        event.persist();\r\n\r\n        let i = interval || 500;\r\n\r\n        this.clearTimePickerTimer();\r\n        this.timePickerTimer = setTimeout(() => {\r\n            this.repeat(event, 100, type, direction);\r\n        }, i);\r\n\r\n        switch (type) {\r\n            case 0:\r\n                if (direction === 1)\r\n                    this.incrementHour(event);\r\n                else\r\n                    this.decrementHour(event);\r\n                break;\r\n\r\n            case 1:\r\n                if (direction === 1)\r\n                    this.incrementMinute(event);\r\n                else\r\n                    this.decrementMinute(event);\r\n                break;\r\n\r\n            case 2:\r\n                if (direction === 1)\r\n                    this.incrementSecond(event);\r\n                else\r\n                    this.decrementSecond(event);\r\n                break;\r\n\r\n            case 3:\r\n                if (direction === 1)\r\n                    this.incrementMilliSecond(event);\r\n                else\r\n                    this.decrementMilliSecond(event);\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    clearTimePickerTimer() {\r\n        if (this.timePickerTimer) {\r\n            clearTimeout(this.timePickerTimer);\r\n        }\r\n    }\r\n\r\n    incrementHour(event) {\r\n        const currentTime = (this.props.value && this.props.value instanceof Date) ? this.props.value : this.getViewDate();\r\n        const currentHour = currentTime.getHours();\r\n        let newHour = currentHour + this.props.stepHour;\r\n        newHour = (newHour >= 24) ? (newHour - 24) : newHour;\r\n\r\n        if (this.validateHour(newHour, currentTime)) {\r\n\r\n            if (this.props.maxDate && this.props.maxDate.toDateString() === currentTime.toDateString() && this.props.maxDate.getHours() === newHour) {\r\n                if (this.props.maxDate.getMinutes() < currentTime.getMinutes()) {\r\n                    if (this.props.maxDate.getSeconds() < currentTime.getSeconds()) {\r\n                        if (this.props.maxDate.getMilliseconds() < currentTime.getMilliseconds()) {\r\n                            this.updateTime(event, newHour, this.props.maxDate.getMinutes(), this.props.maxDate.getSeconds(), this.props.maxDate.getMilliseconds());\r\n                        }\r\n                        else {\r\n                            this.updateTime(event, newHour, this.props.maxDate.getMinutes(), this.props.maxDate.getSeconds(), currentTime.getMilliseconds());\r\n                        }\r\n                    }\r\n                    else {\r\n                        this.updateTime(event, newHour, this.props.maxDate.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\r\n                    }\r\n                }\r\n                else if (this.props.maxDate.getMinutes() === currentTime.getMinutes()) {\r\n                    if (this.props.maxDate.getSeconds() < currentTime.getSeconds()) {\r\n                        if (this.props.maxDate.getMilliseconds() < currentTime.getMilliseconds()) {\r\n                            this.updateTime(event, newHour, this.props.maxDate.getMinutes(), this.props.maxDate.getSeconds(), this.props.maxDate.getMilliseconds());\r\n                        }\r\n                        else {\r\n                            this.updateTime(event, newHour, this.props.maxDate.getMinutes(), this.props.maxDate.getSeconds(), currentTime.getMilliseconds());\r\n                        }\r\n                    }\r\n                    else {\r\n                        this.updateTime(event, newHour, this.props.maxDate.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\r\n                    }\r\n                }\r\n                else {\r\n                    this.updateTime(event, newHour, currentTime.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\r\n                }\r\n            }\r\n            else {\r\n                this.updateTime(event, newHour, currentTime.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\r\n            }\r\n        }\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    decrementHour(event) {\r\n        const currentTime = (this.props.value && this.props.value instanceof Date) ? this.props.value : this.getViewDate();\r\n        const currentHour = currentTime.getHours();\r\n        let newHour = currentHour - this.props.stepHour;\r\n        newHour = (newHour < 0) ? (newHour + 24) : newHour;\r\n\r\n        if (this.validateHour(newHour, currentTime)) {\r\n            if (this.props.minDate && this.props.minDate.toDateString() === currentTime.toDateString() && this.props.minDate.getHours() === newHour) {\r\n                if (this.props.minDate.getMinutes() > currentTime.getMinutes()) {\r\n                    if (this.props.minDate.getSeconds() > currentTime.getSeconds()) {\r\n                        if (this.props.minDate.getMilliseconds() > currentTime.getMilliseconds()) {\r\n                            this.updateTime(event, newHour, this.props.minDate.getMinutes(), this.props.minDate.getSeconds(), this.props.minDate.getMilliseconds());\r\n                        }\r\n                        else {\r\n                            this.updateTime(event, newHour, this.props.minDate.getMinutes(), this.props.minDate.getSeconds(), currentTime.getMilliseconds());\r\n                        }\r\n                    }\r\n                    else {\r\n                        this.updateTime(event, newHour, this.props.minDate.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\r\n                    }\r\n                }\r\n                else if (this.props.minDate.getMinutes() === currentTime.getMinutes()) {\r\n                    if (this.props.minDate.getSeconds() > currentTime.getSeconds()) {\r\n                        if (this.props.minDate.getMilliseconds() > currentTime.getMilliseconds()) {\r\n                            this.updateTime(event, newHour, this.props.minDate.getMinutes(), this.props.minDate.getSeconds(), this.props.minDate.getMilliseconds());\r\n                        }\r\n                        else {\r\n                            this.updateTime(event, newHour, this.props.minDate.getMinutes(), this.props.minDate.getSeconds(), currentTime.getMilliseconds());\r\n                        }\r\n                    }\r\n                    else {\r\n                        this.updateTime(event, newHour, this.props.minDate.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\r\n                    }\r\n                }\r\n                else {\r\n                    this.updateTime(event, newHour, currentTime.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\r\n                }\r\n            }\r\n            else {\r\n                this.updateTime(event, newHour, currentTime.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\r\n            }\r\n        }\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    incrementMinute(event) {\r\n        const currentTime = (this.props.value && this.props.value instanceof Date) ? this.props.value : this.getViewDate();\r\n        const currentMinute = currentTime.getMinutes();\r\n        let newMinute = currentMinute + this.props.stepMinute;\r\n        newMinute = (newMinute > 59) ? (newMinute - 60) : newMinute;\r\n\r\n        if (this.validateMinute(newMinute, currentTime)) {\r\n            if (this.props.maxDate && this.props.maxDate.toDateString() === currentTime.toDateString() && this.props.maxDate.getMinutes() === newMinute) {\r\n                if (this.props.maxDate.getSeconds() < currentTime.getSeconds()) {\r\n                    if (this.props.maxDate.getMilliseconds() < currentTime.getMilliseconds()) {\r\n                        this.updateTime(event, currentTime.getHours(), newMinute, this.props.maxDate.getSeconds(), this.props.maxDate.getMilliseconds());\r\n                    }\r\n                    else {\r\n                        this.updateTime(event, currentTime.getHours(), newMinute, this.props.maxDate.getSeconds(), currentTime.getMilliseconds());\r\n                    }\r\n                }\r\n                else {\r\n                    this.updateTime(event, currentTime.getHours(), newMinute, currentTime.getSeconds(), currentTime.getMilliseconds());\r\n                }\r\n            }\r\n            else {\r\n                this.updateTime(event, currentTime.getHours(), newMinute, currentTime.getSeconds(), currentTime.getMilliseconds());\r\n            }\r\n        }\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    decrementMinute(event) {\r\n        const currentTime = (this.props.value && this.props.value instanceof Date) ? this.props.value : this.getViewDate();\r\n        const currentMinute = currentTime.getMinutes();\r\n        let newMinute = currentMinute - this.props.stepMinute;\r\n        newMinute = (newMinute < 0) ? (newMinute + 60) : newMinute;\r\n\r\n        if (this.validateMinute(newMinute, currentTime)) {\r\n            if (this.props.minDate && this.props.minDate.toDateString() === currentTime.toDateString() && this.props.minDate.getMinutes() === newMinute) {\r\n                if (this.props.minDate.getSeconds() > currentTime.getSeconds()) {\r\n                    if (this.props.minDate.getMilliseconds() > currentTime.getMilliseconds()) {\r\n                        this.updateTime(event, currentTime.getHours(), newMinute, this.props.minDate.getSeconds(), this.props.minDate.getMilliseconds());\r\n                    }\r\n                    else {\r\n                        this.updateTime(event, currentTime.getHours(), newMinute, this.props.minDate.getSeconds(), currentTime.getMilliseconds());\r\n                    }\r\n                }\r\n                else {\r\n                    this.updateTime(event, currentTime.getHours(), newMinute, currentTime.getSeconds(), currentTime.getMilliseconds());\r\n                }\r\n            }\r\n            else {\r\n                this.updateTime(event, currentTime.getHours(), newMinute, currentTime.getSeconds(), currentTime.getMilliseconds());\r\n            }\r\n        }\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    incrementSecond(event) {\r\n        const currentTime = (this.props.value && this.props.value instanceof Date) ? this.props.value : this.getViewDate();\r\n        const currentSecond = currentTime.getSeconds();\r\n        let newSecond = currentSecond + this.props.stepSecond;\r\n        newSecond = (newSecond > 59) ? (newSecond - 60) : newSecond;\r\n\r\n        if (this.validateSecond(newSecond, currentTime)) {\r\n            if (this.props.maxDate && this.props.maxDate.toDateString() === currentTime.toDateString() && this.props.maxDate.getSeconds() === newSecond) {\r\n                if (this.props.maxDate.getMilliseconds() < currentTime.getMilliseconds()) {\r\n                    this.updateTime(event, currentTime.getHours(), currentTime.getMinutes(), newSecond, this.props.maxDate.getMilliseconds());\r\n                }\r\n                else {\r\n                    this.updateTime(event, currentTime.getHours(), currentTime.getMinutes(), newSecond, currentTime.getMilliseconds());\r\n                }\r\n            }\r\n            else {\r\n                this.updateTime(event, currentTime.getHours(), currentTime.getMinutes(), newSecond, currentTime.getMilliseconds());\r\n            }\r\n        }\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    decrementSecond(event) {\r\n        const currentTime = (this.props.value && this.props.value instanceof Date) ? this.props.value : this.getViewDate();\r\n        const currentSecond = currentTime.getSeconds();\r\n        let newSecond = currentSecond - this.props.stepSecond;\r\n        newSecond = (newSecond < 0) ? (newSecond + 60) : newSecond;\r\n\r\n        if (this.validateSecond(newSecond, currentTime)) {\r\n            if (this.props.minDate && this.props.minDate.toDateString() === currentTime.toDateString() && this.props.minDate.getSeconds() === newSecond) {\r\n                if (this.props.minDate.getMilliseconds() > currentTime.getMilliseconds()) {\r\n                    this.updateTime(event, currentTime.getHours(), currentTime.getMinutes(), newSecond, this.props.minDate.getMilliseconds());\r\n                }\r\n                else {\r\n                    this.updateTime(event, currentTime.getHours(), currentTime.getMinutes(), newSecond, currentTime.getMilliseconds());\r\n                }\r\n            }\r\n            else {\r\n                this.updateTime(event, currentTime.getHours(), currentTime.getMinutes(), newSecond, currentTime.getMilliseconds());\r\n            }\r\n        }\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    incrementMilliSecond(event) {\r\n        const currentTime = (this.props.value && this.props.value instanceof Date) ? this.props.value : this.getViewDate();\r\n        const currentMillisecond = currentTime.getMilliseconds();\r\n        let newMillisecond = currentMillisecond + this.props.stepMillisec;\r\n        newMillisecond = (newMillisecond > 999) ? (newMillisecond - 1000) : newMillisecond;\r\n\r\n        if (this.validateMillisecond(newMillisecond, currentTime)) {\r\n            this.updateTime(event, currentTime.getHours(), currentTime.getMinutes(), currentTime.getSeconds(), newMillisecond);\r\n        }\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    decrementMilliSecond(event) {\r\n        const currentTime = (this.props.value && this.props.value instanceof Date) ? this.props.value : this.getViewDate();\r\n        const currentMillisecond = currentTime.getMilliseconds();\r\n        let newMillisecond = currentMillisecond - this.props.stepMillisec;\r\n        newMillisecond = (newMillisecond < 0) ? (newMillisecond + 999) : newMillisecond;\r\n\r\n        if (this.validateMillisecond(newMillisecond, currentTime)) {\r\n            this.updateTime(event, currentTime.getHours(), currentTime.getMinutes(), currentTime.getSeconds(), newMillisecond);\r\n        }\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    toggleAmPm(event) {\r\n        const currentTime = (this.props.value && this.props.value instanceof Date) ? this.props.value : this.getViewDate();\r\n        const currentHour = currentTime.getHours();\r\n        const newHour = (currentHour >= 12) ? currentHour - 12 : currentHour + 12;\r\n\r\n        this.updateTime(event, newHour, currentTime.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\r\n        event.preventDefault();\r\n    }\r\n\r\n    getViewDate() {\r\n        return this.props.onViewDateChange ? this.props.viewDate : this.state.viewDate;\r\n    }\r\n\r\n    isValidDate(date) {\r\n        return date instanceof Date && !isNaN(date);\r\n    }\r\n\r\n    validateHour(hour, value) {\r\n        let valid = true;\r\n        let valueDateString = value ? value.toDateString() : null;\r\n\r\n        if (this.props.minDate && valueDateString && this.props.minDate.toDateString() === valueDateString) {\r\n            if (this.props.minDate.getHours() > hour) {\r\n                valid = false;\r\n            }\r\n        }\r\n\r\n        if (this.props.maxDate && valueDateString && this.props.maxDate.toDateString() === valueDateString) {\r\n            if (this.props.maxDate.getHours() < hour) {\r\n                valid = false;\r\n            }\r\n        }\r\n\r\n        return valid;\r\n    }\r\n\r\n    validateMinute(minute, value) {\r\n        let valid = true;\r\n        let valueDateString = value ? value.toDateString() : null;\r\n\r\n        if (this.props.minDate && valueDateString && this.props.minDate.toDateString() === valueDateString) {\r\n            if (value.getHours() === this.props.minDate.getHours()) {\r\n                if (this.props.minDate.getMinutes() > minute) {\r\n                    valid = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.props.maxDate && valueDateString && this.props.maxDate.toDateString() === valueDateString) {\r\n            if (value.getHours() === this.props.maxDate.getHours()) {\r\n                if (this.props.maxDate.getMinutes() < minute) {\r\n                    valid = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        return valid;\r\n    }\r\n\r\n    validateSecond(second, value) {\r\n        let valid = true;\r\n        let valueDateString = value ? value.toDateString() : null;\r\n\r\n        if (this.props.minDate && valueDateString && this.props.minDate.toDateString() === valueDateString) {\r\n            if (value.getHours() === this.props.minDate.getHours() && value.getMinutes() === this.props.minDate.getMinutes()) {\r\n                if (this.props.minDate.getSeconds() > second) {\r\n                    valid = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.props.maxDate && valueDateString && this.props.maxDate.toDateString() === valueDateString) {\r\n            if (value.getHours() === this.props.maxDate.getHours() && value.getMinutes() === this.props.maxDate.getMinutes()) {\r\n                if (this.props.maxDate.getSeconds() < second) {\r\n                    valid = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        return valid;\r\n    }\r\n\r\n    validateMillisecond(millisecond, value) {\r\n        let valid = true;\r\n        let valueDateString = value ? value.toDateString() : null;\r\n\r\n        if (this.props.minDate && valueDateString && this.props.minDate.toDateString() === valueDateString) {\r\n            if (value.getHours() === this.props.minDate.getHours() && value.getSeconds() === this.props.minDate.getSeconds() && value.getMinutes() === this.props.minDate.getMinutes()) {\r\n                if (this.props.minDate.getMilliseconds() > millisecond) {\r\n                    valid = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.props.maxDate && valueDateString && this.props.maxDate.toDateString() === valueDateString) {\r\n            if (value.getHours() === this.props.maxDate.getHours() && value.getSeconds() === this.props.maxDate.getSeconds() && value.getMinutes() === this.props.maxDate.getMinutes()) {\r\n                if (this.props.maxDate.getMilliseconds() < millisecond) {\r\n                    valid = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        return valid;\r\n    }\r\n\r\n    validateDate(value) {\r\n        if (this.props.yearNavigator) {\r\n            let viewYear = value.getFullYear();\r\n\r\n            const minRangeYear = this.props.yearRange ? parseInt(this.props.yearRange.split(':')[0], 10) : null;\r\n            const maxRangeYear = this.props.yearRange ? parseInt(this.props.yearRange.split(':')[1], 10) : null;\r\n            const minYear = this.props.minDate && minRangeYear != null ? Math.max(this.props.minDate.getFullYear(), minRangeYear) : this.props.minDate || minRangeYear;\r\n            const maxYear = this.props.maxDate && maxRangeYear != null ? Math.min(this.props.maxDate.getFullYear(), maxRangeYear) : this.props.maxDate || maxRangeYear;\r\n\r\n            if (minYear && minYear > viewYear) {\r\n                viewYear = minYear;\r\n            }\r\n            if (maxYear && maxYear < viewYear) {\r\n                viewYear = maxYear\r\n            }\r\n\r\n            value.setFullYear(viewYear);\r\n        }\r\n\r\n        if (this.props.monthNavigator && this.props.view !== 'month') {\r\n            let viewMonth = value.getMonth();\r\n            let viewMonthWithMinMax = parseInt((this.isInMinYear(value) && Math.max(this.props.minDate.getMonth(), viewMonth).toString()) || (this.isInMaxYear(value) && Math.min(this.props.maxDate.getMonth(), viewMonth).toString()) || viewMonth);\r\n\r\n            value.setMonth(viewMonthWithMinMax);\r\n        }\r\n    }\r\n\r\n    updateTime(event, hour, minute, second, millisecond) {\r\n        let newDateTime = (this.props.value && this.props.value instanceof Date) ? new Date(this.props.value) : new Date();\r\n\r\n        newDateTime.setHours(hour);\r\n        newDateTime.setMinutes(minute);\r\n        newDateTime.setSeconds(second);\r\n        newDateTime.setMilliseconds(millisecond);\r\n\r\n        this.updateModel(event, newDateTime);\r\n\r\n        if (this.props.onSelect) {\r\n            this.props.onSelect({\r\n                originalEvent: event,\r\n                value: newDateTime\r\n            });\r\n        }\r\n\r\n        this.updateInputfield(newDateTime);\r\n    }\r\n\r\n    updateViewDate(event, value) {\r\n        this.validateDate(value);\r\n\r\n        if (this.props.onViewDateChange) {\r\n            this.props.onViewDateChange({\r\n                originalEvent: event,\r\n                value: value\r\n            });\r\n        }\r\n        else {\r\n            this.viewStateChanged = true;\r\n            this.setState({\r\n                viewDate: value\r\n            });\r\n        }\r\n    }\r\n\r\n    onDateCellKeydown(event, date, groupIndex) {\r\n        const cellContent = event.currentTarget;\r\n        const cell = cellContent.parentElement;\r\n\r\n        switch (event.which) {\r\n            //down arrow\r\n            case 40: {\r\n                cellContent.tabIndex = '-1';\r\n                let cellIndex = DomHandler.index(cell);\r\n                let nextRow = cell.parentElement.nextElementSibling;\r\n                if (nextRow) {\r\n                    let focusCell = nextRow.children[cellIndex].children[0];\r\n                    if (DomHandler.hasClass(focusCell, 'p-disabled')) {\r\n                        this.navigation = { backward: false };\r\n                        this.navForward(event);\r\n                    }\r\n                    else {\r\n                        nextRow.children[cellIndex].children[0].tabIndex = '0';\r\n                        nextRow.children[cellIndex].children[0].focus();\r\n                    }\r\n                }\r\n                else {\r\n                    this.navigation = { backward: false };\r\n                    this.navForward(event);\r\n                }\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n\r\n            //up arrow\r\n            case 38: {\r\n                cellContent.tabIndex = '-1';\r\n                let cellIndex = DomHandler.index(cell);\r\n                let prevRow = cell.parentElement.previousElementSibling;\r\n                if (prevRow) {\r\n                    let focusCell = prevRow.children[cellIndex].children[0];\r\n                    if (DomHandler.hasClass(focusCell, 'p-disabled')) {\r\n                        this.navigation = { backward: true };\r\n                        this.navBackward(event);\r\n                    }\r\n                    else {\r\n                        focusCell.tabIndex = '0';\r\n                        focusCell.focus();\r\n                    }\r\n                }\r\n                else {\r\n                    this.navigation = { backward: true };\r\n                    this.navBackward(event);\r\n                }\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n\r\n            //left arrow\r\n            case 37: {\r\n                cellContent.tabIndex = '-1';\r\n                let prevCell = cell.previousElementSibling;\r\n                if (prevCell) {\r\n                    let focusCell = prevCell.children[0];\r\n                    if (DomHandler.hasClass(focusCell, 'p-disabled')) {\r\n                        this.navigateToMonth(true, groupIndex, event);\r\n                    }\r\n                    else {\r\n                        focusCell.tabIndex = '0';\r\n                        focusCell.focus();\r\n                    }\r\n                }\r\n                else {\r\n                    this.navigateToMonth(true, groupIndex, event);\r\n                }\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n\r\n            //right arrow\r\n            case 39: {\r\n                cellContent.tabIndex = '-1';\r\n                let nextCell = cell.nextElementSibling;\r\n                if (nextCell) {\r\n                    let focusCell = nextCell.children[0];\r\n                    if (DomHandler.hasClass(focusCell, 'p-disabled')) {\r\n                        this.navigateToMonth(false, groupIndex, event);\r\n                    }\r\n                    else {\r\n                        focusCell.tabIndex = '0';\r\n                        focusCell.focus();\r\n                    }\r\n                }\r\n                else {\r\n                    this.navigateToMonth(false, groupIndex, event);\r\n                }\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n\r\n            //enter\r\n            case 13: {\r\n                this.onDateSelect(event, date);\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n\r\n            //escape\r\n            case 27: {\r\n                this.hideOverlay(this.reFocusInputField)\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n\r\n            //tab\r\n            case 9: {\r\n                this.trapFocus(event);\r\n                break;\r\n            }\r\n\r\n            default:\r\n                //no op\r\n                break;\r\n        }\r\n    }\r\n\r\n    navigateToMonth(prev, groupIndex, event) {\r\n        if (prev) {\r\n            if (this.props.numberOfMonths === 1 || (groupIndex === 0)) {\r\n                this.navigation = { backward: true };\r\n                this.navBackward(event);\r\n            }\r\n            else {\r\n                let prevMonthContainer = this.overlayRef.current.children[groupIndex - 1];\r\n                let cells = DomHandler.find(prevMonthContainer, '.p-datepicker-calendar td span:not(.p-disabled)');\r\n                let focusCell = cells[cells.length - 1];\r\n                focusCell.tabIndex = '0';\r\n                focusCell.focus();\r\n            }\r\n        }\r\n        else {\r\n            if (this.props.numberOfMonths === 1 || (groupIndex === this.props.numberOfMonths - 1)) {\r\n                this.navigation = { backward: false };\r\n                this.navForward(event);\r\n            }\r\n            else {\r\n                let nextMonthContainer = this.overlayRef.current.children[groupIndex + 1];\r\n                let focusCell = DomHandler.findSingle(nextMonthContainer, '.p-datepicker-calendar td span:not(.p-disabled)');\r\n                focusCell.tabIndex = '0';\r\n                focusCell.focus();\r\n            }\r\n        }\r\n    }\r\n\r\n    onMonthCellKeydown(event, index) {\r\n        const cell = event.currentTarget;\r\n\r\n        switch (event.which) {\r\n            //arrows\r\n            case 38:\r\n            case 40: {\r\n                cell.tabIndex = '-1';\r\n                let cells = cell.parentElement.children;\r\n                let cellIndex = DomHandler.index(cell);\r\n                let nextCell = cells[event.which === 40 ? cellIndex + 3 : cellIndex - 3];\r\n                if (nextCell) {\r\n                    nextCell.tabIndex = '0';\r\n                    nextCell.focus();\r\n                }\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n\r\n            //left arrow\r\n            case 37: {\r\n                cell.tabIndex = '-1';\r\n                let prevCell = cell.previousElementSibling;\r\n                if (prevCell) {\r\n                    prevCell.tabIndex = '0';\r\n                    prevCell.focus();\r\n                }\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n\r\n            //right arrow\r\n            case 39: {\r\n                cell.tabIndex = '-1';\r\n                let nextCell = cell.nextElementSibling;\r\n                if (nextCell) {\r\n                    nextCell.tabIndex = '0';\r\n                    nextCell.focus();\r\n                }\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n\r\n            //enter\r\n            case 13: {\r\n                this.onMonthSelect(event, index);\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n\r\n            //escape\r\n            case 27: {\r\n                this.hideOverlay(this.reFocusInputField);\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n\r\n            //tab\r\n            case 9: {\r\n                this.trapFocus(event);\r\n                break;\r\n            }\r\n\r\n            default:\r\n                //no op\r\n                break;\r\n        }\r\n    }\r\n\r\n    onDateSelect(event, dateMeta, timeMeta) {\r\n        if (this.props.disabled || !dateMeta.selectable) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        DomHandler.find(this.overlayRef.current, '.p-datepicker-calendar td span:not(.p-disabled)').forEach(cell => cell.tabIndex = -1);\r\n        event.currentTarget.focus();\r\n\r\n        if (this.isMultipleSelection()) {\r\n            if (this.isSelected(dateMeta)) {\r\n                let value = this.props.value.filter((date, i) => {\r\n                    return !this.isDateEquals(date, dateMeta);\r\n                });\r\n                this.updateModel(event, value);\r\n            }\r\n            else if (!this.props.maxDateCount || !this.props.value || this.props.maxDateCount > this.props.value.length) {\r\n                this.selectDate(event, dateMeta, timeMeta);\r\n            }\r\n        }\r\n        else {\r\n            this.selectDate(event, dateMeta, timeMeta);\r\n        }\r\n\r\n        if (!this.props.inline && this.isSingleSelection() && (!this.props.showTime || this.props.hideOnDateTimeSelect)) {\r\n            setTimeout(() => {\r\n                this.hideOverlay();\r\n            }, 100);\r\n\r\n            if (this.mask) {\r\n                this.disableModality();\r\n            }\r\n        }\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    selectTime(date, timeMeta) {\r\n        if (this.props.showTime) {\r\n            let hours, minutes, seconds, milliseconds;\r\n\r\n            if (timeMeta) {\r\n                ({ hours, minutes, seconds, milliseconds } = timeMeta);\r\n            }\r\n            else {\r\n                let time = (this.props.value && this.props.value instanceof Date) ? this.props.value : new Date();\r\n                [hours, minutes, seconds, milliseconds] = [time.getHours(), time.getMinutes(), time.getSeconds(), time.getMilliseconds()];\r\n            }\r\n\r\n            date.setHours(hours);\r\n            date.setMinutes(minutes);\r\n            date.setSeconds(seconds);\r\n            date.setMilliseconds(milliseconds);\r\n        }\r\n    }\r\n\r\n    selectDate(event, dateMeta, timeMeta) {\r\n        let date = new Date(dateMeta.year, dateMeta.month, dateMeta.day);\r\n\r\n        this.selectTime(date, timeMeta);\r\n\r\n        if (this.props.minDate && this.props.minDate > date) {\r\n            date = this.props.minDate;\r\n        }\r\n\r\n        if (this.props.maxDate && this.props.maxDate < date) {\r\n            date = this.props.maxDate;\r\n        }\r\n\r\n        let selectedValues = date;\r\n\r\n        if (this.isSingleSelection()) {\r\n            this.updateModel(event, date);\r\n        }\r\n        else if (this.isMultipleSelection()) {\r\n            selectedValues = this.props.value ? [...this.props.value, date] : [date];\r\n            this.updateModel(event, selectedValues);\r\n        }\r\n        else if (this.isRangeSelection()) {\r\n            if (this.props.value && this.props.value.length) {\r\n                let startDate = this.props.value[0];\r\n                let endDate = this.props.value[1];\r\n\r\n                if (!endDate && date.getTime() >= startDate.getTime()) {\r\n                    endDate = date;\r\n                }\r\n                else {\r\n                    startDate = date;\r\n                    endDate = null;\r\n                }\r\n\r\n                selectedValues = [startDate, endDate];\r\n                this.updateModel(event, selectedValues);\r\n            }\r\n            else {\r\n                selectedValues = [date, null];\r\n                this.updateModel(event, selectedValues);\r\n            }\r\n        }\r\n\r\n        if (this.props.onSelect) {\r\n            this.props.onSelect({\r\n                originalEvent: event,\r\n                value: date\r\n            });\r\n        }\r\n\r\n        this.updateInputfield(selectedValues);\r\n    }\r\n\r\n    onMonthSelect(event, month) {\r\n        this.onDateSelect(event, { year: this.getViewDate().getFullYear(), month: month, day: 1, selectable: true });\r\n        event.preventDefault();\r\n    }\r\n\r\n    updateModel(event, value) {\r\n        if (this.props.onChange) {\r\n            this.props.onChange({\r\n                originalEvent: event,\r\n                value: value,\r\n                stopPropagation: () => { },\r\n                preventDefault: () => { },\r\n                target: {\r\n                    name: this.props.name,\r\n                    id: this.id,\r\n                    value: value\r\n                }\r\n            });\r\n\r\n            this.viewStateChanged = true;\r\n        }\r\n    }\r\n\r\n    showOverlay() {\r\n        this.setState({ overlayVisible: true });\r\n    }\r\n\r\n    hideOverlay(callback) {\r\n        this.setState({ overlayVisible: false }, () => {\r\n            this.viewStateChanged = false;\r\n            this.ignoreFocusFunctionality = false;\r\n            if (callback) {\r\n                callback();\r\n            }\r\n        });\r\n    }\r\n\r\n    onOverlayEnter() {\r\n        if (this.props.autoZIndex) {\r\n            this.overlayRef.current.style.zIndex = String(this.props.baseZIndex + DomHandler.generateZIndex());\r\n        }\r\n        this.alignOverlay();\r\n    }\r\n\r\n    onOverlayEntered() {\r\n        this.bindDocumentClickListener();\r\n        this.bindDocumentResizeListener();\r\n        this.bindScrollListener();\r\n    }\r\n\r\n    onOverlayExit() {\r\n        this.unbindDocumentClickListener();\r\n        this.unbindDocumentResizeListener();\r\n        this.unbindScrollListener();\r\n    }\r\n\r\n    bindDocumentClickListener() {\r\n        if (!this.documentClickListener) {\r\n            this.documentClickListener = (event) => {\r\n                if (this.state.overlayVisible && this.isOutsideClicked(event)) {\r\n                    this.hideOverlay();\r\n                }\r\n            };\r\n\r\n            document.addEventListener('mousedown', this.documentClickListener);\r\n        }\r\n    }\r\n\r\n    unbindDocumentClickListener() {\r\n        if (this.documentClickListener) {\r\n            document.removeEventListener('mousedown', this.documentClickListener);\r\n            this.documentClickListener = null;\r\n        }\r\n    }\r\n\r\n    bindDocumentResizeListener() {\r\n        if (!this.documentResizeListener && !this.props.touchUI) {\r\n            this.documentResizeListener = this.onWindowResize.bind(this);\r\n            window.addEventListener('resize', this.documentResizeListener);\r\n        }\r\n    }\r\n\r\n    unbindDocumentResizeListener() {\r\n        if (this.documentResizeListener) {\r\n            window.removeEventListener('resize', this.documentResizeListener);\r\n            this.documentResizeListener = null;\r\n        }\r\n    }\r\n\r\n    bindScrollListener() {\r\n        if (!this.scrollHandler) {\r\n            this.scrollHandler = new ConnectedOverlayScrollHandler(this.container, () => {\r\n                if (this.state.overlayVisible) {\r\n                    this.hideOverlay();\r\n                }\r\n            });\r\n        }\r\n\r\n        this.scrollHandler.bindScrollListener();\r\n    }\r\n\r\n    unbindScrollListener() {\r\n        if (this.scrollHandler) {\r\n            this.scrollHandler.unbindScrollListener();\r\n        }\r\n    }\r\n\r\n    isOutsideClicked(event) {\r\n        return this.container && !(this.container.isSameNode(event.target) || this.isNavIconClicked(event) ||\r\n            this.container.contains(event.target) || (this.overlayRef && this.overlayRef.current.contains(event.target)));\r\n    }\r\n\r\n    isNavIconClicked(event) {\r\n        return (DomHandler.hasClass(event.target, 'p-datepicker-prev') || DomHandler.hasClass(event.target, 'p-datepicker-prev-icon')\r\n            || DomHandler.hasClass(event.target, 'p-datepicker-next') || DomHandler.hasClass(event.target, 'p-datepicker-next-icon'));\r\n    }\r\n\r\n    onWindowResize() {\r\n        if (this.state.overlayVisible && !DomHandler.isAndroid()) {\r\n            this.hideOverlay();\r\n        }\r\n    }\r\n\r\n    alignOverlay() {\r\n        if (this.props.touchUI) {\r\n            this.enableModality();\r\n        }\r\n        else {\r\n            if (this.props.appendTo) {\r\n                DomHandler.absolutePosition(this.overlayRef.current, this.inputElement);\r\n                this.overlayRef.current.style.minWidth = DomHandler.getWidth(this.container) + 'px';\r\n            }\r\n            else {\r\n                DomHandler.relativePosition(this.overlayRef.current, this.inputElement);\r\n            }\r\n        }\r\n    }\r\n\r\n    enableModality() {\r\n        if (!this.mask) {\r\n            this.mask = document.createElement('div');\r\n            this.mask.style.zIndex = String(parseInt(this.overlayRef.current.style.zIndex, 10) - 1);\r\n            DomHandler.addMultipleClasses(this.mask, 'p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker');\r\n\r\n            this.maskClickListener = () => {\r\n                this.disableModality();\r\n            };\r\n            this.mask.addEventListener('click', this.maskClickListener);\r\n\r\n            document.body.appendChild(this.mask);\r\n            DomHandler.addClass(document.body, 'p-overflow-hidden');\r\n        }\r\n    }\r\n\r\n    disableModality() {\r\n        if (this.mask) {\r\n            this.mask.removeEventListener('click', this.maskClickListener);\r\n            this.maskClickListener = null;\r\n            document.body.removeChild(this.mask);\r\n            this.mask = null;\r\n\r\n            let bodyChildren = document.body.children;\r\n            let hasBlockerMasks;\r\n            for (let i = 0; i < bodyChildren.length; i++) {\r\n                let bodyChild = bodyChildren[i];\r\n                if (DomHandler.hasClass(bodyChild, 'p-datepicker-mask-scrollblocker')) {\r\n                    hasBlockerMasks = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (!hasBlockerMasks) {\r\n                DomHandler.removeClass(document.body, 'p-overflow-hidden');\r\n            }\r\n\r\n            this.hideOverlay();\r\n        }\r\n    }\r\n\r\n    getFirstDayOfMonthIndex(month, year) {\r\n        let day = new Date();\r\n        day.setDate(1);\r\n        day.setMonth(month);\r\n        day.setFullYear(year);\r\n\r\n        let dayIndex = day.getDay() + this.getSundayIndex();\r\n        return dayIndex >= 7 ? dayIndex - 7 : dayIndex;\r\n    }\r\n\r\n    getDaysCountInMonth(month, year) {\r\n        return 32 - this.daylightSavingAdjust(new Date(year, month, 32)).getDate();\r\n    }\r\n\r\n    getDaysCountInPrevMonth(month, year) {\r\n        let prev = this.getPreviousMonthAndYear(month, year);\r\n        return this.getDaysCountInMonth(prev.month, prev.year);\r\n    }\r\n\r\n    daylightSavingAdjust(date) {\r\n        if (!date) {\r\n            return null;\r\n        }\r\n\r\n        date.setHours(date.getHours() > 12 ? date.getHours() + 2 : 0);\r\n\r\n        return date;\r\n    }\r\n\r\n    getPreviousMonthAndYear(month, year) {\r\n        let m, y;\r\n\r\n        if (month === 0) {\r\n            m = 11;\r\n            y = year - 1;\r\n        }\r\n        else {\r\n            m = month - 1;\r\n            y = year;\r\n        }\r\n\r\n        return { 'month': m, 'year': y };\r\n    }\r\n\r\n    getNextMonthAndYear(month, year) {\r\n        let m, y;\r\n\r\n        if (month === 11) {\r\n            m = 0;\r\n            y = year + 1;\r\n        }\r\n        else {\r\n            m = month + 1;\r\n            y = year;\r\n        }\r\n\r\n        return { 'month': m, 'year': y };\r\n    }\r\n\r\n    getSundayIndex() {\r\n        const firstDayOfWeek = localeOption('firstDayOfWeek', this.props.locale);\r\n        return firstDayOfWeek > 0 ? 7 - firstDayOfWeek : 0;\r\n    }\r\n\r\n    createWeekDays() {\r\n        let weekDays = [];\r\n        let { firstDayOfWeek: dayIndex, dayNamesMin } = localeOptions(this.props.locale);\r\n        for (let i = 0; i < 7; i++) {\r\n            weekDays.push(dayNamesMin[dayIndex]);\r\n            dayIndex = (dayIndex === 6) ? 0 : ++dayIndex;\r\n        }\r\n\r\n        return weekDays;\r\n    }\r\n\r\n    createMonths(month, year) {\r\n        let months = [];\r\n        for (let i = 0; i < this.props.numberOfMonths; i++) {\r\n            let m = month + i;\r\n            let y = year;\r\n            if (m > 11) {\r\n                m = m % 11 - 1;\r\n                y = year + 1;\r\n            }\r\n\r\n            months.push(this.createMonth(m, y));\r\n        }\r\n\r\n        return months;\r\n    }\r\n\r\n    createMonth(month, year) {\r\n        let dates = [];\r\n        let firstDay = this.getFirstDayOfMonthIndex(month, year);\r\n        let daysLength = this.getDaysCountInMonth(month, year);\r\n        let prevMonthDaysLength = this.getDaysCountInPrevMonth(month, year);\r\n        let dayNo = 1;\r\n        let today = new Date();\r\n        let weekNumbers = [];\r\n        let monthRows = Math.ceil((daysLength + firstDay) / 7);\r\n\r\n        for (let i = 0; i < monthRows; i++) {\r\n            let week = [];\r\n\r\n            if (i === 0) {\r\n                for (let j = (prevMonthDaysLength - firstDay + 1); j <= prevMonthDaysLength; j++) {\r\n                    let prev = this.getPreviousMonthAndYear(month, year);\r\n                    week.push({\r\n                        day: j, month: prev.month, year: prev.year, otherMonth: true,\r\n                        today: this.isToday(today, j, prev.month, prev.year), selectable: this.isSelectable(j, prev.month, prev.year, true)\r\n                    });\r\n                }\r\n\r\n                let remainingDaysLength = 7 - week.length;\r\n                for (let j = 0; j < remainingDaysLength; j++) {\r\n                    week.push({\r\n                        day: dayNo, month: month, year: year, today: this.isToday(today, dayNo, month, year),\r\n                        selectable: this.isSelectable(dayNo, month, year, false)\r\n                    });\r\n                    dayNo++;\r\n                }\r\n            }\r\n            else {\r\n                for (let j = 0; j < 7; j++) {\r\n                    if (dayNo > daysLength) {\r\n                        let next = this.getNextMonthAndYear(month, year);\r\n                        week.push({\r\n                            day: dayNo - daysLength, month: next.month, year: next.year, otherMonth: true,\r\n                            today: this.isToday(today, dayNo - daysLength, next.month, next.year),\r\n                            selectable: this.isSelectable((dayNo - daysLength), next.month, next.year, true)\r\n                        });\r\n                    }\r\n                    else {\r\n                        week.push({\r\n                            day: dayNo, month: month, year: year, today: this.isToday(today, dayNo, month, year),\r\n                            selectable: this.isSelectable(dayNo, month, year, false)\r\n                        });\r\n                    }\r\n\r\n                    dayNo++;\r\n                }\r\n            }\r\n\r\n            if (this.props.showWeek) {\r\n                weekNumbers.push(this.getWeekNumber(new Date(week[0].year, week[0].month, week[0].day)));\r\n            }\r\n\r\n            dates.push(week);\r\n        }\r\n\r\n        return {\r\n            month: month,\r\n            year: year,\r\n            dates: dates,\r\n            weekNumbers: weekNumbers\r\n        };\r\n    }\r\n\r\n    getWeekNumber(date) {\r\n        let checkDate = new Date(date.getTime());\r\n        checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));\r\n        let time = checkDate.getTime();\r\n        checkDate.setMonth(0);\r\n        checkDate.setDate(1);\r\n        return Math.floor(Math.round((time - checkDate.getTime()) / 86400000) / 7) + 1;\r\n    }\r\n\r\n    isSelectable(day, month, year, otherMonth) {\r\n        let validMin = true;\r\n        let validMax = true;\r\n        let validDate = true;\r\n        let validDay = true;\r\n        let validMonth = true;\r\n\r\n        if (this.props.minDate) {\r\n            if (this.props.minDate.getFullYear() > year) {\r\n                validMin = false;\r\n            }\r\n            else if (this.props.minDate.getFullYear() === year) {\r\n                if (this.props.minDate.getMonth() > month) {\r\n                    validMin = false;\r\n                }\r\n                else if (this.props.minDate.getMonth() === month) {\r\n                    if (this.props.minDate.getDate() > day) {\r\n                        validMin = false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.props.maxDate) {\r\n            if (this.props.maxDate.getFullYear() < year) {\r\n                validMax = false;\r\n            }\r\n            else if (this.props.maxDate.getFullYear() === year) {\r\n                if (this.props.maxDate.getMonth() < month) {\r\n                    validMax = false;\r\n                }\r\n                else if (this.props.maxDate.getMonth() === month) {\r\n                    if (this.props.maxDate.getDate() < day) {\r\n                        validMax = false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.props.disabledDates) {\r\n            validDate = !this.isDateDisabled(day, month, year);\r\n        }\r\n\r\n        if (this.props.disabledDays) {\r\n            validDay = !this.isDayDisabled(day, month, year)\r\n        }\r\n\r\n        if (this.props.selectOtherMonths === false && otherMonth) {\r\n            validMonth = false;\r\n        }\r\n\r\n        return validMin && validMax && validDate && validDay && validMonth;\r\n    }\r\n\r\n    isSelectableTime(value) {\r\n        let validMin = true;\r\n        let validMax = true;\r\n\r\n        if (this.props.minDate && this.props.minDate.toDateString() === value.toDateString()) {\r\n            if (this.props.minDate.getHours() > value.getHours()) {\r\n                validMin = false;\r\n            }\r\n            else if (this.props.minDate.getHours() === value.getHours()) {\r\n                if (this.props.minDate.getMinutes() > value.getMinutes()) {\r\n                    validMin = false;\r\n                }\r\n                else if (this.props.minDate.getMinutes() === value.getMinutes()) {\r\n                    if (this.props.minDate.getSeconds() > value.getSeconds()) {\r\n                        validMin = false;\r\n                    }\r\n                    else if (this.props.minDate.getSeconds() === value.getSeconds()) {\r\n                        if (this.props.minDate.getMilliseconds() > value.getMilliseconds()) {\r\n                            validMin = false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.props.maxDate && this.props.maxDate.toDateString() === value.toDateString()) {\r\n            if (this.props.maxDate.getHours() < value.getHours()) {\r\n                validMax = false;\r\n            }\r\n            else if (this.props.maxDate.getHours() === value.getHours()) {\r\n                if (this.props.maxDate.getMinutes() < value.getMinutes()) {\r\n                    validMax = false;\r\n                }\r\n                else if (this.props.maxDate.getMinutes() === value.getMinutes()) {\r\n                    if (this.props.maxDate.getSeconds() < value.getSeconds()) {\r\n                        validMax = false;\r\n                    }\r\n                    else if (this.props.maxDate.getSeconds() === value.getSeconds()) {\r\n                        if (this.props.maxDate.getMilliseconds() < value.getMilliseconds()) {\r\n                            validMax = false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return validMin && validMax;\r\n    }\r\n\r\n    isSelected(dateMeta) {\r\n        if (this.props.value) {\r\n            if (this.isSingleSelection()) {\r\n                return this.isDateEquals(this.props.value, dateMeta);\r\n            }\r\n            else if (this.isMultipleSelection()) {\r\n                let selected = false;\r\n                for (let date of this.props.value) {\r\n                    selected = this.isDateEquals(date, dateMeta);\r\n                    if (selected) {\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                return selected;\r\n            }\r\n            else if (this.isRangeSelection()) {\r\n                if (this.props.value[1])\r\n                    return this.isDateEquals(this.props.value[0], dateMeta) || this.isDateEquals(this.props.value[1], dateMeta) || this.isDateBetween(this.props.value[0], this.props.value[1], dateMeta);\r\n                else {\r\n                    return this.isDateEquals(this.props.value[0], dateMeta);\r\n                }\r\n\r\n            }\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    isMonthSelected(month) {\r\n        const viewDate = this.getViewDate();\r\n\r\n        if (this.props.value && this.props.value instanceof Date)\r\n            return this.props.value.getDate() === 1 && this.props.value.getMonth() === month && this.props.value.getFullYear() === viewDate.getFullYear();\r\n        else\r\n            return false;\r\n    }\r\n\r\n    isDateEquals(value, dateMeta) {\r\n        if (value && value instanceof Date)\r\n            return value.getDate() === dateMeta.day && value.getMonth() === dateMeta.month && value.getFullYear() === dateMeta.year;\r\n        else\r\n            return false;\r\n    }\r\n\r\n    isDateBetween(start, end, dateMeta) {\r\n        let between = false;\r\n        if (start && end) {\r\n            let date = new Date(dateMeta.year, dateMeta.month, dateMeta.day);\r\n            return start.getTime() <= date.getTime() && end.getTime() >= date.getTime();\r\n        }\r\n\r\n        return between;\r\n    }\r\n\r\n    isSingleSelection() {\r\n        return this.props.selectionMode === 'single';\r\n    }\r\n\r\n    isRangeSelection() {\r\n        return this.props.selectionMode === 'range';\r\n    }\r\n\r\n    isMultipleSelection() {\r\n        return this.props.selectionMode === 'multiple';\r\n    }\r\n\r\n    isToday(today, day, month, year) {\r\n        return today.getDate() === day && today.getMonth() === month && today.getFullYear() === year;\r\n    }\r\n\r\n    isDateDisabled(day, month, year) {\r\n        if (this.props.disabledDates) {\r\n            for (let i = 0; i < this.props.disabledDates.length; i++) {\r\n                let disabledDate = this.props.disabledDates[i];\r\n\r\n                if (disabledDate.getFullYear() === year && disabledDate.getMonth() === month && disabledDate.getDate() === day) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    isDayDisabled(day, month, year) {\r\n        if (this.props.disabledDays) {\r\n            let weekday = new Date(year, month, day);\r\n            let weekdayNumber = weekday.getDay();\r\n\r\n            return this.props.disabledDays.indexOf(weekdayNumber) !== -1;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    updateInputfield(value) {\r\n        if (!this.inputElement) {\r\n            return;\r\n        }\r\n\r\n        let formattedValue = '';\r\n\r\n        if (value) {\r\n            try {\r\n                if (this.isSingleSelection()) {\r\n                    formattedValue = this.isValidDate(value) ? this.formatDateTime(value) : '';\r\n                }\r\n                else if (this.isMultipleSelection()) {\r\n                    for (let i = 0; i < value.length; i++) {\r\n                        let selectedValue = value[i];\r\n                        let dateAsString = this.isValidDate(selectedValue) ? this.formatDateTime(selectedValue) : '';\r\n                        formattedValue += dateAsString;\r\n                        if (i !== (value.length - 1)) {\r\n                            formattedValue += ', ';\r\n                        }\r\n                    }\r\n                }\r\n                else if (this.isRangeSelection()) {\r\n                    if (value && value.length) {\r\n                        let startDate = value[0];\r\n                        let endDate = value[1];\r\n\r\n                        formattedValue = this.isValidDate(startDate) ? this.formatDateTime(startDate) : '';\r\n                        if (endDate) {\r\n                            formattedValue += (this.isValidDate(endDate) ? ' - ' + this.formatDateTime(endDate) : '');\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            catch (err) {\r\n                formattedValue = value;\r\n            }\r\n        }\r\n\r\n        this.inputElement.value = formattedValue;\r\n    }\r\n\r\n    formatDateTime(date) {\r\n        let formattedValue = null;\r\n        if (date) {\r\n            if (this.props.timeOnly) {\r\n                formattedValue = this.formatTime(date);\r\n            }\r\n            else {\r\n                formattedValue = this.formatDate(date, this.getDateFormat());\r\n                if (this.props.showTime) {\r\n                    formattedValue += ' ' + this.formatTime(date);\r\n                }\r\n            }\r\n        }\r\n\r\n        return formattedValue;\r\n    }\r\n\r\n    formatDate(date, format) {\r\n        if (!date) {\r\n            return '';\r\n        }\r\n\r\n        let iFormat;\r\n        const lookAhead = (match) => {\r\n            const matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);\r\n            if (matches) {\r\n                iFormat++;\r\n            }\r\n            return matches;\r\n        },\r\n            formatNumber = (match, value, len) => {\r\n                let num = '' + value;\r\n                if (lookAhead(match)) {\r\n                    while (num.length < len) {\r\n                        num = '0' + num;\r\n                    }\r\n                }\r\n                return num;\r\n            },\r\n            formatName = (match, value, shortNames, longNames) => {\r\n                return (lookAhead(match) ? longNames[value] : shortNames[value]);\r\n            };\r\n        let output = '';\r\n        let literal = false;\r\n        const { dayNamesShort, dayNames, monthNamesShort, monthNames } = localeOptions(this.props.locale);\r\n\r\n        if (date) {\r\n            for (iFormat = 0; iFormat < format.length; iFormat++) {\r\n                if (literal) {\r\n                    if (format.charAt(iFormat) === '\\'' && !lookAhead('\\'')) {\r\n                        literal = false;\r\n                    } else {\r\n                        output += format.charAt(iFormat);\r\n                    }\r\n                } else {\r\n                    switch (format.charAt(iFormat)) {\r\n                        case 'd':\r\n                            output += formatNumber('d', date.getDate(), 2);\r\n                            break;\r\n                        case 'D':\r\n                            output += formatName('D', date.getDay(), dayNamesShort, dayNames);\r\n                            break;\r\n                        case 'o':\r\n                            output += formatNumber('o',\r\n                                Math.round((\r\n                                    new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime() -\r\n                                    new Date(date.getFullYear(), 0, 0).getTime()) / 86400000), 3);\r\n                            break;\r\n                        case 'm':\r\n                            output += formatNumber('m', date.getMonth() + 1, 2);\r\n                            break;\r\n                        case 'M':\r\n                            output += formatName('M', date.getMonth(), monthNamesShort, monthNames);\r\n                            break;\r\n                        case 'y':\r\n                            output += lookAhead('y') ? date.getFullYear() : (date.getFullYear() % 100 < 10 ? '0' : '') + (date.getFullYear() % 100);\r\n                            break;\r\n                        case '@':\r\n                            output += date.getTime();\r\n                            break;\r\n                        case '!':\r\n                            output += date.getTime() * 10000 + this.ticksTo1970;\r\n                            break;\r\n                        case '\\'':\r\n                            if (lookAhead('\\'')) {\r\n                                output += '\\'';\r\n                            } else {\r\n                                literal = true;\r\n                            }\r\n                            break;\r\n                        default:\r\n                            output += format.charAt(iFormat);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return output;\r\n    }\r\n\r\n    formatTime(date) {\r\n        if (!date) {\r\n            return '';\r\n        }\r\n\r\n        let output = '';\r\n        let hours = date.getHours();\r\n        let minutes = date.getMinutes();\r\n        let seconds = date.getSeconds();\r\n        let milliseconds = date.getMilliseconds();\r\n\r\n        if (this.props.hourFormat === '12' && hours > 11 && hours !== 12) {\r\n            hours -= 12;\r\n        }\r\n\r\n        if (this.props.hourFormat === '12') {\r\n            output += hours === 0 ? 12 : (hours < 10) ? '0' + hours : hours;\r\n        }\r\n        else {\r\n            output += (hours < 10) ? '0' + hours : hours;\r\n        }\r\n        output += ':';\r\n        output += (minutes < 10) ? '0' + minutes : minutes;\r\n\r\n        if (this.props.showSeconds) {\r\n            output += ':';\r\n            output += (seconds < 10) ? '0' + seconds : seconds;\r\n        }\r\n\r\n        if (this.props.showMillisec) {\r\n            output += '.';\r\n            output += milliseconds < 100 ? (milliseconds < 10 ? '00' : '0') + milliseconds : milliseconds;\r\n        }\r\n\r\n        if (this.props.hourFormat === '12') {\r\n            output += date.getHours() > 11 ? ' PM' : ' AM';\r\n        }\r\n\r\n        return output;\r\n    }\r\n\r\n    parseValueFromString(text) {\r\n        if (!text || text.trim().length === 0) {\r\n            return null;\r\n        }\r\n\r\n        let value;\r\n\r\n        if (this.isSingleSelection()) {\r\n            value = this.parseDateTime(text);\r\n        }\r\n        else if (this.isMultipleSelection()) {\r\n            let tokens = text.split(',');\r\n            value = [];\r\n            for (let token of tokens) {\r\n                value.push(this.parseDateTime(token.trim()));\r\n            }\r\n        }\r\n        else if (this.isRangeSelection()) {\r\n            let tokens = text.split(' - ');\r\n            value = [];\r\n            for (let i = 0; i < tokens.length; i++) {\r\n                value[i] = this.parseDateTime(tokens[i].trim());\r\n            }\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    parseDateTime(text) {\r\n        let date;\r\n        let parts = text.split(' ');\r\n\r\n        if (this.props.timeOnly) {\r\n            date = new Date();\r\n            this.populateTime(date, parts[0], parts[1]);\r\n        }\r\n        else {\r\n            if (this.props.showTime) {\r\n                date = this.parseDate(parts[0], this.getDateFormat());\r\n                this.populateTime(date, parts[1], parts[2]);\r\n            }\r\n            else {\r\n                date = this.parseDate(text, this.getDateFormat());\r\n            }\r\n        }\r\n\r\n        return date;\r\n    }\r\n\r\n    populateTime(value, timeString, ampm) {\r\n        if (this.props.hourFormat === '12' && (ampm !== 'PM' && ampm !== 'AM')) {\r\n            throw new Error('Invalid Time');\r\n        }\r\n\r\n        let time = this.parseTime(timeString, ampm);\r\n        value.setHours(time.hour);\r\n        value.setMinutes(time.minute);\r\n        value.setSeconds(time.second);\r\n        value.setMilliseconds(time.millisecond);\r\n    }\r\n\r\n    parseTime(value, ampm) {\r\n        value = this.props.showMillisec ? value.replace('.', ':') : value;\r\n        let tokens = value.split(':');\r\n        let validTokenLength = this.props.showSeconds ? 3 : 2;\r\n        validTokenLength = this.props.showMillisec ? validTokenLength + 1 : validTokenLength;\r\n\r\n        if (tokens.length !== validTokenLength || tokens[0].length !== 2 || tokens[1].length !== 2 ||\r\n            (this.props.showSeconds && tokens[2].length !== 2) ||\r\n            (this.props.showMillisec && tokens[3].length !== 3)) {\r\n            throw new Error('Invalid time');\r\n        }\r\n\r\n        let h = parseInt(tokens[0], 10);\r\n        let m = parseInt(tokens[1], 10);\r\n        let s = this.props.showSeconds ? parseInt(tokens[2], 10) : null;\r\n        let ms = this.props.showMillisec ? parseInt(tokens[3], 10) : null;\r\n\r\n        if (isNaN(h) || isNaN(m) || h > 23 || m > 59 || (this.props.hourFormat === '12' && h > 12) ||\r\n            (this.props.showSeconds && (isNaN(s) || s > 59)) ||\r\n            (this.props.showMillisec && (isNaN(s) || s > 1000))) {\r\n            throw new Error('Invalid time');\r\n        }\r\n        else {\r\n            if (this.props.hourFormat === '12' && h !== 12 && ampm === 'PM') {\r\n                h += 12;\r\n            }\r\n\r\n            return { hour: h, minute: m, second: s, millisecond: ms };\r\n        }\r\n    }\r\n\r\n    // Ported from jquery-ui datepicker parseDate\r\n    parseDate(value, format) {\r\n        if (format == null || value == null) {\r\n            throw new Error('Invalid arguments');\r\n        }\r\n\r\n        value = (typeof value === \"object\" ? value.toString() : value + \"\");\r\n        if (value === \"\") {\r\n            return null;\r\n        }\r\n\r\n        let iFormat, dim, extra,\r\n            iValue = 0,\r\n            shortYearCutoff = (typeof this.props.shortYearCutoff !== \"string\" ? this.props.shortYearCutoff : new Date().getFullYear() % 100 + parseInt(this.props.shortYearCutoff, 10)),\r\n            year = -1,\r\n            month = -1,\r\n            day = -1,\r\n            doy = -1,\r\n            literal = false,\r\n            date,\r\n            lookAhead = (match) => {\r\n                let matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);\r\n                if (matches) {\r\n                    iFormat++;\r\n                }\r\n                return matches;\r\n            },\r\n            getNumber = (match) => {\r\n                let isDoubled = lookAhead(match),\r\n                    size = (match === \"@\" ? 14 : (match === \"!\" ? 20 :\r\n                        (match === \"y\" && isDoubled ? 4 : (match === \"o\" ? 3 : 2)))),\r\n                    minSize = (match === \"y\" ? size : 1),\r\n                    digits = new RegExp(\"^\\\\d{\" + minSize + \",\" + size + \"}\"),\r\n                    num = value.substring(iValue).match(digits);\r\n                if (!num) {\r\n                    throw new Error('Missing number at position ' + iValue);\r\n                }\r\n                iValue += num[0].length;\r\n                return parseInt(num[0], 10);\r\n            },\r\n            getName = (match, shortNames, longNames) => {\r\n                let index = -1;\r\n                let arr = lookAhead(match) ? longNames : shortNames;\r\n                let names = [];\r\n\r\n                for (let i = 0; i < arr.length; i++) {\r\n                    names.push([i, arr[i]]);\r\n                }\r\n                names.sort((a, b) => {\r\n                    return -(a[1].length - b[1].length);\r\n                });\r\n\r\n                for (let i = 0; i < names.length; i++) {\r\n                    let name = names[i][1];\r\n                    if (value.substr(iValue, name.length).toLowerCase() === name.toLowerCase()) {\r\n                        index = names[i][0];\r\n                        iValue += name.length;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (index !== -1) {\r\n                    return index + 1;\r\n                } else {\r\n                    throw new Error('Unknown name at position ' + iValue);\r\n                }\r\n            },\r\n            checkLiteral = () => {\r\n                if (value.charAt(iValue) !== format.charAt(iFormat)) {\r\n                    throw new Error('Unexpected literal at position ' + iValue);\r\n                }\r\n                iValue++;\r\n            };\r\n\r\n        if (this.props.view === 'month') {\r\n            day = 1;\r\n        }\r\n\r\n        const { dayNamesShort, dayNames, monthNamesShort, monthNames } = localeOptions(this.props.locale);\r\n\r\n        for (iFormat = 0; iFormat < format.length; iFormat++) {\r\n            if (literal) {\r\n                if (format.charAt(iFormat) === \"'\" && !lookAhead(\"'\")) {\r\n                    literal = false;\r\n                } else {\r\n                    checkLiteral();\r\n                }\r\n            } else {\r\n                switch (format.charAt(iFormat)) {\r\n                    case \"d\":\r\n                        day = getNumber(\"d\");\r\n                        break;\r\n                    case \"D\":\r\n                        getName(\"D\", dayNamesShort, dayNames);\r\n                        break;\r\n                    case \"o\":\r\n                        doy = getNumber(\"o\");\r\n                        break;\r\n                    case \"m\":\r\n                        month = getNumber(\"m\");\r\n                        break;\r\n                    case \"M\":\r\n                        month = getName(\"M\", monthNamesShort, monthNames);\r\n                        break;\r\n                    case \"y\":\r\n                        year = getNumber(\"y\");\r\n                        break;\r\n                    case \"@\":\r\n                        date = new Date(getNumber(\"@\"));\r\n                        year = date.getFullYear();\r\n                        month = date.getMonth() + 1;\r\n                        day = date.getDate();\r\n                        break;\r\n                    case \"!\":\r\n                        date = new Date((getNumber(\"!\") - this.ticksTo1970) / 10000);\r\n                        year = date.getFullYear();\r\n                        month = date.getMonth() + 1;\r\n                        day = date.getDate();\r\n                        break;\r\n                    case \"'\":\r\n                        if (lookAhead(\"'\")) {\r\n                            checkLiteral();\r\n                        } else {\r\n                            literal = true;\r\n                        }\r\n                        break;\r\n                    default:\r\n                        checkLiteral();\r\n                }\r\n            }\r\n        }\r\n\r\n        if (iValue < value.length) {\r\n            extra = value.substr(iValue);\r\n            if (!/^\\s+/.test(extra)) {\r\n                throw new Error('Extra/unparsed characters found in date: ' + extra);\r\n            }\r\n        }\r\n\r\n        if (year === -1) {\r\n            year = new Date().getFullYear();\r\n        } else if (year < 100) {\r\n            year += new Date().getFullYear() - new Date().getFullYear() % 100 +\r\n                (year <= shortYearCutoff ? 0 : -100);\r\n        }\r\n\r\n        if (doy > -1) {\r\n            month = 1;\r\n            day = doy;\r\n            do {\r\n                dim = this.getDaysCountInMonth(year, month - 1);\r\n                if (day <= dim) {\r\n                    break;\r\n                }\r\n                month++;\r\n                day -= dim;\r\n            } while (true);\r\n        }\r\n\r\n        date = this.daylightSavingAdjust(new Date(year, month - 1, day));\r\n        if (date.getFullYear() !== year || date.getMonth() + 1 !== month || date.getDate() !== day) {\r\n            throw new Error('Invalid date'); // E.g. 31/02/00\r\n        }\r\n\r\n        return date;\r\n    }\r\n\r\n    renderBackwardNavigator(isVisible) {\r\n        let navigatorProps = isVisible ? { 'onClick': this.onPrevButtonClick, 'onKeyDown': e => this.onContainerButtonKeydown(e) } : { 'style': { visibility: 'hidden' } };\r\n        return (\r\n            <button type=\"button\" className=\"p-datepicker-prev p-link\" {...navigatorProps}>\r\n                <span className=\"p-datepicker-prev-icon pi pi-chevron-left\"></span>\r\n                <Ripple />\r\n            </button>\r\n        );\r\n    }\r\n\r\n    renderForwardNavigator(isVisible) {\r\n        let navigatorProps = isVisible ? { 'onClick': this.onNextButtonClick, 'onKeyDown': e => this.onContainerButtonKeydown(e) } : { 'style': { visibility: 'hidden' } };\r\n        return (\r\n            <button type=\"button\" className=\"p-datepicker-next p-link\" {...navigatorProps}>\r\n                <span className=\"p-datepicker-next-icon pi pi-chevron-right\"></span>\r\n                <Ripple />\r\n            </button>\r\n        );\r\n    }\r\n\r\n    isInMinYear(viewDate) {\r\n        return this.props.minDate && this.props.minDate.getFullYear() === viewDate.getFullYear();\r\n    }\r\n\r\n    isInMaxYear(viewDate) {\r\n        return this.props.maxDate && this.props.maxDate.getFullYear() === viewDate.getFullYear();\r\n    }\r\n\r\n    renderTitleMonthElement(month) {\r\n        const monthNames = localeOption('monthNames', this.props.locale);\r\n\r\n        if (this.props.monthNavigator && this.props.view !== 'month') {\r\n            const viewDate = this.getViewDate();\r\n            const viewMonth = viewDate.getMonth();\r\n\r\n            return (\r\n                <select className=\"p-datepicker-month\" onChange={this.onMonthDropdownChange} value={viewMonth}>\r\n                    {\r\n                        monthNames.map((month, index) => {\r\n                            if ((!this.isInMinYear(viewDate) || index >= this.props.minDate.getMonth()) && (!this.isInMaxYear(viewDate) || index <= this.props.maxDate.getMonth())) {\r\n                                return <option key={month} value={index}>{month}</option>\r\n                            }\r\n                            return null;\r\n                        })\r\n                    }\r\n                </select>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                <span className=\"p-datepicker-month\">{monthNames[month]}</span>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderTitleYearElement(year) {\r\n        if (this.props.yearNavigator) {\r\n            let yearOptions = [];\r\n            const years = this.props.yearRange.split(':');\r\n            const yearStart = parseInt(years[0], 10);\r\n            const yearEnd = parseInt(years[1], 10);\r\n\r\n            for (let i = yearStart; i <= yearEnd; i++) {\r\n                yearOptions.push(i);\r\n            }\r\n\r\n            let viewDate = this.getViewDate();\r\n            let viewYear = viewDate.getFullYear();\r\n\r\n            return (\r\n                <select className=\"p-datepicker-year\" onChange={this.onYearDropdownChange} value={viewYear}>\r\n                    {\r\n                        yearOptions.map(year => {\r\n                            if (!(this.props.minDate && this.props.minDate.getFullYear() > year) && !(this.props.maxDate && this.props.maxDate.getFullYear() < year)) {\r\n                                return <option key={year} value={year}>{year}</option>\r\n                            }\r\n                            return null;\r\n                        })\r\n                    }\r\n                </select>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                <span className=\"p-datepicker-year\">{year}</span>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderTitle(monthMetaData) {\r\n        const month = this.renderTitleMonthElement(monthMetaData.month);\r\n        const year = this.renderTitleYearElement(monthMetaData.year);\r\n\r\n        return (\r\n            <div className=\"p-datepicker-title\">\r\n                {month}\r\n                {year}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderDayNames(weekDays) {\r\n        const dayNames = weekDays.map(weekDay =>\r\n        (\r\n            <th key={weekDay} scope=\"col\">\r\n                <span>{weekDay}</span>\r\n            </th>\r\n        )\r\n        );\r\n\r\n        if (this.props.showWeek) {\r\n            const weekHeader = (\r\n                <th scope=\"col\" key={'wn'} className=\"p-datepicker-weekheader p-disabled\">\r\n                    <span>{localeOption('weekHeader', this.props.locale)}</span>\r\n                </th>\r\n            );\r\n\r\n            return [weekHeader, ...dayNames];\r\n        }\r\n        else {\r\n            return dayNames;\r\n        }\r\n    }\r\n\r\n    renderDateCellContent(date, className, groupIndex) {\r\n        const content = this.props.dateTemplate ? this.props.dateTemplate(date) : date.day;\r\n\r\n        return (\r\n            <span className={className} onClick={e => this.onDateSelect(e, date)} onKeyDown={e => this.onDateCellKeydown(e, date, groupIndex)}>\r\n                {content}\r\n                <Ripple />\r\n            </span>\r\n        );\r\n    }\r\n\r\n    renderWeek(weekDates, weekNumber, groupIndex) {\r\n        const week = weekDates.map((date) => {\r\n            const selected = this.isSelected(date);\r\n            const cellClassName = classNames({ 'p-datepicker-other-month': date.otherMonth, 'p-datepicker-today': date.today });\r\n            const dateClassName = classNames({ 'p-highlight': selected, 'p-disabled': !date.selectable });\r\n            const content = (date.otherMonth && !this.props.showOtherMonths) ? null : this.renderDateCellContent(date, dateClassName, groupIndex);\r\n\r\n            return (\r\n                <td key={date.day} className={cellClassName}>\r\n                    {content}\r\n                </td>\r\n            );\r\n        });\r\n\r\n        if (this.props.showWeek) {\r\n            const weekNumberCell = (\r\n                <td key={'wn' + weekNumber} className=\"p-datepicker-weeknumber\">\r\n                    <span className=\"p-disabled\">\r\n                        {weekNumber}\r\n                    </span>\r\n                </td>\r\n            );\r\n\r\n            return [weekNumberCell, ...week];\r\n        }\r\n        else {\r\n            return week;\r\n        }\r\n    }\r\n\r\n    renderDates(monthMetaData, groupIndex) {\r\n        return monthMetaData.dates.map((weekDates, index) => {\r\n            return (\r\n                <tr key={index}>\r\n                    {this.renderWeek(weekDates, monthMetaData.weekNumbers[index], groupIndex)}\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    renderDateViewGrid(monthMetaData, weekDays, groupIndex) {\r\n        const dayNames = this.renderDayNames(weekDays);\r\n        const dates = this.renderDates(monthMetaData, groupIndex);\r\n\r\n        return (\r\n            <div className=\"p-datepicker-calendar-container\">\r\n                <table className=\"p-datepicker-calendar\">\r\n                    <thead>\r\n                        <tr>\r\n                            {dayNames}\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {dates}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderMonth(monthMetaData, index) {\r\n        const weekDays = this.createWeekDays();\r\n        const backwardNavigator = this.renderBackwardNavigator((index === 0));\r\n        const forwardNavigator = this.renderForwardNavigator((this.props.numberOfMonths === 1) || (index === this.props.numberOfMonths - 1));\r\n        const title = this.renderTitle(monthMetaData);\r\n        const dateViewGrid = this.renderDateViewGrid(monthMetaData, weekDays, index);\r\n        const header = this.props.headerTemplate ? this.props.headerTemplate() : null;\r\n\r\n        return (\r\n            <div key={monthMetaData.month} className=\"p-datepicker-group\">\r\n                <div className=\"p-datepicker-header\">\r\n                    {header}\r\n                    {backwardNavigator}\r\n                    {title}\r\n                    {forwardNavigator}\r\n                </div>\r\n                {dateViewGrid}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderMonths(monthsMetaData) {\r\n        const groups = monthsMetaData.map((monthMetaData, index) => {\r\n            return this.renderMonth(monthMetaData, index);\r\n        });\r\n\r\n        return (\r\n            <div className=\"p-datepicker-group-container\">\r\n                {groups}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderDateView() {\r\n        let viewDate = this.getViewDate();\r\n        const monthsMetaData = this.createMonths(viewDate.getMonth(), viewDate.getFullYear());\r\n        const months = this.renderMonths(monthsMetaData);\r\n\r\n        return (\r\n            <>\r\n                {months}\r\n            </>\r\n        );\r\n    }\r\n\r\n    renderMonthViewMonth(index) {\r\n        const className = classNames('p-monthpicker-month', { 'p-highlight': this.isMonthSelected(index) });\r\n        const monthNamesShort = localeOption('monthNamesShort', this.props.locale);\r\n        const monthName = monthNamesShort[index];\r\n\r\n        return (\r\n            <span key={monthName} className={className} onClick={event => this.onMonthSelect(event, index)} onKeyDown={event => this.onMonthCellKeydown(event, index)}>\r\n                {monthName}\r\n                <Ripple />\r\n            </span>\r\n        );\r\n    }\r\n\r\n    renderMonthViewMonths() {\r\n        let months = [];\r\n        for (let i = 0; i <= 11; i++) {\r\n            months.push(this.renderMonthViewMonth(i));\r\n        }\r\n\r\n        return months;\r\n    }\r\n\r\n    renderMonthView() {\r\n        const backwardNavigator = this.renderBackwardNavigator();\r\n        const forwardNavigator = this.renderForwardNavigator();\r\n        const yearElement = this.renderTitleYearElement(this.getViewDate().getFullYear());\r\n        const months = this.renderMonthViewMonths();\r\n\r\n        return (\r\n            <>\r\n                <div className=\"p-datepicker-header\">\r\n                    {backwardNavigator}\r\n                    {forwardNavigator}\r\n                    <div className=\"p-datepicker-title\">\r\n                        {yearElement}\r\n                    </div>\r\n                </div>\r\n                <div className=\"p-monthpicker\">\r\n                    {months}\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n    renderDatePicker() {\r\n        if (!this.props.timeOnly) {\r\n            if (this.props.view === 'date') {\r\n                return this.renderDateView();\r\n            }\r\n            else if (this.props.view === 'month') {\r\n                return this.renderMonthView();\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n    renderHourPicker() {\r\n        let currentTime = (this.props.value && this.props.value instanceof Date) ? this.props.value : this.getViewDate();\r\n        let hour = currentTime.getHours();\r\n\r\n        if (this.props.hourFormat === '12') {\r\n            if (hour === 0)\r\n                hour = 12;\r\n            else if (hour > 11 && hour !== 12)\r\n                hour = hour - 12;\r\n        }\r\n\r\n        const hourDisplay = hour < 10 ? '0' + hour : hour;\r\n\r\n        return (\r\n            <div className=\"p-hour-picker\">\r\n                <button type=\"button\" className=\"p-link\" onMouseDown={(e) => this.onTimePickerElementMouseDown(e, 0, 1)} onMouseUp={this.onTimePickerElementMouseUp}\r\n                    onMouseLeave={this.onTimePickerElementMouseLeave} onKeyDown={e => this.onContainerButtonKeydown(e)}>\r\n                    <span className=\"pi pi-chevron-up\"></span>\r\n                    <Ripple />\r\n                </button>\r\n                <span>{hourDisplay}</span>\r\n                <button type=\"button\" className=\"p-link\" onMouseDown={(e) => this.onTimePickerElementMouseDown(e, 0, -1)} onMouseUp={this.onTimePickerElementMouseUp}\r\n                    onMouseLeave={this.onTimePickerElementMouseLeave} onKeyDown={e => this.onContainerButtonKeydown(e)}>\r\n                    <span className=\"pi pi-chevron-down\"></span>\r\n                    <Ripple />\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderMinutePicker() {\r\n        let currentTime = (this.props.value && this.props.value instanceof Date) ? this.props.value : this.getViewDate();\r\n        let minute = currentTime.getMinutes();\r\n        let minuteDisplay = minute < 10 ? '0' + minute : minute;\r\n\r\n        return (\r\n            <div className=\"p-minute-picker\">\r\n                <button type=\"button\" className=\"p-link\" onMouseDown={(e) => this.onTimePickerElementMouseDown(e, 1, 1)} onMouseUp={this.onTimePickerElementMouseUp}\r\n                    onMouseLeave={this.onTimePickerElementMouseLeave} onKeyDown={e => this.onContainerButtonKeydown(e)}>\r\n                    <span className=\"pi pi-chevron-up\"></span>\r\n                    <Ripple />\r\n                </button>\r\n                <span>{minuteDisplay}</span>\r\n                <button type=\"button\" className=\"p-link\" onMouseDown={(e) => this.onTimePickerElementMouseDown(e, 1, -1)} onMouseUp={this.onTimePickerElementMouseUp}\r\n                    onMouseLeave={this.onTimePickerElementMouseLeave} onKeyDown={e => this.onContainerButtonKeydown(e)}>\r\n                    <span className=\"pi pi-chevron-down\"></span>\r\n                    <Ripple />\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderSecondPicker() {\r\n        if (this.props.showSeconds) {\r\n            let currentTime = (this.props.value && this.props.value instanceof Date) ? this.props.value : this.getViewDate();\r\n            let second = currentTime.getSeconds();\r\n            let secondDisplay = second < 10 ? '0' + second : second;\r\n\r\n            return (\r\n                <div className=\"p-second-picker\">\r\n                    <button type=\"button\" className=\"p-link\" onMouseDown={(e) => this.onTimePickerElementMouseDown(e, 2, 1)} onMouseUp={this.onTimePickerElementMouseUp}\r\n                        onMouseLeave={this.onTimePickerElementMouseLeave} onKeyDown={e => this.onContainerButtonKeydown(e)}>\r\n                        <span className=\"pi pi-chevron-up\"></span>\r\n                        <Ripple />\r\n                    </button>\r\n                    <span>{secondDisplay}</span>\r\n                    <button type=\"button\" className=\"p-link\" onMouseDown={(e) => this.onTimePickerElementMouseDown(e, 2, -1)} onMouseUp={this.onTimePickerElementMouseUp}\r\n                        onMouseLeave={this.onTimePickerElementMouseLeave} onKeyDown={e => this.onContainerButtonKeydown(e)}>\r\n                        <span className=\"pi pi-chevron-down\"></span>\r\n                        <Ripple />\r\n                    </button>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderMiliSecondPicker() {\r\n        if (this.props.showMillisec) {\r\n            let currentTime = (this.props.value && this.props.value instanceof Date) ? this.props.value : this.getViewDate();\r\n            let millisecond = currentTime.getMilliseconds();\r\n            let millisecondDisplay = millisecond < 100 ? (millisecond < 10 ? '00' : '0') + millisecond : millisecond;\r\n\r\n            return (\r\n                <div className=\"p-millisecond-picker\">\r\n                    <button type=\"button\" className=\"p-link\" onMouseDown={(e) => this.onTimePickerElementMouseDown(e, 3, 1)} onMouseUp={this.onTimePickerElementMouseUp}\r\n                        onMouseLeave={this.onTimePickerElementMouseLeave} onKeyDown={e => this.onContainerButtonKeydown(e)}>\r\n                        <span className=\"pi pi-chevron-up\"></span>\r\n                        <Ripple />\r\n                    </button>\r\n                    <span>{millisecondDisplay}</span>\r\n                    <button type=\"button\" className=\"p-link\" onMouseDown={(e) => this.onTimePickerElementMouseDown(e, 3, -1)} onMouseUp={this.onTimePickerElementMouseUp}\r\n                        onMouseLeave={this.onTimePickerElementMouseLeave} onKeyDown={e => this.onContainerButtonKeydown(e)}>\r\n                        <span className=\"pi pi-chevron-down\"></span>\r\n                        <Ripple />\r\n                    </button>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderAmPmPicker() {\r\n        if (this.props.hourFormat === '12') {\r\n            let currentTime = (this.props.value && this.props.value instanceof Date) ? this.props.value : this.getViewDate();\r\n            let hour = currentTime.getHours();\r\n            let display = hour > 11 ? 'PM' : 'AM';\r\n\r\n            return (\r\n                <div className=\"p-ampm-picker\">\r\n                    <button type=\"button\" className=\"p-link\" onClick={this.toggleAmPm}>\r\n                        <span className=\"pi pi-chevron-up\"></span>\r\n                        <Ripple />\r\n                    </button>\r\n                    <span>{display}</span>\r\n                    <button type=\"button\" className=\"p-link\" onClick={this.toggleAmPm}>\r\n                        <span className=\"pi pi-chevron-down\"></span>\r\n                        <Ripple />\r\n                    </button>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderSeparator(separator) {\r\n        return (\r\n            <div className=\"p-separator\">\r\n                <span>{separator}</span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderTimePicker() {\r\n        if (this.props.showTime || this.props.timeOnly) {\r\n            return (\r\n                <div className=\"p-timepicker\">\r\n                    {this.renderHourPicker()}\r\n                    {this.renderSeparator(':')}\r\n                    {this.renderMinutePicker()}\r\n                    {this.props.showSeconds && this.renderSeparator(':')}\r\n                    {this.renderSecondPicker()}\r\n                    {this.props.showMillisec && this.renderSeparator('.')}\r\n                    {this.renderMiliSecondPicker()}\r\n                    {this.props.hourFormat === '12' && this.renderSeparator(':')}\r\n                    {this.renderAmPmPicker()}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderInputElement() {\r\n        if (!this.props.inline) {\r\n            return (\r\n                <InputText ref={(el) => this.inputElement = el} id={this.props.inputId} name={this.props.name} type=\"text\" className={this.props.inputClassName} style={this.props.inputStyle}\r\n                    readOnly={this.props.readOnlyInput} disabled={this.props.disabled} required={this.props.required} autoComplete=\"off\" placeholder={this.props.placeholder}\r\n                    onInput={this.onUserInput} onFocus={this.onInputFocus} onBlur={this.onInputBlur} onKeyDown={this.onInputKeyDown} aria-labelledby={this.props.ariaLabelledBy} inputMode=\"none\" />\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderButton() {\r\n        if (this.props.showIcon) {\r\n            return (\r\n                <Button type=\"button\" icon={this.props.icon} onClick={this.onButtonClick} tabIndex=\"-1\"\r\n                    disabled={this.props.disabled} className=\"p-datepicker-trigger\" />\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderButtonBar() {\r\n        if (this.props.showButtonBar) {\r\n            const todayClassName = classNames('p-button-text', this.props.todayButtonClassName);\r\n            const clearClassName = classNames('p-button-text', this.props.clearButtonClassName);\r\n            const { today, clear } = localeOptions(this.props.locale);\r\n\r\n            return (\r\n                <div className=\"p-datepicker-buttonbar\">\r\n                    <Button type=\"button\" label={today} onClick={this.onTodayButtonClick} onKeyDown={e => this.onContainerButtonKeydown(e)} className={todayClassName} />\r\n                    <Button type=\"button\" label={clear} onClick={this.onClearButtonClick} onKeyDown={e => this.onContainerButtonKeydown(e)} className={clearClassName} />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderFooter() {\r\n        if (this.props.footerTemplate) {\r\n            const content = this.props.footerTemplate();\r\n\r\n            return (\r\n                <div className=\"p-datepicker-footer\">\r\n                    {content}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n        const className = classNames('p-calendar p-component p-inputwrapper', this.props.className, {\r\n            'p-calendar-w-btn': this.props.showIcon,\r\n            'p-calendar-timeonly': this.props.timeOnly,\r\n            'p-inputwrapper-filled': this.props.value || (DomHandler.hasClass(this.inputElement, 'p-filled') && this.inputElement.value !== ''),\r\n            'p-inputwrapper-focus': this.state.focused\r\n        });\r\n        const panelClassName = classNames('p-datepicker p-component', this.props.panelClassName, {\r\n            'p-datepicker-inline': this.props.inline,\r\n            'p-disabled': this.props.disabled,\r\n            'p-datepicker-timeonly': this.props.timeOnly,\r\n            'p-datepicker-multiple-month': this.props.numberOfMonths > 1,\r\n            'p-datepicker-monthpicker': (this.props.view === 'month'),\r\n            'p-datepicker-touch-ui': this.props.touchUI\r\n        });\r\n        const input = this.renderInputElement();\r\n        const button = this.renderButton();\r\n        const datePicker = this.renderDatePicker();\r\n        const timePicker = this.renderTimePicker();\r\n        const buttonBar = this.renderButtonBar();\r\n        const footer = this.renderFooter();\r\n\r\n        return (\r\n            <span ref={(el) => this.container = el} id={this.id} className={className} style={this.props.style}>\r\n                {input}\r\n                {button}\r\n                <CalendarPanel ref={this.overlayRef} className={panelClassName} style={this.props.panelStyle} appendTo={this.props.appendTo} onClick={this.onPanelClick}\r\n                    in={this.props.inline || this.state.overlayVisible} onEnter={this.onOverlayEnter} onEntered={this.onOverlayEntered} onExit={this.onOverlayExit}>\r\n                    {datePicker}\r\n                    {timePicker}\r\n                    {buttonBar}\r\n                    {footer}\r\n                </CalendarPanel>\r\n            </span>\r\n        );\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}