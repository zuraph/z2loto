{"ast":null,"code":"import _createForOfIteratorHelper from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zloto\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";\nimport _classCallCheck from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zloto\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zloto\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zloto\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zloto\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zloto\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zloto\\\\src\\\\components\\\\cascadeselect\\\\CascadeSelectSub.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { classNames } from '../utils/ClassNames';\nimport DomHandler from '../utils/DomHandler';\nimport ObjectUtils from '../utils/ObjectUtils';\nimport { Ripple } from '../ripple/Ripple';\nexport var CascadeSelectSub = /*#__PURE__*/function (_Component) {\n  _inherits(CascadeSelectSub, _Component);\n\n  var _super = _createSuper(CascadeSelectSub);\n\n  function CascadeSelectSub(props) {\n    var _this;\n\n    _classCallCheck(this, CascadeSelectSub);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      activeOption: null\n    };\n    _this.onOptionSelect = _this.onOptionSelect.bind(_assertThisInitialized(_this));\n    _this.onOptionGroupSelect = _this.onOptionGroupSelect.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(CascadeSelectSub, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.selectionPath && this.props.options && !this.props.dirty) {\n        var _iterator = _createForOfIteratorHelper(this.props.options),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var option = _step.value;\n\n            if (this.props.selectionPath.includes(option)) {\n              this.setState({\n                activeOption: option\n              });\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n\n      if (!this.props.root) {\n        this.position();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.parentActive !== this.props.parentActive) {\n        this.setState({\n          activeOption: null\n        });\n      }\n    }\n  }, {\n    key: \"position\",\n    value: function position() {\n      var parentItem = this.element.parentElement;\n      var containerOffset = DomHandler.getOffset(parentItem);\n      var viewport = DomHandler.getViewport();\n      var sublistWidth = this.element.offsetParent ? this.element.offsetWidth : DomHandler.getHiddenElementOuterWidth(this.element);\n      var itemOuterWidth = DomHandler.getOuterWidth(parentItem.children[0]);\n\n      if (parseInt(containerOffset.left, 10) + itemOuterWidth + sublistWidth > viewport.width - DomHandler.calculateScrollbarWidth()) {\n        this.element.style.left = '-100%';\n      }\n    }\n  }, {\n    key: \"onOptionSelect\",\n    value: function onOptionSelect(event) {\n      if (this.props.onOptionSelect) {\n        this.props.onOptionSelect(event);\n      }\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(event, option) {\n      var listItem = event.currentTarget.parentElement;\n\n      switch (event.key) {\n        case 'Down':\n        case 'ArrowDown':\n          var nextItem = this.findNextItem(listItem);\n\n          if (nextItem) {\n            nextItem.children[0].focus();\n          }\n\n          break;\n\n        case 'Up':\n        case 'ArrowUp':\n          var prevItem = this.findPrevItem(listItem);\n\n          if (prevItem) {\n            prevItem.children[0].focus();\n          }\n\n          break;\n\n        case 'Right':\n        case 'ArrowRight':\n          if (this.isOptionGroup(option)) {\n            if (this.state.activeOption === option) {\n              listItem.children[1].children[0].children[0].focus();\n            } else {\n              this.setState({\n                activeOption: option\n              });\n            }\n          }\n\n          break;\n\n        case 'Left':\n        case 'ArrowLeft':\n          this.setState({\n            activeOption: null\n          });\n          var parentList = event.currentTarget.parentElement.parentElement.previousElementSibling;\n\n          if (parentList) {\n            parentList.focus();\n          }\n\n          break;\n\n        case 'Enter':\n          this.onOptionClick(event, option);\n          break;\n\n        default:\n          break;\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    key: \"findNextItem\",\n    value: function findNextItem(item) {\n      var nextItem = item.nextElementSibling;\n      if (nextItem) return DomHandler.hasClass(nextItem, 'p-disabled') || !DomHandler.hasClass(nextItem, 'p-cascadeselect-item') ? this.findNextItem(nextItem) : nextItem;else return null;\n    }\n  }, {\n    key: \"findPrevItem\",\n    value: function findPrevItem(item) {\n      var prevItem = item.previousElementSibling;\n      if (prevItem) return DomHandler.hasClass(prevItem, 'p-disabled') || !DomHandler.hasClass(prevItem, 'p-cascadeselect-item') ? this.findPrevItem(prevItem) : prevItem;else return null;\n    }\n  }, {\n    key: \"onOptionClick\",\n    value: function onOptionClick(event, option) {\n      if (this.isOptionGroup(option)) {\n        this.setState({\n          activeOption: this.state.activeOption === option ? null : option\n        });\n\n        if (this.props.onOptionGroupSelect) {\n          this.props.onOptionGroupSelect({\n            originalEvent: event,\n            value: option\n          });\n        }\n      } else {\n        if (this.props.onOptionSelect) {\n          this.props.onOptionSelect({\n            originalEvent: event,\n            value: this.getOptionValue(option)\n          });\n        }\n      }\n    }\n  }, {\n    key: \"onOptionGroupSelect\",\n    value: function onOptionGroupSelect(event) {\n      if (this.props.onOptionGroupSelect) {\n        this.props.onOptionGroupSelect(event);\n      }\n    }\n  }, {\n    key: \"getOptionLabel\",\n    value: function getOptionLabel(option) {\n      return this.props.optionLabel ? ObjectUtils.resolveFieldData(option, this.props.optionLabel) : option;\n    }\n  }, {\n    key: \"getOptionValue\",\n    value: function getOptionValue(option) {\n      return this.props.optionValue ? ObjectUtils.resolveFieldData(option, this.props.optionValue) : option;\n    }\n  }, {\n    key: \"getOptionGroupLabel\",\n    value: function getOptionGroupLabel(optionGroup) {\n      return this.props.optionGroupLabel ? ObjectUtils.resolveFieldData(optionGroup, this.props.optionGroupLabel) : null;\n    }\n  }, {\n    key: \"getOptionGroupChildren\",\n    value: function getOptionGroupChildren(optionGroup) {\n      return ObjectUtils.resolveFieldData(optionGroup, this.props.optionGroupChildren[this.props.level]);\n    }\n  }, {\n    key: \"isOptionGroup\",\n    value: function isOptionGroup(option) {\n      return Object.prototype.hasOwnProperty.call(option, this.props.optionGroupChildren[this.props.level]);\n    }\n  }, {\n    key: \"getOptionLabelToRender\",\n    value: function getOptionLabelToRender(option) {\n      return this.isOptionGroup(option) ? this.getOptionGroupLabel(option) : this.getOptionLabel(option);\n    }\n  }, {\n    key: \"renderSubmenu\",\n    value: function renderSubmenu(option) {\n      if (this.isOptionGroup(option) && this.state.activeOption === option) {\n        return /*#__PURE__*/React.createElement(CascadeSelectSub, {\n          options: this.getOptionGroupChildren(option),\n          className: \"p-cascadeselect-sublist\",\n          selectionPath: this.props.selectionPath,\n          optionLabel: this.props.optionLabel,\n          optionValue: this.props.optionValue,\n          level: this.props.level + 1,\n          onOptionSelect: this.onOptionSelect,\n          onOptionGroupSelect: this.onOptionGroupSelect,\n          parentActive: this.state.activeOption === option,\n          optionGroupLabel: this.props.optionGroupLabel,\n          optionGroupChildren: this.props.optionGroupChildren,\n          dirty: this.props.dirty,\n          template: this.props.template,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 17\n          }\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderOption\",\n    value: function renderOption(option, index) {\n      var _this2 = this;\n\n      var className = classNames('p-cascadeselect-item', {\n        'p-cascadeselect-item-group': this.isOptionGroup(option),\n        'p-cascadeselect-item-active p-highlight': this.state.activeOption === option\n      }, option.className);\n      var submenu = this.renderSubmenu(option);\n      var content = this.props.template ? ObjectUtils.getJSXElement(this.props.template, this.getOptionValue(option)) : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"p-cascadeselect-item-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }\n      }, this.getOptionLabelToRender(option));\n      var optionGroup = this.isOptionGroup(option) && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"p-cascadeselect-group-icon pi pi-angle-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 59\n        }\n      });\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: this.getOptionLabelToRender(option) + '_' + index,\n        className: className,\n        style: option.style,\n        role: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-cascadeselect-item-content\",\n        onClick: function onClick(event) {\n          return _this2.onOptionClick(event, option);\n        },\n        tabIndex: 0,\n        onKeyDown: function onKeyDown(event) {\n          return _this2.onKeyDown(event, option);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 17\n        }\n      }, content, optionGroup, /*#__PURE__*/React.createElement(Ripple, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 21\n        }\n      })), submenu);\n    }\n  }, {\n    key: \"renderMenu\",\n    value: function renderMenu() {\n      var _this3 = this;\n\n      if (this.props.options) {\n        return this.props.options.map(function (option, index) {\n          return _this3.renderOption(option, index);\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var className = classNames('p-cascadeselect-panel p-cascadeselect-items', this.props.className);\n      var submenu = this.renderMenu();\n      return /*#__PURE__*/React.createElement(\"ul\", {\n        ref: function ref(el) {\n          return _this4.element = el;\n        },\n        className: className,\n        role: \"listbox\",\n        \"aria-orientation\": \"horizontal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }\n      }, submenu);\n    }\n  }]);\n\n  return CascadeSelectSub;\n}(Component);\nCascadeSelectSub.defaultProps = {\n  options: null,\n  selectionPath: false,\n  className: null,\n  optionLabel: null,\n  optionValue: null,\n  level: null,\n  optionGroupLabel: null,\n  optionGroupChildren: null,\n  parentActive: null,\n  dirty: null,\n  root: null,\n  template: null,\n  onOptionSelect: null,\n  onOptionGroupSelect: null\n};\nCascadeSelectSub.propTypes = {\n  options: PropTypes.array,\n  selectionPath: PropTypes.any,\n  className: PropTypes.string,\n  optionLabel: PropTypes.string,\n  optionValue: PropTypes.string,\n  level: PropTypes.number,\n  optionGroupLabel: PropTypes.string,\n  optionGroupChildren: PropTypes.array,\n  parentActive: PropTypes.bool,\n  dirty: PropTypes.bool,\n  root: PropTypes.bool,\n  template: PropTypes.any,\n  onOptionSelect: PropTypes.func,\n  onOptionGroupSelect: PropTypes.func\n};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zloto/src/components/cascadeselect/CascadeSelectSub.js"],"names":["React","Component","PropTypes","classNames","DomHandler","ObjectUtils","Ripple","CascadeSelectSub","props","state","activeOption","onOptionSelect","bind","onOptionGroupSelect","selectionPath","options","dirty","option","includes","setState","root","position","prevProps","parentActive","parentItem","element","parentElement","containerOffset","getOffset","viewport","getViewport","sublistWidth","offsetParent","offsetWidth","getHiddenElementOuterWidth","itemOuterWidth","getOuterWidth","children","parseInt","left","width","calculateScrollbarWidth","style","event","listItem","currentTarget","key","nextItem","findNextItem","focus","prevItem","findPrevItem","isOptionGroup","parentList","previousElementSibling","onOptionClick","preventDefault","item","nextElementSibling","hasClass","originalEvent","value","getOptionValue","optionLabel","resolveFieldData","optionValue","optionGroup","optionGroupLabel","optionGroupChildren","level","Object","prototype","hasOwnProperty","call","getOptionGroupLabel","getOptionLabel","getOptionGroupChildren","template","index","className","submenu","renderSubmenu","content","getJSXElement","getOptionLabelToRender","onKeyDown","map","renderOption","renderMenu","el","defaultProps","propTypes","array","any","string","number","bool","func"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport ObjectUtils from '../utils/ObjectUtils';\r\nimport { Ripple } from '../ripple/Ripple';\r\n\r\nexport class CascadeSelectSub extends Component {\r\n\r\n    static defaultProps = {\r\n        options: null,\r\n        selectionPath: false,\r\n        className: null,\r\n        optionLabel: null,\r\n        optionValue: null,\r\n        level: null,\r\n        optionGroupLabel: null,\r\n        optionGroupChildren: null,\r\n        parentActive: null,\r\n        dirty: null,\r\n        root: null,\r\n        template: null,\r\n        onOptionSelect: null,\r\n        onOptionGroupSelect: null\r\n    };\r\n\r\n    static propTypes = {\r\n        options: PropTypes.array,\r\n        selectionPath: PropTypes.any,\r\n        className: PropTypes.string,\r\n        optionLabel: PropTypes.string,\r\n        optionValue: PropTypes.string,\r\n        level: PropTypes.number,\r\n        optionGroupLabel: PropTypes.string,\r\n        optionGroupChildren: PropTypes.array,\r\n        parentActive: PropTypes.bool,\r\n        dirty: PropTypes.bool,\r\n        root: PropTypes.bool,\r\n        template: PropTypes.any,\r\n        onOptionSelect: PropTypes.func,\r\n        onOptionGroupSelect: PropTypes.func\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeOption: null\r\n        };\r\n\r\n        this.onOptionSelect = this.onOptionSelect.bind(this);\r\n        this.onOptionGroupSelect = this.onOptionGroupSelect.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.selectionPath && this.props.options && !this.props.dirty) {\r\n            for (let option of this.props.options) {\r\n                if (this.props.selectionPath.includes(option)) {\r\n                    this.setState({ activeOption: option });\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!this.props.root) {\r\n            this.position();\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.parentActive !== this.props.parentActive) {\r\n            this.setState({ activeOption: null })\r\n        }\r\n    }\r\n\r\n    position() {\r\n        const parentItem = this.element.parentElement;\r\n        const containerOffset = DomHandler.getOffset(parentItem);\r\n        const viewport = DomHandler.getViewport();\r\n        const sublistWidth = this.element.offsetParent ? this.element.offsetWidth : DomHandler.getHiddenElementOuterWidth(this.element);\r\n        const itemOuterWidth = DomHandler.getOuterWidth(parentItem.children[0]);\r\n\r\n        if ((parseInt(containerOffset.left, 10) + itemOuterWidth + sublistWidth) > (viewport.width - DomHandler.calculateScrollbarWidth())) {\r\n            this.element.style.left = '-100%';\r\n        }\r\n    }\r\n\r\n    onOptionSelect(event) {\r\n        if (this.props.onOptionSelect) {\r\n            this.props.onOptionSelect(event);\r\n        }\r\n    }\r\n\r\n    onKeyDown(event, option) {\r\n        let listItem = event.currentTarget.parentElement;\r\n\r\n        switch (event.key) {\r\n            case 'Down':\r\n            case 'ArrowDown':\r\n                let nextItem = this.findNextItem(listItem);\r\n                if (nextItem) {\r\n                    nextItem.children[0].focus();\r\n                }\r\n                break;\r\n\r\n            case 'Up':\r\n            case 'ArrowUp':\r\n                let prevItem = this.findPrevItem(listItem);\r\n                if (prevItem) {\r\n                    prevItem.children[0].focus();\r\n                }\r\n                break;\r\n\r\n            case 'Right':\r\n            case 'ArrowRight':\r\n                if (this.isOptionGroup(option)) {\r\n                    if (this.state.activeOption === option) {\r\n                        listItem.children[1].children[0].children[0].focus();\r\n                    }\r\n                    else {\r\n                        this.setState({ activeOption: option });\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case 'Left':\r\n            case 'ArrowLeft':\r\n                this.setState({ activeOption: null });\r\n\r\n                let parentList = event.currentTarget.parentElement.parentElement.previousElementSibling;\r\n                if (parentList) {\r\n                    parentList.focus();\r\n                }\r\n                break;\r\n\r\n            case 'Enter':\r\n                this.onOptionClick(event, option);\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    findNextItem(item) {\r\n        let nextItem = item.nextElementSibling;\r\n\r\n        if (nextItem)\r\n            return DomHandler.hasClass(nextItem, 'p-disabled') || !DomHandler.hasClass(nextItem, 'p-cascadeselect-item') ? this.findNextItem(nextItem) : nextItem;\r\n        else\r\n            return null;\r\n    }\r\n\r\n    findPrevItem(item) {\r\n        let prevItem = item.previousElementSibling;\r\n\r\n        if (prevItem)\r\n            return DomHandler.hasClass(prevItem, 'p-disabled') || !DomHandler.hasClass(prevItem, 'p-cascadeselect-item') ? this.findPrevItem(prevItem) : prevItem;\r\n        else\r\n            return null;\r\n    }\r\n\r\n    onOptionClick(event, option) {\r\n        if (this.isOptionGroup(option)) {\r\n            this.setState({ activeOption: (this.state.activeOption === option) ? null : option });\r\n\r\n            if (this.props.onOptionGroupSelect) {\r\n                this.props.onOptionGroupSelect({\r\n                    originalEvent: event,\r\n                    value: option\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            if (this.props.onOptionSelect) {\r\n                this.props.onOptionSelect({\r\n                    originalEvent: event,\r\n                    value: this.getOptionValue(option),\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    onOptionGroupSelect(event) {\r\n        if (this.props.onOptionGroupSelect) {\r\n            this.props.onOptionGroupSelect(event);\r\n        }\r\n    }\r\n\r\n    getOptionLabel(option) {\r\n        return this.props.optionLabel ? ObjectUtils.resolveFieldData(option, this.props.optionLabel) : option;\r\n    }\r\n\r\n    getOptionValue(option) {\r\n        return this.props.optionValue ? ObjectUtils.resolveFieldData(option, this.props.optionValue) : option;\r\n    }\r\n\r\n    getOptionGroupLabel(optionGroup) {\r\n        return this.props.optionGroupLabel ? ObjectUtils.resolveFieldData(optionGroup, this.props.optionGroupLabel) : null;\r\n    }\r\n\r\n    getOptionGroupChildren(optionGroup) {\r\n        return ObjectUtils.resolveFieldData(optionGroup, this.props.optionGroupChildren[this.props.level]);\r\n    }\r\n\r\n    isOptionGroup(option) {\r\n        return Object.prototype.hasOwnProperty.call(option, this.props.optionGroupChildren[this.props.level]);\r\n    }\r\n\r\n    getOptionLabelToRender(option) {\r\n        return this.isOptionGroup(option) ? this.getOptionGroupLabel(option) : this.getOptionLabel(option);\r\n    }\r\n\r\n    renderSubmenu(option) {\r\n        if (this.isOptionGroup(option) && this.state.activeOption === option) {\r\n            return (\r\n                <CascadeSelectSub options={this.getOptionGroupChildren(option)} className={\"p-cascadeselect-sublist\"} selectionPath={this.props.selectionPath} optionLabel={this.props.optionLabel}\r\n                    optionValue={this.props.optionValue} level={this.props.level + 1} onOptionSelect={this.onOptionSelect} onOptionGroupSelect={this.onOptionGroupSelect}\r\n                    parentActive={this.state.activeOption === option} optionGroupLabel={this.props.optionGroupLabel} optionGroupChildren={this.props.optionGroupChildren}\r\n                    dirty={this.props.dirty} template={this.props.template} />\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderOption(option, index) {\r\n        const className = classNames('p-cascadeselect-item', {\r\n            'p-cascadeselect-item-group': this.isOptionGroup(option),\r\n            'p-cascadeselect-item-active p-highlight': this.state.activeOption === option\r\n        }, option.className);\r\n        const submenu = this.renderSubmenu(option);\r\n        const content = this.props.template ? ObjectUtils.getJSXElement(this.props.template, this.getOptionValue(option)) :\r\n            <span className=\"p-cascadeselect-item-text\">{this.getOptionLabelToRender(option)}</span>;\r\n        const optionGroup = this.isOptionGroup(option) && <span className=\"p-cascadeselect-group-icon pi pi-angle-right\" />\r\n\r\n        return (\r\n            <li key={this.getOptionLabelToRender(option) + '_' + index} className={className} style={option.style} role=\"none\">\r\n                <div className={\"p-cascadeselect-item-content\"} onClick={event => this.onOptionClick(event, option)} tabIndex={0} onKeyDown={event => this.onKeyDown(event, option)}>\r\n                    {content}\r\n                    {optionGroup}\r\n                    <Ripple />\r\n                </div>\r\n                {submenu}\r\n            </li>\r\n        );\r\n    }\r\n\r\n    renderMenu() {\r\n        if (this.props.options) {\r\n            return (\r\n                this.props.options.map((option, index) => {\r\n                    return this.renderOption(option, index);\r\n                })\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n        const className = classNames('p-cascadeselect-panel p-cascadeselect-items', this.props.className)\r\n        const submenu = this.renderMenu();\r\n\r\n        return (\r\n            <ul ref={el => this.element = el} className={className} role=\"listbox\" aria-orientation=\"horizontal\">\r\n                {submenu}\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}