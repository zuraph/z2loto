{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\src\\\\components\\\\chart\\\\Chart.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport * as ChartJS from 'chart.js';\nimport { classNames } from '../utils/ClassNames';\nexport var Chart = /*#__PURE__*/function (_Component) {\n  _inherits(Chart, _Component);\n\n  var _super = _createSuper(Chart);\n\n  function Chart() {\n    _classCallCheck(this, Chart);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Chart, [{\n    key: \"initChart\",\n    value: function initChart() {\n      this.chart = new ChartJS.Chart(this.canvas, {\n        type: this.props.type,\n        data: this.props.data,\n        options: this.props.options\n      });\n    }\n  }, {\n    key: \"getCanvas\",\n    value: function getCanvas() {\n      return this.canvas;\n    }\n  }, {\n    key: \"getBase64Image\",\n    value: function getBase64Image() {\n      return this.chart.toBase64Image();\n    }\n  }, {\n    key: \"generateLegend\",\n    value: function generateLegend() {\n      if (this.chart) {\n        this.chart.generateLegend();\n      }\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      if (this.chart) {\n        this.chart.update();\n      }\n    }\n  }, {\n    key: \"reinit\",\n    value: function reinit() {\n      if (this.chart) {\n        this.chart.destroy();\n        this.initChart();\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      if (nextProps.data === this.props.data && nextProps.options === this.props.options && nextProps.type === this.props.type) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initChart();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.reinit();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.chart) {\n        this.chart.destroy();\n        this.chart = null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var className = classNames('p-chart', this.props.className),\n          style = Object.assign({\n        width: this.props.width,\n        height: this.props.height\n      }, this.props.style);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: this.props.id,\n        style: style,\n        className: className,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"canvas\", {\n        ref: function ref(el) {\n          _this.canvas = el;\n        },\n        width: this.props.width,\n        height: this.props.height,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return Chart;\n}(Component);\nChart.defaultProps = {\n  id: null,\n  type: null,\n  data: null,\n  options: null,\n  width: null,\n  height: null,\n  style: null,\n  className: null\n};\nChart.propTypes = {\n  id: PropTypes.string,\n  type: PropTypes.string,\n  data: PropTypes.object,\n  options: PropTypes.object,\n  width: PropTypes.string,\n  height: PropTypes.string,\n  style: PropTypes.object,\n  className: PropTypes.string\n};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/components/chart/Chart.js"],"names":["React","Component","PropTypes","ChartJS","classNames","Chart","chart","canvas","type","props","data","options","toBase64Image","generateLegend","update","destroy","initChart","nextProps","reinit","className","style","Object","assign","width","height","id","el","defaultProps","propTypes","string","object"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport * as ChartJS from 'chart.js';\r\nimport { classNames } from '../utils/ClassNames';\r\n\r\nexport class Chart extends Component {\r\n\r\n    static defaultProps = {\r\n        id: null,\r\n        type: null,\r\n        data: null,\r\n        options: null,\r\n        width: null,\r\n        height: null,\r\n        style: null,\r\n        className: null\r\n    }\r\n\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        type: PropTypes.string,\r\n        data: PropTypes.object,\r\n        options: PropTypes.object,\r\n        width: PropTypes.string,\r\n        height: PropTypes.string,\r\n        style: PropTypes.object,\r\n        className: PropTypes.string\r\n    };\r\n\r\n    initChart() {\r\n        this.chart = new ChartJS.Chart(this.canvas, {\r\n            type: this.props.type,\r\n            data: this.props.data,\r\n            options: this.props.options\r\n        });\r\n    }\r\n\r\n    getCanvas() {\r\n        return this.canvas;\r\n    }\r\n\r\n    getBase64Image() {\r\n        return this.chart.toBase64Image();\r\n    }\r\n\r\n    generateLegend() {\r\n        if(this.chart) {\r\n            this.chart.generateLegend();\r\n        }\r\n    }\r\n\r\n    refresh() {\r\n        if(this.chart) {\r\n            this.chart.update();\r\n        }\r\n    }\r\n\r\n    reinit() {\r\n        if(this.chart) {\r\n            this.chart.destroy();\r\n            this.initChart();\r\n        }\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps) {\r\n        if (nextProps.data === this.props.data && nextProps.options === this.props.options && nextProps.type === this.props.type) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.initChart();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.reinit();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if(this.chart) {\r\n            this.chart.destroy();\r\n            this.chart = null;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let className = classNames('p-chart', this.props.className),\r\n            style = Object.assign({\r\n                width: this.props.width,\r\n                height: this.props.height\r\n            }, this.props.style);\r\n\r\n        return (\r\n            <div id={this.props.id} style={style} className={className}>\r\n                <canvas ref={(el) => {this.canvas = el;}} width={this.props.width} height={this.props.height}></canvas>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}