{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{classNames}from'../utils/ClassNames';import{tip}from'../tooltip/Tooltip';export var Rating=/*#__PURE__*/function(_Component){_inherits(Rating,_Component);var _super=_createSuper(Rating);function Rating(props){var _this;_classCallCheck(this,Rating);_this=_super.call(this,props);_this.clear=_this.clear.bind(_assertThisInitialized(_this));_this.onStarKeyDown=_this.onStarKeyDown.bind(_assertThisInitialized(_this));_this.onCancelKeyDown=_this.onCancelKeyDown.bind(_assertThisInitialized(_this));return _this;}_createClass(Rating,[{key:\"rate\",value:function rate(event,i){if(!this.props.readOnly&&!this.props.disabled&&this.props.onChange){this.props.onChange({originalEvent:event,value:i,stopPropagation:function stopPropagation(){},preventDefault:function preventDefault(){},target:{name:this.props.name,id:this.props.id,value:i}});}event.preventDefault();}},{key:\"clear\",value:function clear(event){if(!this.props.readOnly&&!this.props.disabled&&this.props.onChange){this.props.onChange({originalEvent:event,value:null,stopPropagation:function stopPropagation(){},preventDefault:function preventDefault(){},target:{name:this.props.name,id:this.props.id,value:null}});}event.preventDefault();}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){if(nextProps.value===this.props.value&&nextProps.disabled===this.props.disabled){return false;}return true;}},{key:\"onStarKeyDown\",value:function onStarKeyDown(event,value){if(event.key==='Enter'){this.rate(event,value);}}},{key:\"onCancelKeyDown\",value:function onCancelKeyDown(event){if(event.key==='Enter'){this.clear(event);}}},{key:\"getFocusIndex\",value:function getFocusIndex(){return this.props.disabled||this.props.readOnly?null:0;}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.tooltip){this.renderTooltip();}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.tooltip!==this.props.tooltip||prevProps.tooltipOptions!==this.props.tooltipOptions){if(this.tooltip)this.tooltip.update(_objectSpread({content:this.props.tooltip},this.props.tooltipOptions||{}));else this.renderTooltip();}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.tooltip){this.tooltip.destroy();this.tooltip=null;}}},{key:\"renderTooltip\",value:function renderTooltip(){this.tooltip=tip({target:this.element,content:this.props.tooltip,options:this.props.tooltipOptions});}},{key:\"renderStars\",value:function renderStars(){var _this2=this;var starsArray=[];for(var i=0;i<this.props.stars;i++){starsArray[i]=i+1;}var stars=starsArray.map(function(value){var iconClass=classNames('p-rating-icon',{'pi pi-star-o':!_this2.props.value||value>_this2.props.value,'pi pi-star':value<=_this2.props.value});return/*#__PURE__*/React.createElement(\"span\",{className:iconClass,onClick:function onClick(e){return _this2.rate(e,value);},key:value,tabIndex:_this2.getFocusIndex(),onKeyDown:function onKeyDown(e){return _this2.onStarKeyDown(e,value);}});});return stars;}},{key:\"renderCancelIcon\",value:function renderCancelIcon(){if(this.props.cancel){return/*#__PURE__*/React.createElement(\"span\",{className:\"p-rating-icon p-rating-cancel pi pi-ban\",onClick:this.clear,tabIndex:this.getFocusIndex(),onKeyDown:this.onCancelKeyDown});}return null;}},{key:\"render\",value:function render(){var _this3=this;var className=classNames('p-rating',{'p-disabled':this.props.disabled,'p-rating-readonly':this.props.readOnly},this.props.className);var cancelIcon=this.renderCancelIcon();var stars=this.renderStars();return/*#__PURE__*/React.createElement(\"div\",{ref:function ref(el){return _this3.element=el;},id:this.props.id,className:className,style:this.props.style},cancelIcon,stars);}}]);return Rating;}(Component);Rating.defaultProps={id:null,value:null,disabled:false,readOnly:false,stars:5,cancel:true,style:null,className:null,tooltip:null,tooltipOptions:null,onChange:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/components/rating/Rating.js"],"names":["React","Component","classNames","tip","Rating","props","clear","bind","onStarKeyDown","onCancelKeyDown","event","i","readOnly","disabled","onChange","originalEvent","value","stopPropagation","preventDefault","target","name","id","nextProps","nextState","key","rate","tooltip","renderTooltip","prevProps","tooltipOptions","update","content","destroy","element","options","starsArray","stars","map","iconClass","e","getFocusIndex","cancel","className","cancelIcon","renderCancelIcon","renderStars","el","style","defaultProps"],"mappings":"2/BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,OAASC,UAAT,KAA2B,qBAA3B,CACA,OAASC,GAAT,KAAoB,oBAApB,CAEA,UAAaC,CAAAA,MAAb,gGA8BI,gBAAYC,KAAZ,CAAmB,wCACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,MAAKA,KAAL,CAAWC,IAAX,+BAAb,CACA,MAAKC,aAAL,CAAqB,MAAKA,aAAL,CAAmBD,IAAnB,+BAArB,CACA,MAAKE,eAAL,CAAuB,MAAKA,eAAL,CAAqBF,IAArB,+BAAvB,CAJe,aAKlB,CAnCL,uCAqCI,cAAKG,KAAL,CAAYC,CAAZ,CAAe,CACX,GAAI,CAAC,KAAKN,KAAL,CAAWO,QAAZ,EAAwB,CAAC,KAAKP,KAAL,CAAWQ,QAApC,EAAgD,KAAKR,KAAL,CAAWS,QAA/D,CAAyE,CACrE,KAAKT,KAAL,CAAWS,QAAX,CAAoB,CAChBC,aAAa,CAAEL,KADC,CAEhBM,KAAK,CAAEL,CAFS,CAGhBM,eAAe,CAAG,0BAAK,CAAE,CAHT,CAIhBC,cAAc,CAAG,yBAAK,CAAE,CAJR,CAKhBC,MAAM,CAAE,CACJC,IAAI,CAAE,KAAKf,KAAL,CAAWe,IADb,CAEJC,EAAE,CAAE,KAAKhB,KAAL,CAAWgB,EAFX,CAGJL,KAAK,CAAEL,CAHH,CALQ,CAApB,EAWH,CAEDD,KAAK,CAACQ,cAAN,GACH,CArDL,qBAuDI,eAAMR,KAAN,CAAa,CACT,GAAI,CAAC,KAAKL,KAAL,CAAWO,QAAZ,EAAwB,CAAC,KAAKP,KAAL,CAAWQ,QAApC,EAAgD,KAAKR,KAAL,CAAWS,QAA/D,CAAyE,CACrE,KAAKT,KAAL,CAAWS,QAAX,CAAoB,CAChBC,aAAa,CAAEL,KADC,CAEhBM,KAAK,CAAE,IAFS,CAGhBC,eAAe,CAAG,0BAAK,CAAE,CAHT,CAIhBC,cAAc,CAAG,yBAAK,CAAE,CAJR,CAKhBC,MAAM,CAAE,CACJC,IAAI,CAAE,KAAKf,KAAL,CAAWe,IADb,CAEJC,EAAE,CAAE,KAAKhB,KAAL,CAAWgB,EAFX,CAGJL,KAAK,CAAE,IAHH,CALQ,CAApB,EAWH,CAEDN,KAAK,CAACQ,cAAN,GACH,CAvEL,qCAyEI,+BAAsBI,SAAtB,CAAiCC,SAAjC,CAA4C,CACxC,GAAID,SAAS,CAACN,KAAV,GAAoB,KAAKX,KAAL,CAAWW,KAA/B,EAAwCM,SAAS,CAACT,QAAV,GAAuB,KAAKR,KAAL,CAAWQ,QAA9E,CAAwF,CACpF,MAAO,MAAP,CACH,CAED,MAAO,KAAP,CACH,CA/EL,6BAiFI,uBAAcH,KAAd,CAAqBM,KAArB,CAA4B,CACxB,GAAIN,KAAK,CAACc,GAAN,GAAc,OAAlB,CAA2B,CACvB,KAAKC,IAAL,CAAUf,KAAV,CAAiBM,KAAjB,EACH,CACJ,CArFL,+BAuFI,yBAAgBN,KAAhB,CAAuB,CACnB,GAAIA,KAAK,CAACc,GAAN,GAAc,OAAlB,CAA2B,CACvB,KAAKlB,KAAL,CAAWI,KAAX,EACH,CACJ,CA3FL,6BA6FI,wBAAgB,CACZ,MAAQ,MAAKL,KAAL,CAAWQ,QAAX,EAAuB,KAAKR,KAAL,CAAWO,QAAnC,CAA+C,IAA/C,CAAsD,CAA7D,CACH,CA/FL,iCAiGI,4BAAoB,CAChB,GAAI,KAAKP,KAAL,CAAWqB,OAAf,CAAwB,CACpB,KAAKC,aAAL,GACH,CACJ,CArGL,kCAuGI,4BAAmBC,SAAnB,CAA8B,CAC1B,GAAIA,SAAS,CAACF,OAAV,GAAsB,KAAKrB,KAAL,CAAWqB,OAAjC,EAA4CE,SAAS,CAACC,cAAV,GAA6B,KAAKxB,KAAL,CAAWwB,cAAxF,CAAwG,CACpG,GAAI,KAAKH,OAAT,CACI,KAAKA,OAAL,CAAaI,MAAb,gBAAsBC,OAAO,CAAE,KAAK1B,KAAL,CAAWqB,OAA1C,EAAuD,KAAKrB,KAAL,CAAWwB,cAAX,EAA6B,EAApF,GADJ,IAGI,MAAKF,aAAL,GACP,CACJ,CA9GL,oCAgHI,+BAAuB,CACnB,GAAI,KAAKD,OAAT,CAAkB,CACd,KAAKA,OAAL,CAAaM,OAAb,GACA,KAAKN,OAAL,CAAe,IAAf,CACH,CACJ,CArHL,6BAuHI,wBAAgB,CACZ,KAAKA,OAAL,CAAevB,GAAG,CAAC,CACfgB,MAAM,CAAE,KAAKc,OADE,CAEfF,OAAO,CAAE,KAAK1B,KAAL,CAAWqB,OAFL,CAGfQ,OAAO,CAAE,KAAK7B,KAAL,CAAWwB,cAHL,CAAD,CAAlB,CAKH,CA7HL,2BA+HI,sBAAc,iBACV,GAAIM,CAAAA,UAAU,CAAG,EAAjB,CACA,IAAK,GAAIxB,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG,KAAKN,KAAL,CAAW+B,KAA/B,CAAsCzB,CAAC,EAAvC,CAA2C,CACvCwB,UAAU,CAACxB,CAAD,CAAV,CAAgBA,CAAC,CAAG,CAApB,CACH,CAED,GAAIyB,CAAAA,KAAK,CAAGD,UAAU,CAACE,GAAX,CAAe,SAACrB,KAAD,CAAW,CAClC,GAAIsB,CAAAA,SAAS,CAAGpC,UAAU,CAAC,eAAD,CAAkB,CACxC,eAAiB,CAAC,MAAI,CAACG,KAAL,CAAWW,KAAZ,EAAqBA,KAAK,CAAG,MAAI,CAACX,KAAL,CAAWW,KADjB,CAExC,aAAeA,KAAK,EAAI,MAAI,CAACX,KAAL,CAAWW,KAFK,CAAlB,CAA1B,CAKA,mBACI,4BAAM,SAAS,CAAEsB,SAAjB,CAA4B,OAAO,CAAE,iBAACC,CAAD,QAAO,CAAA,MAAI,CAACd,IAAL,CAAUc,CAAV,CAAavB,KAAb,CAAP,EAArC,CAAiE,GAAG,CAAEA,KAAtE,CAA6E,QAAQ,CAAE,MAAI,CAACwB,aAAL,EAAvF,CAA6G,SAAS,CAAE,mBAACD,CAAD,QAAO,CAAA,MAAI,CAAC/B,aAAL,CAAmB+B,CAAnB,CAAsBvB,KAAtB,CAAP,EAAxH,EADJ,CAGH,CATW,CAAZ,CAWA,MAAOoB,CAAAA,KAAP,CACH,CAjJL,gCAmJI,2BAAmB,CACf,GAAI,KAAK/B,KAAL,CAAWoC,MAAf,CAAuB,CACnB,mBACI,4BAAM,SAAS,CAAC,yCAAhB,CAA0D,OAAO,CAAE,KAAKnC,KAAxE,CAA+E,QAAQ,CAAE,KAAKkC,aAAL,EAAzF,CAAiH,SAAS,CAAE,KAAK/B,eAAjI,EADJ,CAGH,CAED,MAAO,KAAP,CACH,CA3JL,sBA6JI,iBAAS,iBACL,GAAIiC,CAAAA,SAAS,CAAGxC,UAAU,CAAC,UAAD,CAAa,CACnC,aAAc,KAAKG,KAAL,CAAWQ,QADU,CAEnC,oBAAqB,KAAKR,KAAL,CAAWO,QAFG,CAAb,CAGvB,KAAKP,KAAL,CAAWqC,SAHY,CAA1B,CAIA,GAAIC,CAAAA,UAAU,CAAG,KAAKC,gBAAL,EAAjB,CACA,GAAIR,CAAAA,KAAK,CAAG,KAAKS,WAAL,EAAZ,CAEA,mBACI,2BAAK,GAAG,CAAE,aAACC,EAAD,QAAQ,CAAA,MAAI,CAACb,OAAL,CAAea,EAAvB,EAAV,CAAqC,EAAE,CAAE,KAAKzC,KAAL,CAAWgB,EAApD,CAAwD,SAAS,CAAEqB,SAAnE,CAA8E,KAAK,CAAE,KAAKrC,KAAL,CAAW0C,KAAhG,EACKJ,UADL,CAEKP,KAFL,CADJ,CAMH,CA3KL,oBAA4BnC,SAA5B,EAAaG,M,CAEF4C,Y,CAAe,CAClB3B,EAAE,CAAE,IADc,CAElBL,KAAK,CAAE,IAFW,CAGlBH,QAAQ,CAAE,KAHQ,CAIlBD,QAAQ,CAAE,KAJQ,CAKlBwB,KAAK,CAAE,CALW,CAMlBK,MAAM,CAAE,IANU,CAOlBM,KAAK,CAAE,IAPW,CAQlBL,SAAS,CAAE,IARO,CASlBhB,OAAO,CAAE,IATS,CAUlBG,cAAc,CAAE,IAVE,CAWlBf,QAAQ,CAAE,IAXQ,C","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport { tip } from '../tooltip/Tooltip';\r\n\r\nexport class Rating extends Component {\r\n\r\n    static defaultProps = {\r\n        id: null,\r\n        value: null,\r\n        disabled: false,\r\n        readOnly: false,\r\n        stars: 5,\r\n        cancel: true,\r\n        style: null,\r\n        className: null,\r\n        tooltip: null,\r\n        tooltipOptions: null,\r\n        onChange: null\r\n    }\r\n\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        value: PropTypes.number,\r\n        disabled: PropTypes.bool,\r\n        readOnly: PropTypes.bool,\r\n        stars: PropTypes.number,\r\n        cancel: PropTypes.bool,\r\n        style: PropTypes.object,\r\n        className: PropTypes.string,\r\n        tooltip: PropTypes.string,\r\n        tooltipOptions: PropTypes.object,\r\n        onChange: PropTypes.func\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.clear = this.clear.bind(this);\r\n        this.onStarKeyDown = this.onStarKeyDown.bind(this);\r\n        this.onCancelKeyDown = this.onCancelKeyDown.bind(this);\r\n    }\r\n\r\n    rate(event, i) {\r\n        if (!this.props.readOnly && !this.props.disabled && this.props.onChange) {\r\n            this.props.onChange({\r\n                originalEvent: event,\r\n                value: i,\r\n                stopPropagation : () =>{},\r\n                preventDefault : () =>{},\r\n                target: {\r\n                    name: this.props.name,\r\n                    id: this.props.id,\r\n                    value: i\r\n                }\r\n            });\r\n        }\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    clear(event) {\r\n        if (!this.props.readOnly && !this.props.disabled && this.props.onChange) {\r\n            this.props.onChange({\r\n                originalEvent: event,\r\n                value: null,\r\n                stopPropagation : () =>{},\r\n                preventDefault : () =>{},\r\n                target: {\r\n                    name: this.props.name,\r\n                    id: this.props.id,\r\n                    value: null\r\n                }\r\n            });\r\n        }\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if (nextProps.value === this.props.value && nextProps.disabled === this.props.disabled) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    onStarKeyDown(event, value) {\r\n        if (event.key === 'Enter') {\r\n            this.rate(event, value);\r\n        }\r\n    }\r\n\r\n    onCancelKeyDown(event) {\r\n        if (event.key === 'Enter') {\r\n            this.clear(event);\r\n        }\r\n    }\r\n\r\n    getFocusIndex() {\r\n        return (this.props.disabled || this.props.readOnly) ? null : 0;\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.tooltip) {\r\n            this.renderTooltip();\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.tooltip !== this.props.tooltip || prevProps.tooltipOptions !== this.props.tooltipOptions) {\r\n            if (this.tooltip)\r\n                this.tooltip.update({ content: this.props.tooltip, ...(this.props.tooltipOptions || {}) });\r\n            else\r\n                this.renderTooltip();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.tooltip) {\r\n            this.tooltip.destroy();\r\n            this.tooltip = null;\r\n        }\r\n    }\r\n\r\n    renderTooltip() {\r\n        this.tooltip = tip({\r\n            target: this.element,\r\n            content: this.props.tooltip,\r\n            options: this.props.tooltipOptions\r\n        });\r\n    }\r\n\r\n    renderStars() {\r\n        let starsArray = [];\r\n        for (let i = 0; i < this.props.stars; i++) {\r\n            starsArray[i] = i + 1;\r\n        }\r\n\r\n        let stars = starsArray.map((value) => {\r\n            let iconClass = classNames('p-rating-icon', {\r\n                'pi pi-star-o': (!this.props.value || value > this.props.value),\r\n                'pi pi-star': (value <= this.props.value)\r\n            });\r\n\r\n            return (\r\n                <span className={iconClass} onClick={(e) => this.rate(e, value)} key={value} tabIndex={this.getFocusIndex()} onKeyDown={(e) => this.onStarKeyDown(e, value)}></span>\r\n            );\r\n        });\r\n\r\n        return stars;\r\n    }\r\n\r\n    renderCancelIcon() {\r\n        if (this.props.cancel) {\r\n            return (\r\n                <span className=\"p-rating-icon p-rating-cancel pi pi-ban\" onClick={this.clear} tabIndex={this.getFocusIndex()}   onKeyDown={this.onCancelKeyDown}></span>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n        let className = classNames('p-rating', {\r\n            'p-disabled': this.props.disabled,\r\n            'p-rating-readonly': this.props.readOnly\r\n        }, this.props.className);\r\n        let cancelIcon = this.renderCancelIcon();\r\n        let stars = this.renderStars();\r\n\r\n        return (\r\n            <div ref={(el) => this.element = el} id={this.props.id} className={className} style={this.props.style}>\r\n                {cancelIcon}\r\n                {stars}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}