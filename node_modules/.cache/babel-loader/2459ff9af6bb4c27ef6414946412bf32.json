{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _createForOfIteratorHelper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{CSSTransition}from'react-transition-group';import{NavLink}from'react-router-dom';import axios from'axios';import classNames from'classnames';import{InputText}from'./components/inputtext/InputText';export var AppMenu=/*#__PURE__*/function(_Component){_inherits(AppMenu,_Component);var _super=_createSuper(AppMenu);function AppMenu(props){var _this;_classCallCheck(this,AppMenu);_this=_super.call(this,props);_this.state={menu:null,filteredMenu:[],activeSubmenus:{}};_this.onSearchInputChange=_this.onSearchInputChange.bind(_assertThisInitialized(_this));_this.resetFilter=_this.resetFilter.bind(_assertThisInitialized(_this));return _this;}_createClass(AppMenu,[{key:\"getMenu\",value:function getMenu(){var _this2=this;if(this.props.demos){axios.get('showcase/menu/demoMenus.json',{headers:{'Cache-Control':'no-cache'}}).then(function(res){return res.data.data;}).then(function(data){return _this2.setState({menu:data,filteredMenu:data});});}else{axios.get('showcase/menu/menu.json',{headers:{'Cache-Control':'no-cache'}}).then(function(res){return res.data.data;}).then(function(data){return _this2.setState({menu:data,filteredMenu:data});});}}},{key:\"onSearchInputChange\",value:function onSearchInputChange(event){if(!this.state.menu){this.setState({filteredMenu:[]});}else if(!event.target.value){this.setState({filteredMenu:this.state.menu});}else if(this.state.menu){var searchVal=event.target.value&&event.target.value.toLowerCase();var filteredMenu=[];var _iterator=_createForOfIteratorHelper(this.state.menu),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;var copyItem=_objectSpread({},item);if(this.findFilteredItems(copyItem,searchVal)||this.isFilterMatched(copyItem,searchVal)){filteredMenu.push(copyItem);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}this.setState({filteredMenu:filteredMenu});}}},{key:\"findFilteredItems\",value:function findFilteredItems(item,searchVal){if(item){var matched=false;if(item.children){var childItems=_toConsumableArray(item.children);item.children=[];var _iterator2=_createForOfIteratorHelper(childItems),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var childItem=_step2.value;var copyChildItem=_objectSpread({},childItem);if(this.isFilterMatched(copyChildItem,searchVal)){matched=true;item.children.push(copyChildItem);item.expanded=true;}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}if(matched){return true;}}}},{key:\"isFilterMatched\",value:function isFilterMatched(item,searchVal){var matched=false;if(this.onFilterOnOptions(item,searchVal,['name','meta','badge'])){matched=true;}if(!matched||!(item.children&&item.children.length)){matched=this.findFilteredItems(item,searchVal)||matched;}return matched;}},{key:\"onFilterOnOptions\",value:function onFilterOnOptions(item,searchVal,optionKeys){if(item&&optionKeys){return optionKeys.some(function(optionKey){var value=item[optionKey];if(value){if(typeof value==='string')return value.toLowerCase().indexOf(searchVal)>-1;else return value.filter(function(meta){return meta.toLowerCase().indexOf(searchVal)>-1;}).length>0;}return false;});}return false;}},{key:\"toggleSubmenu\",value:function toggleSubmenu(event,name){var activeSubmenus=_objectSpread({},this.state.activeSubmenus);activeSubmenus[name]=activeSubmenus[name]?false:true;this.setState({activeSubmenus:activeSubmenus});event.preventDefault();}},{key:\"isSubmenuActive\",value:function isSubmenuActive(name){if(this.state.activeSubmenus.hasOwnProperty(name)){return this.state.activeSubmenus[name];}return false;}},{key:\"showSearchClearIcon\",value:function showSearchClearIcon(){return this.state.filteredMenu&&this.state.menu&&this.state.filteredMenu.length!==this.state.menu.length;}},{key:\"resetFilter\",value:function resetFilter(){var _this3=this;this.setState({filteredMenu:this.state.menu},function(){_this3.searchInput.value='';_this3.searchInput.focus();});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getMenu();}},{key:\"renderLink\",value:function renderLink(item,props){var _classNames;var name=item.name,to=item.to,href=item.href,badge=item.badge;var content=/*#__PURE__*/React.createElement(React.Fragment,null,name,badge&&/*#__PURE__*/React.createElement(\"span\",{className:classNames('layout-menu-badge p-tag p-tag-rounded p-ml-2 p-text-uppercase',(_classNames={},_defineProperty(_classNames,\"\".concat(badge),true),_defineProperty(_classNames,'p-tag-success',badge==='new'),_defineProperty(_classNames,'p-tag-info',badge==='updated'),_classNames))},badge));if(href){return/*#__PURE__*/React.createElement(\"a\",{href:href,role:\"menuitem\",target:\"_blank\",rel:\"noopener noreferrer\",onClick:this.props.onMenuItemClick},content);}else if(!to){return/*#__PURE__*/React.createElement(\"button\",Object.assign({className:\"p-link\"},props),content);}return/*#__PURE__*/React.createElement(NavLink,{to:to,exact:true,role:\"menuitem\",activeClassName:\"router-link-exact-active router-link-active\",onClick:this.props.onMenuItemClick},content);}},{key:\"renderCategorySubmenuItems\",value:function renderCategorySubmenuItems(item,submenuKey){var _this4=this;var cSubmenuRef=React.createRef();return/*#__PURE__*/React.createElement(CSSTransition,{nodeRef:cSubmenuRef,classNames:\"p-toggleable-content\",timeout:{enter:1000,exit:450},in:this.isSubmenuActive(item.name)||item.expanded,unmountOnExit:true},/*#__PURE__*/React.createElement(\"div\",{ref:cSubmenuRef,className:\"p-toggleable-content\"},/*#__PURE__*/React.createElement(\"ul\",{role:\"menu\"},item.children.map(function(item,index){var link=_this4.renderLink(item);return/*#__PURE__*/React.createElement(\"li\",{role:\"menuitem\",key:\"menuitem_\".concat(submenuKey,\"_\").concat(index)},link);}))));}},{key:\"renderCategoryItem\",value:function renderCategoryItem(menuitem,menuitemIndex){var _this5=this;if(menuitem.children){return/*#__PURE__*/React.createElement(React.Fragment,null,menuitem.children.map(function(item,index){var submenuKey=\"\".concat(menuitemIndex,\"_\").concat(index);var link=_this5.renderLink(item,{onClick:function onClick(e){return _this5.toggleSubmenu(e,item.name);}});return/*#__PURE__*/React.createElement(React.Fragment,{key:\"menuitem_\".concat(submenuKey)},link,item.children&&_this5.renderCategorySubmenuItems(item,submenuKey));}));}return null;}},{key:\"renderCategoryItems\",value:function renderCategoryItems(){var _this6=this;if(this.state.menu){return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.filteredMenu&&this.state.filteredMenu.map(function(menuitem,index){var categoryItem=_this6.renderCategoryItem(menuitem,index);return/*#__PURE__*/React.createElement(React.Fragment,{key:\"category_\".concat(index)},/*#__PURE__*/React.createElement(\"div\",{className:\"menu-category\"},menuitem.name),/*#__PURE__*/React.createElement(\"div\",{className:\"menu-items\"},categoryItem));}));}return null;}},{key:\"render\",value:function render(){var _this7=this;var menuItems=this.renderCategoryItems();var showClearIcon=this.showSearchClearIcon();var sidebarClassName=classNames('layout-sidebar',{'active':this.props.active});var filterContentClassName=classNames('layout-sidebar-filter-content p-input-filled p-input-icon-left p-fluid',{'p-input-icon-right':showClearIcon});return/*#__PURE__*/React.createElement(\"div\",{className:sidebarClassName,role:\"navigation\"},/*#__PURE__*/React.createElement(\"div\",{className:\"layout-sidebar-filter\"},/*#__PURE__*/React.createElement(\"div\",{className:filterContentClassName},/*#__PURE__*/React.createElement(\"i\",{className:\"pi pi-search\"}),/*#__PURE__*/React.createElement(InputText,{ref:function ref(el){return _this7.searchInput=el;},type:\"text\",onChange:this.onSearchInputChange,placeholder:\"Search by name, badge...\",\"aria-label\":\"Search input\",autoComplete:\"off\"}),showClearIcon&&/*#__PURE__*/React.createElement(\"i\",{className:\"clear-icon pi pi-times\",onClick:this.resetFilter}))),/*#__PURE__*/React.createElement(\"div\",{className:\"layout-menu\",role:\"menubar\"},menuItems));}}]);return AppMenu;}(Component);","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/slotmaster-dashboard/src/AppMenu.js"],"names":["React","Component","CSSTransition","NavLink","axios","classNames","InputText","AppMenu","props","state","menu","filteredMenu","activeSubmenus","onSearchInputChange","bind","resetFilter","demos","get","headers","then","res","data","setState","event","target","value","searchVal","toLowerCase","item","copyItem","findFilteredItems","isFilterMatched","push","matched","children","childItems","childItem","copyChildItem","expanded","onFilterOnOptions","length","optionKeys","some","optionKey","indexOf","filter","meta","name","preventDefault","hasOwnProperty","searchInput","focus","getMenu","to","href","badge","content","onMenuItemClick","submenuKey","cSubmenuRef","createRef","enter","exit","isSubmenuActive","map","index","link","renderLink","menuitem","menuitemIndex","onClick","e","toggleSubmenu","renderCategorySubmenuItems","categoryItem","renderCategoryItem","menuItems","renderCategoryItems","showClearIcon","showSearchClearIcon","sidebarClassName","active","filterContentClassName","el"],"mappings":"uoDAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,aAAT,KAA8B,wBAA9B,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,OAASC,SAAT,KAA0B,kCAA1B,CAEA,UAAaC,CAAAA,OAAb,kGAEI,iBAAYC,KAAZ,CAAmB,yCACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,IAAI,CAAE,IADG,CAETC,YAAY,CAAE,EAFL,CAGTC,cAAc,CAAE,EAHP,CAAb,CAMA,MAAKC,mBAAL,CAA2B,MAAKA,mBAAL,CAAyBC,IAAzB,+BAA3B,CACA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBD,IAAjB,+BAAnB,CATe,aAUlB,CAZL,2CAcI,kBAAU,iBACN,GAAG,KAAKN,KAAL,CAAWQ,KAAd,CAAoB,CAChBZ,KAAK,CAACa,GAAN,CAAU,8BAAV,CAA0C,CAAEC,OAAO,CAAE,CAAE,gBAAiB,UAAnB,CAAX,CAA1C,EACKC,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,CAASA,IAAb,EADb,EAEKF,IAFL,CAEU,SAAAE,IAAI,QAAI,CAAA,MAAI,CAACC,QAAL,CAAc,CAAEZ,IAAI,CAAEW,IAAR,CAAcV,YAAY,CAAEU,IAA5B,CAAd,CAAJ,EAFd,EAGH,CAJD,IAIK,CACDjB,KAAK,CAACa,GAAN,CAAU,yBAAV,CAAqC,CAAEC,OAAO,CAAE,CAAE,gBAAiB,UAAnB,CAAX,CAArC,EACKC,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,CAASA,IAAb,EADb,EAEKF,IAFL,CAEU,SAAAE,IAAI,QAAI,CAAA,MAAI,CAACC,QAAL,CAAc,CAAEZ,IAAI,CAAEW,IAAR,CAAcV,YAAY,CAAEU,IAA5B,CAAd,CAAJ,EAFd,EAGH,CAEJ,CAzBL,mCA2BI,6BAAoBE,KAApB,CAA2B,CACvB,GAAI,CAAC,KAAKd,KAAL,CAAWC,IAAhB,CAAsB,CAClB,KAAKY,QAAL,CAAc,CAAEX,YAAY,CAAE,EAAhB,CAAd,EACH,CAFD,IAGK,IAAI,CAACY,KAAK,CAACC,MAAN,CAAaC,KAAlB,CAAyB,CAC1B,KAAKH,QAAL,CAAc,CAAEX,YAAY,CAAE,KAAKF,KAAL,CAAWC,IAA3B,CAAd,EACH,CAFI,IAGA,IAAI,KAAKD,KAAL,CAAWC,IAAf,CAAqB,CACtB,GAAMgB,CAAAA,SAAS,CAAGH,KAAK,CAACC,MAAN,CAAaC,KAAb,EAAsBF,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmBE,WAAnB,EAAxC,CACA,GAAIhB,CAAAA,YAAY,CAAG,EAAnB,CAFsB,yCAGL,KAAKF,KAAL,CAAWC,IAHN,YAGtB,+CAAkC,IAAzBkB,CAAAA,IAAyB,aAC9B,GAAIC,CAAAA,QAAQ,kBAAQD,IAAR,CAAZ,CACA,GAAI,KAAKE,iBAAL,CAAuBD,QAAvB,CAAiCH,SAAjC,GAA+C,KAAKK,eAAL,CAAqBF,QAArB,CAA+BH,SAA/B,CAAnD,CAA8F,CAC1Ff,YAAY,CAACqB,IAAb,CAAkBH,QAAlB,EACH,CACJ,CARqB,qDAUtB,KAAKP,QAAL,CAAc,CAAEX,YAAY,CAAZA,YAAF,CAAd,EACH,CACJ,CA9CL,iCAgDI,2BAAkBiB,IAAlB,CAAwBF,SAAxB,CAAmC,CAC/B,GAAIE,IAAJ,CAAU,CACN,GAAIK,CAAAA,OAAO,CAAG,KAAd,CACA,GAAIL,IAAI,CAACM,QAAT,CAAmB,CACf,GAAIC,CAAAA,UAAU,oBAAOP,IAAI,CAACM,QAAZ,CAAd,CACAN,IAAI,CAACM,QAAL,CAAgB,EAAhB,CAFe,0CAGOC,UAHP,aAGf,kDAAkC,IAAzBC,CAAAA,SAAyB,cAC9B,GAAIC,CAAAA,aAAa,kBAAQD,SAAR,CAAjB,CACA,GAAI,KAAKL,eAAL,CAAqBM,aAArB,CAAoCX,SAApC,CAAJ,CAAoD,CAChDO,OAAO,CAAG,IAAV,CACAL,IAAI,CAACM,QAAL,CAAcF,IAAd,CAAmBK,aAAnB,EACAT,IAAI,CAACU,QAAL,CAAgB,IAAhB,CACH,CACJ,CAVc,uDAWlB,CAED,GAAIL,OAAJ,CAAa,CACT,MAAO,KAAP,CACH,CACJ,CACJ,CApEL,+BAsEI,yBAAgBL,IAAhB,CAAsBF,SAAtB,CAAiC,CAC7B,GAAIO,CAAAA,OAAO,CAAG,KAAd,CACA,GAAI,KAAKM,iBAAL,CAAuBX,IAAvB,CAA6BF,SAA7B,CAAwC,CAAC,MAAD,CAAS,MAAT,CAAiB,OAAjB,CAAxC,CAAJ,CAAwE,CACpEO,OAAO,CAAG,IAAV,CACH,CAED,GAAI,CAACA,OAAD,EAAY,EAAEL,IAAI,CAACM,QAAL,EAAiBN,IAAI,CAACM,QAAL,CAAcM,MAAjC,CAAhB,CAA0D,CACtDP,OAAO,CAAG,KAAKH,iBAAL,CAAuBF,IAAvB,CAA6BF,SAA7B,GAA2CO,OAArD,CACH,CAED,MAAOA,CAAAA,OAAP,CACH,CAjFL,iCAmFI,2BAAkBL,IAAlB,CAAwBF,SAAxB,CAAmCe,UAAnC,CAA+C,CAC3C,GAAIb,IAAI,EAAIa,UAAZ,CAAwB,CACpB,MAAOA,CAAAA,UAAU,CAACC,IAAX,CAAgB,SAAAC,SAAS,CAAI,CAChC,GAAIlB,CAAAA,KAAK,CAAGG,IAAI,CAACe,SAAD,CAAhB,CAEA,GAAIlB,KAAJ,CAAW,CACP,GAAI,MAAOA,CAAAA,KAAP,GAAiB,QAArB,CACI,MAAOA,CAAAA,KAAK,CAACE,WAAN,GAAoBiB,OAApB,CAA4BlB,SAA5B,EAAyC,CAAC,CAAjD,CADJ,IAGI,OAAOD,CAAAA,KAAK,CAACoB,MAAN,CAAa,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACnB,WAAL,GAAmBiB,OAAnB,CAA2BlB,SAA3B,EAAwC,CAAC,CAA7C,EAAjB,EAAiEc,MAAjE,CAA0E,CAAjF,CACP,CAED,MAAO,MAAP,CACH,CAXM,CAAP,CAYH,CAED,MAAO,MAAP,CACH,CApGL,6BAsGI,uBAAcjB,KAAd,CAAqBwB,IAArB,CAA2B,CACvB,GAAInC,CAAAA,cAAc,kBAAQ,KAAKH,KAAL,CAAWG,cAAnB,CAAlB,CACAA,cAAc,CAACmC,IAAD,CAAd,CAAuBnC,cAAc,CAACmC,IAAD,CAAd,CAAuB,KAAvB,CAA+B,IAAtD,CACA,KAAKzB,QAAL,CAAc,CAAEV,cAAc,CAAdA,cAAF,CAAd,EACAW,KAAK,CAACyB,cAAN,GACH,CA3GL,+BA6GI,yBAAgBD,IAAhB,CAAsB,CAClB,GAAI,KAAKtC,KAAL,CAAWG,cAAX,CAA0BqC,cAA1B,CAAyCF,IAAzC,CAAJ,CAAoD,CAChD,MAAO,MAAKtC,KAAL,CAAWG,cAAX,CAA0BmC,IAA1B,CAAP,CACH,CAED,MAAO,MAAP,CACH,CAnHL,mCAqHI,8BAAsB,CAClB,MAAO,MAAKtC,KAAL,CAAWE,YAAX,EAA2B,KAAKF,KAAL,CAAWC,IAAtC,EAA8C,KAAKD,KAAL,CAAWE,YAAX,CAAwB6B,MAAxB,GAAmC,KAAK/B,KAAL,CAAWC,IAAX,CAAgB8B,MAAxG,CACH,CAvHL,2BAyHI,sBAAc,iBACV,KAAKlB,QAAL,CAAc,CAAEX,YAAY,CAAE,KAAKF,KAAL,CAAWC,IAA3B,CAAd,CAAiD,UAAM,CACnD,MAAI,CAACwC,WAAL,CAAiBzB,KAAjB,CAAyB,EAAzB,CACA,MAAI,CAACyB,WAAL,CAAiBC,KAAjB,GACH,CAHD,EAIH,CA9HL,iCAgII,4BAAoB,CAChB,KAAKC,OAAL,GACH,CAlIL,0BAoII,oBAAWxB,IAAX,CAAiBpB,KAAjB,CAAwB,iBACpB,GAAQuC,CAAAA,IAAR,CAAkCnB,IAAlC,CAAQmB,IAAR,CAAcM,EAAd,CAAkCzB,IAAlC,CAAcyB,EAAd,CAAkBC,IAAlB,CAAkC1B,IAAlC,CAAkB0B,IAAlB,CAAwBC,KAAxB,CAAkC3B,IAAlC,CAAwB2B,KAAxB,CACA,GAAMC,CAAAA,OAAO,cACT,wCACKT,IADL,CAEKQ,KAAK,eAAI,4BAAM,SAAS,CAAElD,UAAU,CAAC,+DAAD,uDAAwEkD,KAAxE,EAAkF,IAAlF,8BAAwF,eAAxF,CAAyGA,KAAK,GAAK,KAAnH,8BAA0H,YAA1H,CAAwIA,KAAK,GAAK,SAAlJ,eAA3B,EAA4LA,KAA5L,CAFd,CADJ,CAOA,GAAID,IAAJ,CAAU,CACN,mBAAO,yBAAG,IAAI,CAAEA,IAAT,CAAe,IAAI,CAAC,UAApB,CAA+B,MAAM,CAAC,QAAtC,CAA+C,GAAG,CAAC,qBAAnD,CAAyE,OAAO,CAAE,KAAK9C,KAAL,CAAWiD,eAA7F,EAA+GD,OAA/G,CAAP,CACH,CAFD,IAGK,IAAI,CAACH,EAAL,CAAS,CACV,mBAAO,4CAAQ,SAAS,CAAC,QAAlB,EAA+B7C,KAA/B,EAAuCgD,OAAvC,CAAP,CACH,CAED,mBAAO,oBAAC,OAAD,EAAS,EAAE,CAAEH,EAAb,CAAiB,KAAK,KAAtB,CAAuB,IAAI,CAAC,UAA5B,CAAuC,eAAe,CAAC,6CAAvD,CAAqG,OAAO,CAAE,KAAK7C,KAAL,CAAWiD,eAAzH,EAA2ID,OAA3I,CAAP,CACH,CArJL,0CAuJI,oCAA2B5B,IAA3B,CAAiC8B,UAAjC,CAA6C,iBACzC,GAAMC,CAAAA,WAAW,CAAG3D,KAAK,CAAC4D,SAAN,EAApB,CAEA,mBACI,oBAAC,aAAD,EAAe,OAAO,CAAED,WAAxB,CAAqC,UAAU,CAAC,sBAAhD,CAAuE,OAAO,CAAE,CAAEE,KAAK,CAAE,IAAT,CAAeC,IAAI,CAAE,GAArB,CAAhF,CAA4G,EAAE,CAAE,KAAKC,eAAL,CAAqBnC,IAAI,CAACmB,IAA1B,GAAmCnB,IAAI,CAACU,QAAxJ,CAAkK,aAAa,KAA/K,eACI,2BAAK,GAAG,CAAEqB,WAAV,CAAuB,SAAS,CAAC,sBAAjC,eACI,0BAAI,IAAI,CAAC,MAAT,EAEQ/B,IAAI,CAACM,QAAL,CAAc8B,GAAd,CAAkB,SAACpC,IAAD,CAAOqC,KAAP,CAAiB,CAC/B,GAAMC,CAAAA,IAAI,CAAG,MAAI,CAACC,UAAL,CAAgBvC,IAAhB,CAAb,CACA,mBACI,0BAAI,IAAI,CAAC,UAAT,CAAoB,GAAG,oBAAc8B,UAAd,aAA4BO,KAA5B,CAAvB,EACKC,IADL,CADJ,CAKH,CAPD,CAFR,CADJ,CADJ,CADJ,CAkBH,CA5KL,kCA8KI,4BAAmBE,QAAnB,CAA6BC,aAA7B,CAA4C,iBACxC,GAAID,QAAQ,CAAClC,QAAb,CAAuB,CACnB,mBACI,wCAEQkC,QAAQ,CAAClC,QAAT,CAAkB8B,GAAlB,CAAsB,SAACpC,IAAD,CAAOqC,KAAP,CAAiB,CACnC,GAAMP,CAAAA,UAAU,WAAMW,aAAN,aAAuBJ,KAAvB,CAAhB,CACA,GAAMC,CAAAA,IAAI,CAAG,MAAI,CAACC,UAAL,CAAgBvC,IAAhB,CAAsB,CAAE0C,OAAO,CAAE,iBAACC,CAAD,QAAO,CAAA,MAAI,CAACC,aAAL,CAAmBD,CAAnB,CAAsB3C,IAAI,CAACmB,IAA3B,CAAP,EAAX,CAAtB,CAAb,CAEA,mBACI,oBAAC,KAAD,CAAO,QAAP,EAAgB,GAAG,oBAAcW,UAAd,CAAnB,EACKQ,IADL,CAEKtC,IAAI,CAACM,QAAL,EAAiB,MAAI,CAACuC,0BAAL,CAAgC7C,IAAhC,CAAsC8B,UAAtC,CAFtB,CADJ,CAMH,CAVD,CAFR,CADJ,CAiBH,CAED,MAAO,KAAP,CACH,CApML,mCAsMI,8BAAsB,iBAClB,GAAI,KAAKjD,KAAL,CAAWC,IAAf,CAAqB,CACjB,mBAEI,wCAEQ,KAAKD,KAAL,CAAWE,YAAX,EAA2B,KAAKF,KAAL,CAAWE,YAAX,CAAwBqD,GAAxB,CAA4B,SAACI,QAAD,CAAWH,KAAX,CAAqB,CAExE,GAAMS,CAAAA,YAAY,CAAG,MAAI,CAACC,kBAAL,CAAwBP,QAAxB,CAAkCH,KAAlC,CAArB,CACA,mBACI,oBAAC,KAAD,CAAO,QAAP,EAAgB,GAAG,oBAAcA,KAAd,CAAnB,eACI,2BAAK,SAAS,CAAC,eAAf,EAAgCG,QAAQ,CAACrB,IAAzC,CADJ,cAEI,2BAAK,SAAS,CAAC,YAAf,EACK2B,YADL,CAFJ,CADJ,CAQH,CAX0B,CAFnC,CAFJ,CAmBH,CAED,MAAO,KAAP,CACH,CA9NL,sBAgOI,iBAAS,iBACL,GAAME,CAAAA,SAAS,CAAG,KAAKC,mBAAL,EAAlB,CACA,GAAMC,CAAAA,aAAa,CAAG,KAAKC,mBAAL,EAAtB,CACA,GAAMC,CAAAA,gBAAgB,CAAG3E,UAAU,CAAC,gBAAD,CAAmB,CAAE,SAAU,KAAKG,KAAL,CAAWyE,MAAvB,CAAnB,CAAnC,CACA,GAAMC,CAAAA,sBAAsB,CAAG7E,UAAU,CAAC,wEAAD,CAA2E,CAAE,qBAAsByE,aAAxB,CAA3E,CAAzC,CAEA,mBACI,2BAAK,SAAS,CAAEE,gBAAhB,CAAkC,IAAI,CAAC,YAAvC,eACI,2BAAK,SAAS,CAAC,uBAAf,eACI,2BAAK,SAAS,CAAEE,sBAAhB,eACI,yBAAG,SAAS,CAAC,cAAb,EADJ,cAEI,oBAAC,SAAD,EAAW,GAAG,CAAE,aAACC,EAAD,QAAQ,CAAA,MAAI,CAACjC,WAAL,CAAmBiC,EAA3B,EAAhB,CAA+C,IAAI,CAAC,MAApD,CAA2D,QAAQ,CAAE,KAAKtE,mBAA1E,CAA+F,WAAW,CAAC,0BAA3G,CAAsI,aAAW,cAAjJ,CAAgK,YAAY,CAAC,KAA7K,EAFJ,CAGKiE,aAAa,eAAI,yBAAG,SAAS,CAAC,wBAAb,CAAsC,OAAO,CAAE,KAAK/D,WAApD,EAHtB,CADJ,CADJ,cASI,2BAAK,SAAS,CAAC,aAAf,CAA6B,IAAI,CAAC,SAAlC,EACK6D,SADL,CATJ,CADJ,CAeH,CArPL,qBAA6B3E,SAA7B","sourcesContent":["import React, { Component } from 'react';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { NavLink } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport classNames from 'classnames';\r\nimport { InputText } from './components/inputtext/InputText';\r\n\r\nexport class AppMenu extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            menu: null,\r\n            filteredMenu: [],\r\n            activeSubmenus: {}\r\n        };\r\n\r\n        this.onSearchInputChange = this.onSearchInputChange.bind(this);\r\n        this.resetFilter = this.resetFilter.bind(this);\r\n    }\r\n\r\n    getMenu() {\r\n        if(this.props.demos){\r\n            axios.get('showcase/menu/demoMenus.json', { headers: { 'Cache-Control': 'no-cache' } })\r\n                .then(res => res.data.data)\r\n                .then(data => this.setState({ menu: data, filteredMenu: data }));\r\n        }else{\r\n            axios.get('showcase/menu/menu.json', { headers: { 'Cache-Control': 'no-cache' } })\r\n                .then(res => res.data.data)\r\n                .then(data => this.setState({ menu: data, filteredMenu: data }));\r\n        }\r\n\r\n    }\r\n\r\n    onSearchInputChange(event) {\r\n        if (!this.state.menu) {\r\n            this.setState({ filteredMenu: [] });\r\n        }\r\n        else if (!event.target.value) {\r\n            this.setState({ filteredMenu: this.state.menu });\r\n        }\r\n        else if (this.state.menu) {\r\n            const searchVal = event.target.value && event.target.value.toLowerCase();\r\n            let filteredMenu = [];\r\n            for (let item of this.state.menu) {\r\n                let copyItem = { ...item };\r\n                if (this.findFilteredItems(copyItem, searchVal) || this.isFilterMatched(copyItem, searchVal)) {\r\n                    filteredMenu.push(copyItem);\r\n                }\r\n            }\r\n\r\n            this.setState({ filteredMenu });\r\n        }\r\n    }\r\n\r\n    findFilteredItems(item, searchVal) {\r\n        if (item) {\r\n            let matched = false;\r\n            if (item.children) {\r\n                let childItems = [...item.children];\r\n                item.children = [];\r\n                for (let childItem of childItems) {\r\n                    let copyChildItem = { ...childItem };\r\n                    if (this.isFilterMatched(copyChildItem, searchVal)) {\r\n                        matched = true;\r\n                        item.children.push(copyChildItem);\r\n                        item.expanded = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (matched) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n\r\n    isFilterMatched(item, searchVal) {\r\n        let matched = false;\r\n        if (this.onFilterOnOptions(item, searchVal, ['name', 'meta', 'badge'])) {\r\n            matched = true;\r\n        }\r\n\r\n        if (!matched || !(item.children && item.children.length)) {\r\n            matched = this.findFilteredItems(item, searchVal) || matched;\r\n        }\r\n\r\n        return matched;\r\n    }\r\n\r\n    onFilterOnOptions(item, searchVal, optionKeys) {\r\n        if (item && optionKeys) {\r\n            return optionKeys.some(optionKey => {\r\n                let value = item[optionKey];\r\n\r\n                if (value) {\r\n                    if (typeof value === 'string')\r\n                        return value.toLowerCase().indexOf(searchVal) > -1;\r\n                    else\r\n                        return value.filter(meta => meta.toLowerCase().indexOf(searchVal) > -1).length > 0;\r\n                }\r\n\r\n                return false;\r\n            });\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    toggleSubmenu(event, name) {\r\n        let activeSubmenus = { ...this.state.activeSubmenus };\r\n        activeSubmenus[name] = activeSubmenus[name] ? false : true;\r\n        this.setState({ activeSubmenus });\r\n        event.preventDefault();\r\n    }\r\n\r\n    isSubmenuActive(name) {\r\n        if (this.state.activeSubmenus.hasOwnProperty(name)) {\r\n            return this.state.activeSubmenus[name];\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    showSearchClearIcon() {\r\n        return this.state.filteredMenu && this.state.menu && this.state.filteredMenu.length !== this.state.menu.length;\r\n    }\r\n\r\n    resetFilter() {\r\n        this.setState({ filteredMenu: this.state.menu }, () => {\r\n            this.searchInput.value = '';\r\n            this.searchInput.focus();\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getMenu();\r\n    }\r\n\r\n    renderLink(item, props) {\r\n        const { name, to, href, badge } = item;\r\n        const content = (\r\n            <>\r\n                {name}\r\n                {badge && <span className={classNames('layout-menu-badge p-tag p-tag-rounded p-ml-2 p-text-uppercase', { [`${badge}`]: true, 'p-tag-success': badge === 'new', 'p-tag-info': badge === 'updated' })}>{badge}</span>}\r\n            </>\r\n        );\r\n\r\n        if (href) {\r\n            return <a href={href} role=\"menuitem\" target=\"_blank\" rel=\"noopener noreferrer\" onClick={this.props.onMenuItemClick}>{content}</a>\r\n        }\r\n        else if (!to) {\r\n            return <button className=\"p-link\" {...props}>{content}</button>\r\n        }\r\n\r\n        return <NavLink to={to} exact role=\"menuitem\" activeClassName=\"router-link-exact-active router-link-active\" onClick={this.props.onMenuItemClick}>{content}</NavLink>;\r\n    }\r\n\r\n    renderCategorySubmenuItems(item, submenuKey) {\r\n        const cSubmenuRef = React.createRef();\r\n\r\n        return (\r\n            <CSSTransition nodeRef={cSubmenuRef} classNames=\"p-toggleable-content\" timeout={{ enter: 1000, exit: 450 }} in={this.isSubmenuActive(item.name) || item.expanded} unmountOnExit>\r\n                <div ref={cSubmenuRef} className=\"p-toggleable-content\">\r\n                    <ul role=\"menu\">\r\n                        {\r\n                            item.children.map((item, index) => {\r\n                                const link = this.renderLink(item);\r\n                                return (\r\n                                    <li role=\"menuitem\" key={`menuitem_${submenuKey}_${index}`}>\r\n                                        {link}\r\n                                    </li>\r\n                                );\r\n                            })\r\n                        }\r\n                    </ul>\r\n                </div>\r\n            </CSSTransition>\r\n        );\r\n    }\r\n\r\n    renderCategoryItem(menuitem, menuitemIndex) {\r\n        if (menuitem.children) {\r\n            return (\r\n                <>\r\n                    {\r\n                        menuitem.children.map((item, index) => {\r\n                            const submenuKey = `${menuitemIndex}_${index}`;\r\n                            const link = this.renderLink(item, { onClick: (e) => this.toggleSubmenu(e, item.name) });\r\n\r\n                            return (\r\n                                <React.Fragment key={`menuitem_${submenuKey}`}>\r\n                                    {link}\r\n                                    {item.children && this.renderCategorySubmenuItems(item, submenuKey)}\r\n                                </React.Fragment>\r\n                            )\r\n                        })\r\n                    }\r\n                </>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderCategoryItems() {\r\n        if (this.state.menu) {\r\n            return (\r\n\r\n                <>\r\n                    {\r\n                        this.state.filteredMenu && this.state.filteredMenu.map((menuitem, index) => {\r\n\r\n                            const categoryItem = this.renderCategoryItem(menuitem, index);\r\n                            return (\r\n                                <React.Fragment key={`category_${index}`}>\r\n                                    <div className=\"menu-category\">{menuitem.name}</div>\r\n                                    <div className=\"menu-items\">\r\n                                        {categoryItem}\r\n                                    </div>\r\n                                </React.Fragment>\r\n                            )\r\n                        })\r\n                    }\r\n                </>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n        const menuItems = this.renderCategoryItems();\r\n        const showClearIcon = this.showSearchClearIcon();\r\n        const sidebarClassName = classNames('layout-sidebar', { 'active': this.props.active });\r\n        const filterContentClassName = classNames('layout-sidebar-filter-content p-input-filled p-input-icon-left p-fluid', { 'p-input-icon-right': showClearIcon });\r\n\r\n        return (\r\n            <div className={sidebarClassName} role=\"navigation\">\r\n                <div className=\"layout-sidebar-filter\">\r\n                    <div className={filterContentClassName}>\r\n                        <i className=\"pi pi-search\" />\r\n                        <InputText ref={(el) => this.searchInput = el} type=\"text\" onChange={this.onSearchInputChange} placeholder=\"Search by name, badge...\" aria-label=\"Search input\" autoComplete=\"off\" />\r\n                        {showClearIcon && <i className=\"clear-icon pi pi-times\" onClick={this.resetFilter} />}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"layout-menu\" role=\"menubar\">\r\n                    {menuItems}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}