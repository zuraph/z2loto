{"ast":null,"code":"import _createForOfIteratorHelper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _objectSpread from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{classNames}from'../utils/ClassNames';import DomHandler from'../utils/DomHandler';import{Ripple}from'../ripple/Ripple';export var UITreeNode=/*#__PURE__*/function(_Component){_inherits(UITreeNode,_Component);var _super=_createSuper(UITreeNode);function UITreeNode(props){var _this;_classCallCheck(this,UITreeNode);_this=_super.call(this,props);_this.onClick=_this.onClick.bind(_assertThisInitialized(_this));_this.onRightClick=_this.onRightClick.bind(_assertThisInitialized(_this));_this.onTouchEnd=_this.onTouchEnd.bind(_assertThisInitialized(_this));_this.onTogglerClick=_this.onTogglerClick.bind(_assertThisInitialized(_this));_this.onNodeKeyDown=_this.onNodeKeyDown.bind(_assertThisInitialized(_this));_this.propagateUp=_this.propagateUp.bind(_assertThisInitialized(_this));_this.onDrop=_this.onDrop.bind(_assertThisInitialized(_this));_this.onDragOver=_this.onDragOver.bind(_assertThisInitialized(_this));_this.onDragEnter=_this.onDragEnter.bind(_assertThisInitialized(_this));_this.onDragLeave=_this.onDragLeave.bind(_assertThisInitialized(_this));_this.onDragStart=_this.onDragStart.bind(_assertThisInitialized(_this));_this.onDragEnd=_this.onDragEnd.bind(_assertThisInitialized(_this));_this.onDropPointDragOver=_this.onDropPointDragOver.bind(_assertThisInitialized(_this));_this.onDropPointDragEnter=_this.onDropPointDragEnter.bind(_assertThisInitialized(_this));_this.onDropPointDragLeave=_this.onDropPointDragLeave.bind(_assertThisInitialized(_this));return _this;}_createClass(UITreeNode,[{key:\"isLeaf\",value:function isLeaf(){return this.props.isNodeLeaf(this.props.node);}},{key:\"expand\",value:function expand(event){var expandedKeys=this.props.expandedKeys?_objectSpread({},this.props.expandedKeys):{};expandedKeys[this.props.node.key]=true;this.props.onToggle({originalEvent:event,value:expandedKeys});this.invokeToggleEvents(event,true);}},{key:\"collapse\",value:function collapse(event){var expandedKeys=_objectSpread({},this.props.expandedKeys);delete expandedKeys[this.props.node.key];this.props.onToggle({originalEvent:event,value:expandedKeys});this.invokeToggleEvents(event,false);}},{key:\"onTogglerClick\",value:function onTogglerClick(event){if(this.props.disabled){return;}if(this.isExpanded())this.collapse(event);else this.expand(event);}},{key:\"invokeToggleEvents\",value:function invokeToggleEvents(event,expanded){if(expanded){if(this.props.onExpand){this.props.onExpand({originalEvent:event,node:this.props.node});}}else{if(this.props.onCollapse){this.props.onCollapse({originalEvent:event,node:this.props.node});}}}},{key:\"isExpanded\",value:function isExpanded(){return this.props.expandedKeys?this.props.expandedKeys[this.props.node.key]!==undefined:false;}},{key:\"onNodeKeyDown\",value:function onNodeKeyDown(event){if(this.props.disabled){return;}var nodeElement=event.target.parentElement;if(!DomHandler.hasClass(nodeElement,'p-treenode')){return;}switch(event.which){//down arrow\ncase 40:var listElement=nodeElement.children[1];if(listElement){this.focusNode(listElement.children[0]);}else{var nextNodeElement=nodeElement.nextElementSibling;if(nextNodeElement){this.focusNode(nextNodeElement);}else{var nextSiblingAncestor=this.findNextSiblingOfAncestor(nodeElement);if(nextSiblingAncestor){this.focusNode(nextSiblingAncestor);}}}event.preventDefault();break;//up arrow\ncase 38:if(nodeElement.previousElementSibling){this.focusNode(this.findLastVisibleDescendant(nodeElement.previousElementSibling));}else{var parentNodeElement=this.getParentNodeElement(nodeElement);if(parentNodeElement){this.focusNode(parentNodeElement);}}event.preventDefault();break;//right arrow\ncase 39:if(!this.isExpanded()){this.expand(event);}event.preventDefault();break;//left arrow\ncase 37:if(this.isExpanded()){this.collapse(event);}event.preventDefault();break;//enter\ncase 13:this.onClick(event);event.preventDefault();break;default://no op\nbreak;}}},{key:\"findNextSiblingOfAncestor\",value:function findNextSiblingOfAncestor(nodeElement){var parentNodeElement=this.getParentNodeElement(nodeElement);if(parentNodeElement){if(parentNodeElement.nextElementSibling)return parentNodeElement.nextElementSibling;else return this.findNextSiblingOfAncestor(parentNodeElement);}else{return null;}}},{key:\"findLastVisibleDescendant\",value:function findLastVisibleDescendant(nodeElement){var childrenListElement=nodeElement.children[1];if(childrenListElement){var lastChildElement=childrenListElement.children[childrenListElement.children.length-1];return this.findLastVisibleDescendant(lastChildElement);}else{return nodeElement;}}},{key:\"getParentNodeElement\",value:function getParentNodeElement(nodeElement){var parentNodeElement=nodeElement.parentElement.parentElement;return DomHandler.hasClass(parentNodeElement,'p-treenode')?parentNodeElement:null;}},{key:\"focusNode\",value:function focusNode(element){element.children[0].focus();}},{key:\"onClick\",value:function onClick(event){if(event.target.className&&event.target.className.constructor===String&&event.target.className.indexOf('p-tree-toggler')===0||this.props.disabled){return;}if(this.props.selectionMode&&this.props.node.selectable!==false){var selectionKeys;if(this.isCheckboxSelectionMode()){var checked=this.isChecked();selectionKeys=this.props.selectionKeys?_objectSpread({},this.props.selectionKeys):{};if(checked){if(this.props.propagateSelectionDown)this.propagateDown(this.props.node,false,selectionKeys);else delete selectionKeys[this.props.node.key];if(this.props.propagateSelectionUp&&this.props.onPropagateUp){this.props.onPropagateUp({originalEvent:event,check:false,selectionKeys:selectionKeys});}if(this.props.onUnselect){this.props.onUnselect({originalEvent:event,node:this.props.node});}}else{if(this.props.propagateSelectionDown)this.propagateDown(this.props.node,true,selectionKeys);else selectionKeys[this.props.node.key]={checked:true};if(this.props.propagateSelectionUp&&this.props.onPropagateUp){this.props.onPropagateUp({originalEvent:event,check:true,selectionKeys:selectionKeys});}if(this.props.onSelect){this.props.onSelect({originalEvent:event,node:this.props.node});}}}else{var selected=this.isSelected();var metaSelection=this.nodeTouched?false:this.props.metaKeySelection;if(metaSelection){var metaKey=event.metaKey||event.ctrlKey;if(selected&&metaKey){if(this.isSingleSelectionMode()){selectionKeys=null;}else{selectionKeys=_objectSpread({},this.props.selectionKeys);delete selectionKeys[this.props.node.key];}if(this.props.onUnselect){this.props.onUnselect({originalEvent:event,node:this.props.node});}}else{if(this.isSingleSelectionMode()){selectionKeys=this.props.node.key;}else if(this.isMultipleSelectionMode()){selectionKeys=!metaKey?{}:this.props.selectionKeys?_objectSpread({},this.props.selectionKeys):{};selectionKeys[this.props.node.key]=true;}if(this.props.onSelect){this.props.onSelect({originalEvent:event,node:this.props.node});}}}else{if(this.isSingleSelectionMode()){if(selected){selectionKeys=null;if(this.props.onUnselect){this.props.onUnselect({originalEvent:event,node:this.props.node});}}else{selectionKeys=this.props.node.key;if(this.props.onSelect){this.props.onSelect({originalEvent:event,node:this.props.node});}}}else{if(selected){selectionKeys=_objectSpread({},this.props.selectionKeys);delete selectionKeys[this.props.node.key];if(this.props.onUnselect){this.props.onUnselect({originalEvent:event,node:this.props.node});}}else{selectionKeys=this.props.selectionKeys?_objectSpread({},this.props.selectionKeys):{};selectionKeys[this.props.node.key]=true;if(this.props.onSelect){this.props.onSelect({originalEvent:event,node:this.props.node});}}}}}if(this.props.onSelectionChange){this.props.onSelectionChange({originalEvent:event,value:selectionKeys});}}this.nodeTouched=false;}},{key:\"onRightClick\",value:function onRightClick(event){if(this.props.disabled){return;}DomHandler.clearSelection();if(this.props.onContextMenuSelectionChange){this.props.onContextMenuSelectionChange({originalEvent:event,value:this.props.node.key});}if(this.props.onContextMenu){this.props.onContextMenu({originalEvent:event,node:this.props.node});}}},{key:\"propagateUp\",value:function propagateUp(event){var check=event.check;var selectionKeys=event.selectionKeys;var checkedChildCount=0;var childPartialSelected=false;var _iterator=_createForOfIteratorHelper(this.props.node.children),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var child=_step.value;if(selectionKeys[child.key]&&selectionKeys[child.key].checked)checkedChildCount++;else if(selectionKeys[child.key]&&selectionKeys[child.key].partialChecked)childPartialSelected=true;}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(check&&checkedChildCount===this.props.node.children.length){selectionKeys[this.props.node.key]={checked:true,partialChecked:false};}else{if(!check){delete selectionKeys[this.props.node.key];}if(childPartialSelected||checkedChildCount>0&&checkedChildCount!==this.props.node.children.length)selectionKeys[this.props.node.key]={checked:false,partialChecked:true};else selectionKeys[this.props.node.key]={checked:false,partialChecked:false};}if(this.props.propagateSelectionUp&&this.props.onPropagateUp){this.props.onPropagateUp(event);}}},{key:\"propagateDown\",value:function propagateDown(node,check,selectionKeys){if(check)selectionKeys[node.key]={checked:true,partialChecked:false};else delete selectionKeys[node.key];if(node.children&&node.children.length){for(var i=0;i<node.children.length;i++){this.propagateDown(node.children[i],check,selectionKeys);}}}},{key:\"isSelected\",value:function isSelected(){if(this.props.selectionMode&&this.props.selectionKeys)return this.isSingleSelectionMode()?this.props.selectionKeys===this.props.node.key:this.props.selectionKeys[this.props.node.key]!==undefined;else return false;}},{key:\"isChecked\",value:function isChecked(){return this.props.selectionKeys?this.props.selectionKeys[this.props.node.key]&&this.props.selectionKeys[this.props.node.key].checked:false;}},{key:\"isPartialChecked\",value:function isPartialChecked(){return this.props.selectionKeys?this.props.selectionKeys[this.props.node.key]&&this.props.selectionKeys[this.props.node.key].partialChecked:false;}},{key:\"isSingleSelectionMode\",value:function isSingleSelectionMode(){return this.props.selectionMode&&this.props.selectionMode==='single';}},{key:\"isMultipleSelectionMode\",value:function isMultipleSelectionMode(){return this.props.selectionMode&&this.props.selectionMode==='multiple';}},{key:\"isCheckboxSelectionMode\",value:function isCheckboxSelectionMode(){return this.props.selectionMode&&this.props.selectionMode==='checkbox';}},{key:\"onTouchEnd\",value:function onTouchEnd(){this.nodeTouched=true;}},{key:\"onDropPoint\",value:function onDropPoint(event,position){event.preventDefault();if(this.props.node.droppable!==false){DomHandler.removeClass(event.target,'p-treenode-droppoint-active');if(this.props.onDropPoint){this.props.onDropPoint({originalEvent:event,path:this.props.path,index:this.props.index,position:position});}}}},{key:\"onDropPointDragOver\",value:function onDropPointDragOver(event){if(event.dataTransfer.types[1]===this.props.dragdropScope.toLocaleLowerCase()){event.dataTransfer.dropEffect='move';event.preventDefault();}}},{key:\"onDropPointDragEnter\",value:function onDropPointDragEnter(event){if(event.dataTransfer.types[1]===this.props.dragdropScope.toLocaleLowerCase()){DomHandler.addClass(event.target,'p-treenode-droppoint-active');}}},{key:\"onDropPointDragLeave\",value:function onDropPointDragLeave(event){if(event.dataTransfer.types[1]===this.props.dragdropScope.toLocaleLowerCase()){DomHandler.removeClass(event.target,'p-treenode-droppoint-active');}}},{key:\"onDrop\",value:function onDrop(event){if(this.props.dragdropScope&&this.props.node.droppable!==false){DomHandler.removeClass(this.contentElement,'p-treenode-dragover');event.preventDefault();event.stopPropagation();if(this.props.onDrop){this.props.onDrop({originalEvent:event,path:this.props.path,index:this.props.index});}}}},{key:\"onDragOver\",value:function onDragOver(event){if(event.dataTransfer.types[1]===this.props.dragdropScope.toLocaleLowerCase()&&this.props.node.droppable!==false){event.dataTransfer.dropEffect='move';event.preventDefault();event.stopPropagation();}}},{key:\"onDragEnter\",value:function onDragEnter(event){if(event.dataTransfer.types[1]===this.props.dragdropScope.toLocaleLowerCase()&&this.props.node.droppable!==false){DomHandler.addClass(this.contentElement,'p-treenode-dragover');}}},{key:\"onDragLeave\",value:function onDragLeave(event){if(event.dataTransfer.types[1]===this.props.dragdropScope.toLocaleLowerCase()&&this.props.node.droppable!==false){var rect=event.currentTarget.getBoundingClientRect();if(event.nativeEvent.x>rect.left+rect.width||event.nativeEvent.x<rect.left||event.nativeEvent.y>=Math.floor(rect.top+rect.height)||event.nativeEvent.y<rect.top){DomHandler.removeClass(this.contentElement,'p-treenode-dragover');}}}},{key:\"onDragStart\",value:function onDragStart(event){event.dataTransfer.setData(\"text\",this.props.dragdropScope);event.dataTransfer.setData(this.props.dragdropScope,this.props.dragdropScope);if(this.props.onDragStart){this.props.onDragStart({originalEvent:event,path:this.props.path,index:this.props.index});}}},{key:\"onDragEnd\",value:function onDragEnd(event){if(this.props.onDragEnd){this.props.onDragEnd({originalEvent:event});}}},{key:\"renderLabel\",value:function renderLabel(){var label=this.props.nodeTemplate?this.props.nodeTemplate(this.props.node):this.props.node.label;return/*#__PURE__*/React.createElement(\"span\",{className:\"p-treenode-label\"},label);}},{key:\"renderCheckbox\",value:function renderCheckbox(){if(this.isCheckboxSelectionMode()&&this.props.node.selectable!==false){var checked=this.isChecked();var partialChecked=this.isPartialChecked();var className=classNames('p-checkbox-box',{'p-highlight':checked,'p-indeterminate':partialChecked,'p-disabled':this.props.disabled});var icon=classNames('p-checkbox-icon p-c',{'pi pi-check':checked,'pi pi-minus':partialChecked});return/*#__PURE__*/React.createElement(\"div\",{className:\"p-checkbox p-component\"},/*#__PURE__*/React.createElement(\"div\",{className:className,role:\"checkbox\",\"aria-checked\":checked},/*#__PURE__*/React.createElement(\"span\",{className:icon})));}return null;}},{key:\"renderIcon\",value:function renderIcon(expanded){var icon=this.props.node.icon||(expanded?this.props.node.expandedIcon:this.props.node.collapsedIcon);if(icon){var className=classNames('p-treenode-icon',icon);return/*#__PURE__*/React.createElement(\"span\",{className:className});}return null;}},{key:\"renderToggler\",value:function renderToggler(expanded){var iconClassName=classNames('p-tree-toggler-icon pi pi-fw',{'pi-chevron-right':!expanded,'pi-chevron-down':expanded});return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"p-tree-toggler p-link\",tabIndex:-1,onClick:this.onTogglerClick},/*#__PURE__*/React.createElement(\"span\",{className:iconClassName}),/*#__PURE__*/React.createElement(Ripple,null));}},{key:\"renderDropPoint\",value:function renderDropPoint(position){var _this2=this;if(this.props.dragdropScope){return/*#__PURE__*/React.createElement(\"li\",{className:\"p-treenode-droppoint\",onDrop:function onDrop(event){return _this2.onDropPoint(event,position);},onDragOver:this.onDropPointDragOver,onDragEnter:this.onDropPointDragEnter,onDragLeave:this.onDropPointDragLeave});}return null;}},{key:\"renderContent\",value:function renderContent(){var _this3=this;var selected=this.isSelected();var checked=this.isChecked();var className=classNames('p-treenode-content',this.props.node.className,{'p-treenode-selectable':this.props.selectionMode&&this.props.node.selectable!==false,'p-highlight':this.isCheckboxSelectionMode()?checked:selected,'p-highlight-contextmenu':this.props.contextMenuSelectionKey&&this.props.contextMenuSelectionKey===this.props.node.key,'p-disabled':this.props.disabled});var expanded=this.isExpanded();var toggler=this.renderToggler(expanded);var checkbox=this.renderCheckbox();var icon=this.renderIcon(expanded);var label=this.renderLabel();var tabIndex=this.props.disabled?undefined:0;return/*#__PURE__*/React.createElement(\"div\",{ref:function ref(el){return _this3.contentElement=el;},className:className,style:this.props.node.style,onClick:this.onClick,onContextMenu:this.onRightClick,onTouchEnd:this.onTouchEnd,draggable:this.props.dragdropScope&&this.props.node.draggable!==false&&!this.props.disabled,onDrop:this.onDrop,onDragOver:this.onDragOver,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,tabIndex:tabIndex,onKeyDown:this.onNodeKeyDown,role:\"treeitem\",\"aria-posinset\":this.props.index+1,\"aria-expanded\":this.isExpanded(),\"aria-selected\":checked||selected},toggler,checkbox,icon,label);}},{key:\"renderChildren\",value:function renderChildren(){var _this4=this;if(this.props.node.children&&this.props.node.children.length&&this.isExpanded()){return/*#__PURE__*/React.createElement(\"ul\",{className:\"p-treenode-children\",role:\"group\"},this.props.node.children.map(function(childNode,index){return/*#__PURE__*/React.createElement(UITreeNode,{key:childNode.key||childNode.label,node:childNode,parent:_this4.props.node,index:index,last:index===_this4.props.node.children.length-1,path:_this4.props.path+'-'+index,disabled:_this4.props.disabled,selectionMode:_this4.props.selectionMode,selectionKeys:_this4.props.selectionKeys,onSelectionChange:_this4.props.onSelectionChange,metaKeySelection:_this4.props.metaKeySelection,propagateSelectionDown:_this4.props.propagateSelectionDown,propagateSelectionUp:_this4.props.propagateSelectionUp,contextMenuSelectionKey:_this4.props.contextMenuSelectionKey,onContextMenuSelectionChange:_this4.props.onContextMenuSelectionChange,onContextMenu:_this4.props.onContextMenu,onExpand:_this4.props.onExpand,onCollapse:_this4.props.onCollapse,onSelect:_this4.props.onSelect,onUnselect:_this4.props.onUnselect,expandedKeys:_this4.props.expandedKeys,onToggle:_this4.props.onToggle,onPropagateUp:_this4.propagateUp,nodeTemplate:_this4.props.nodeTemplate,isNodeLeaf:_this4.props.isNodeLeaf,dragdropScope:_this4.props.dragdropScope,onDragStart:_this4.props.onDragStart,onDragEnd:_this4.props.onDragEnd,onDrop:_this4.props.onDrop,onDropPoint:_this4.props.onDropPoint});}));}return null;}},{key:\"renderNode\",value:function renderNode(){var className=classNames('p-treenode',{'p-treenode-leaf':this.isLeaf()},this.props.node.className);var content=this.renderContent();var children=this.renderChildren();return/*#__PURE__*/React.createElement(\"li\",{className:className,style:this.props.node.style},content,children);}},{key:\"render\",value:function render(){var node=this.renderNode();if(this.props.dragdropScope&&!this.props.disabled){var beforeDropPoint=this.renderDropPoint(-1);var afterDropPoint=this.props.last?this.renderDropPoint(1):null;return/*#__PURE__*/React.createElement(React.Fragment,null,beforeDropPoint,node,afterDropPoint);}else{return node;}}}]);return UITreeNode;}(Component);UITreeNode.defaultProps={node:null,index:null,last:null,parent:null,path:null,disabled:false,selectionMode:null,selectionKeys:null,contextMenuSelectionKey:null,metaKeySelection:true,expandedKeys:null,propagateSelectionUp:true,propagateSelectionDown:true,dragdropScope:null,ariaLabel:null,ariaLabelledBy:null,nodeTemplate:null,isNodeLeaf:null,onSelect:null,onUnselect:null,onExpand:null,onCollapse:null,onToggle:null,onSelectionChange:null,onContextMenuSelectionChange:null,onPropagateUp:null,onDragStart:null,onDragEnd:null,onDrop:null,onDropPoint:null,onContextMenu:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/components/tree/UITreeNode.js"],"names":["React","Component","classNames","DomHandler","Ripple","UITreeNode","props","onClick","bind","onRightClick","onTouchEnd","onTogglerClick","onNodeKeyDown","propagateUp","onDrop","onDragOver","onDragEnter","onDragLeave","onDragStart","onDragEnd","onDropPointDragOver","onDropPointDragEnter","onDropPointDragLeave","isNodeLeaf","node","event","expandedKeys","key","onToggle","originalEvent","value","invokeToggleEvents","disabled","isExpanded","collapse","expand","expanded","onExpand","onCollapse","undefined","nodeElement","target","parentElement","hasClass","which","listElement","children","focusNode","nextNodeElement","nextElementSibling","nextSiblingAncestor","findNextSiblingOfAncestor","preventDefault","previousElementSibling","findLastVisibleDescendant","parentNodeElement","getParentNodeElement","childrenListElement","lastChildElement","length","element","focus","className","constructor","String","indexOf","selectionMode","selectable","selectionKeys","isCheckboxSelectionMode","checked","isChecked","propagateSelectionDown","propagateDown","propagateSelectionUp","onPropagateUp","check","onUnselect","onSelect","selected","isSelected","metaSelection","nodeTouched","metaKeySelection","metaKey","ctrlKey","isSingleSelectionMode","isMultipleSelectionMode","onSelectionChange","clearSelection","onContextMenuSelectionChange","onContextMenu","checkedChildCount","childPartialSelected","child","partialChecked","i","position","droppable","removeClass","onDropPoint","path","index","dataTransfer","types","dragdropScope","toLocaleLowerCase","dropEffect","addClass","contentElement","stopPropagation","rect","currentTarget","getBoundingClientRect","nativeEvent","x","left","width","y","Math","floor","top","height","setData","label","nodeTemplate","isPartialChecked","icon","expandedIcon","collapsedIcon","iconClassName","contextMenuSelectionKey","toggler","renderToggler","checkbox","renderCheckbox","renderIcon","renderLabel","tabIndex","el","style","draggable","map","childNode","isLeaf","content","renderContent","renderChildren","renderNode","beforeDropPoint","renderDropPoint","afterDropPoint","last","defaultProps","parent","ariaLabel","ariaLabelledBy"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport { Ripple } from '../ripple/Ripple';\r\n\r\nexport class UITreeNode extends Component {\r\n\r\n    static defaultProps = {\r\n        node: null,\r\n        index: null,\r\n        last: null,\r\n        parent: null,\r\n        path: null,\r\n        disabled: false,\r\n        selectionMode: null,\r\n        selectionKeys: null,\r\n        contextMenuSelectionKey: null,\r\n        metaKeySelection: true,\r\n        expandedKeys: null,\r\n        propagateSelectionUp: true,\r\n        propagateSelectionDown: true,\r\n        dragdropScope: null,\r\n        ariaLabel: null,\r\n        ariaLabelledBy: null,\r\n        nodeTemplate: null,\r\n        isNodeLeaf: null,\r\n        onSelect: null,\r\n        onUnselect: null,\r\n        onExpand: null,\r\n        onCollapse: null,\r\n        onToggle: null,\r\n        onSelectionChange: null,\r\n        onContextMenuSelectionChange: null,\r\n        onPropagateUp: null,\r\n        onDragStart: null,\r\n        onDragEnd: null,\r\n        onDrop: null,\r\n        onDropPoint: null,\r\n        onContextMenu: null\r\n    }\r\n\r\n    static propTypes = {\r\n        node: PropTypes.object,\r\n        index: PropTypes.number,\r\n        last: PropTypes.bool,\r\n        parent: PropTypes.object,\r\n        path: PropTypes.string,\r\n        disabled: PropTypes.bool,\r\n        selectionMode: PropTypes.string,\r\n        selectionKeys: PropTypes.any,\r\n        contextMenuSelectionKey: PropTypes.any,\r\n        metaKeySelection: PropTypes.bool,\r\n        expandedKeys: PropTypes.object,\r\n        propagateSelectionUp: PropTypes.bool,\r\n        propagateSelectionDown: PropTypes.bool,\r\n        dragdropScope: PropTypes.string,\r\n        ariaLabel: PropTypes.string,\r\n        ariaLabelledBy: PropTypes.string,\r\n        nodeTemplate: PropTypes.func,\r\n        isNodeLeaf: PropTypes.func,\r\n        onSelect: PropTypes.func,\r\n        onUnselect: PropTypes.func,\r\n        onExpand: PropTypes.func,\r\n        onCollapse: PropTypes.func,\r\n        onToggle: PropTypes.func,\r\n        onSelectionChange: PropTypes.func,\r\n        onContextMenuSelectionChange: PropTypes.func,\r\n        onPropagateUp: PropTypes.func,\r\n        onDragStart: PropTypes.func,\r\n        onDragEnd: PropTypes.func,\r\n        onDrop: PropTypes.func,\r\n        onDropPoint: PropTypes.func,\r\n        onContextMenu: PropTypes.func\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onClick = this.onClick.bind(this);\r\n        this.onRightClick = this.onRightClick.bind(this);\r\n        this.onTouchEnd = this.onTouchEnd.bind(this);\r\n        this.onTogglerClick = this.onTogglerClick.bind(this);\r\n        this.onNodeKeyDown = this.onNodeKeyDown.bind(this);\r\n        this.propagateUp = this.propagateUp.bind(this);\r\n\r\n        this.onDrop = this.onDrop.bind(this);\r\n        this.onDragOver = this.onDragOver.bind(this);\r\n        this.onDragEnter = this.onDragEnter.bind(this);\r\n        this.onDragLeave = this.onDragLeave.bind(this);\r\n        this.onDragStart = this.onDragStart.bind(this);\r\n        this.onDragEnd = this.onDragEnd.bind(this);\r\n        this.onDropPointDragOver = this.onDropPointDragOver.bind(this);\r\n        this.onDropPointDragEnter = this.onDropPointDragEnter.bind(this);\r\n        this.onDropPointDragLeave = this.onDropPointDragLeave.bind(this);\r\n    }\r\n\r\n    isLeaf() {\r\n        return this.props.isNodeLeaf(this.props.node);\r\n    }\r\n\r\n    expand(event) {\r\n        let expandedKeys = this.props.expandedKeys ? {...this.props.expandedKeys} : {};\r\n        expandedKeys[this.props.node.key] = true;\r\n\r\n        this.props.onToggle({\r\n            originalEvent: event,\r\n            value: expandedKeys\r\n        });\r\n\r\n        this.invokeToggleEvents(event, true);\r\n    }\r\n\r\n    collapse(event) {\r\n        let expandedKeys = {...this.props.expandedKeys};\r\n        delete expandedKeys[this.props.node.key];\r\n\r\n        this.props.onToggle({\r\n            originalEvent: event,\r\n            value: expandedKeys\r\n        });\r\n\r\n        this.invokeToggleEvents(event, false);\r\n    }\r\n\r\n    onTogglerClick(event) {\r\n        if (this.props.disabled) {\r\n            return;\r\n        }\r\n\r\n        if (this.isExpanded())\r\n            this.collapse(event);\r\n        else\r\n            this.expand(event);\r\n    }\r\n\r\n    invokeToggleEvents(event, expanded) {\r\n        if (expanded) {\r\n            if (this.props.onExpand) {\r\n                this.props.onExpand({\r\n                    originalEvent: event,\r\n                    node: this.props.node\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            if (this.props.onCollapse) {\r\n                this.props.onCollapse({\r\n                    originalEvent: event,\r\n                    node: this.props.node\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    isExpanded() {\r\n        return this.props.expandedKeys ? this.props.expandedKeys[this.props.node.key] !== undefined : false;\r\n    }\r\n\r\n    onNodeKeyDown(event) {\r\n        if (this.props.disabled) {\r\n            return;\r\n        }\r\n\r\n        const nodeElement = event.target.parentElement;\r\n\r\n        if (!DomHandler.hasClass(nodeElement, 'p-treenode')) {\r\n            return;\r\n        }\r\n\r\n        switch (event.which) {\r\n            //down arrow\r\n            case 40:\r\n                const listElement = nodeElement.children[1];\r\n                if (listElement) {\r\n                    this.focusNode(listElement.children[0]);\r\n                }\r\n                else {\r\n                    const nextNodeElement = nodeElement.nextElementSibling;\r\n                    if (nextNodeElement) {\r\n                        this.focusNode(nextNodeElement);\r\n                    }\r\n                    else {\r\n                        let nextSiblingAncestor = this.findNextSiblingOfAncestor(nodeElement);\r\n                        if (nextSiblingAncestor) {\r\n                            this.focusNode(nextSiblingAncestor);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            //up arrow\r\n            case 38:\r\n                if (nodeElement.previousElementSibling) {\r\n                    this.focusNode(this.findLastVisibleDescendant(nodeElement.previousElementSibling));\r\n                }\r\n                else {\r\n                    let parentNodeElement = this.getParentNodeElement(nodeElement);\r\n                    if (parentNodeElement) {\r\n                        this.focusNode(parentNodeElement);\r\n                    }\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            //right arrow\r\n            case 39:\r\n                if (!this.isExpanded()) {\r\n                    this.expand(event);\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            //left arrow\r\n            case 37:\r\n                if (this.isExpanded()) {\r\n                    this.collapse(event);\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            //enter\r\n            case 13:\r\n                this.onClick(event);\r\n                event.preventDefault();\r\n            break;\r\n\r\n            default:\r\n                //no op\r\n            break;\r\n        }\r\n    }\r\n\r\n    findNextSiblingOfAncestor(nodeElement) {\r\n        let parentNodeElement = this.getParentNodeElement(nodeElement);\r\n        if (parentNodeElement) {\r\n            if (parentNodeElement.nextElementSibling)\r\n                return parentNodeElement.nextElementSibling;\r\n            else\r\n                return this.findNextSiblingOfAncestor(parentNodeElement);\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    findLastVisibleDescendant(nodeElement) {\r\n        const childrenListElement = nodeElement.children[1];\r\n        if (childrenListElement) {\r\n            const lastChildElement = childrenListElement.children[childrenListElement.children.length - 1];\r\n\r\n            return this.findLastVisibleDescendant(lastChildElement);\r\n        }\r\n        else {\r\n            return nodeElement;\r\n        }\r\n    }\r\n\r\n    getParentNodeElement(nodeElement) {\r\n        const parentNodeElement = nodeElement.parentElement.parentElement;\r\n\r\n        return DomHandler.hasClass(parentNodeElement, 'p-treenode') ? parentNodeElement : null;\r\n    }\r\n\r\n    focusNode(element) {\r\n        element.children[0].focus();\r\n    }\r\n\r\n    onClick(event) {\r\n        if ((event.target.className && event.target.className.constructor === String && event.target.className.indexOf('p-tree-toggler') === 0) || this.props.disabled) {\r\n            return;\r\n        }\r\n\r\n        if (this.props.selectionMode && this.props.node.selectable !== false) {\r\n            let selectionKeys;\r\n\r\n            if (this.isCheckboxSelectionMode()) {\r\n                const checked = this.isChecked();\r\n                selectionKeys = this.props.selectionKeys ? {...this.props.selectionKeys} : {};\r\n\r\n                if (checked) {\r\n                    if (this.props.propagateSelectionDown)\r\n                        this.propagateDown(this.props.node, false, selectionKeys);\r\n                    else\r\n                        delete selectionKeys[this.props.node.key];\r\n\r\n                    if (this.props.propagateSelectionUp && this.props.onPropagateUp) {\r\n                        this.props.onPropagateUp({\r\n                            originalEvent: event,\r\n                            check: false,\r\n                            selectionKeys: selectionKeys\r\n                        });\r\n                    }\r\n\r\n                    if (this.props.onUnselect) {\r\n                        this.props.onUnselect({\r\n                            originalEvent: event,\r\n                            node: this.props.node\r\n                        });\r\n                    }\r\n                }\r\n                else {\r\n                    if (this.props.propagateSelectionDown)\r\n                        this.propagateDown(this.props.node, true, selectionKeys);\r\n                    else\r\n                        selectionKeys[this.props.node.key] = {checked: true};\r\n\r\n                        if (this.props.propagateSelectionUp && this.props.onPropagateUp) {\r\n                            this.props.onPropagateUp({\r\n                                originalEvent: event,\r\n                                check: true,\r\n                                selectionKeys: selectionKeys\r\n                            });\r\n                        }\r\n\r\n                    if (this.props.onSelect) {\r\n                        this.props.onSelect({\r\n                            originalEvent: event,\r\n                            node: this.props.node\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                const selected = this.isSelected();\r\n                const metaSelection = this.nodeTouched ? false : this.props.metaKeySelection;\r\n\r\n                if (metaSelection) {\r\n                    let metaKey = (event.metaKey||event.ctrlKey);\r\n\r\n                    if (selected && metaKey) {\r\n                        if (this.isSingleSelectionMode()) {\r\n                            selectionKeys = null;\r\n                        }\r\n                        else {\r\n                            selectionKeys = {...this.props.selectionKeys};\r\n                            delete selectionKeys[this.props.node.key];\r\n                        }\r\n\r\n                        if (this.props.onUnselect) {\r\n                            this.props.onUnselect({\r\n                                originalEvent: event,\r\n                                node: this.props.node\r\n                            });\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (this.isSingleSelectionMode()) {\r\n                            selectionKeys = this.props.node.key;\r\n                        }\r\n                        else if (this.isMultipleSelectionMode()) {\r\n                            selectionKeys = !metaKey ? {} : (this.props.selectionKeys ? {...this.props.selectionKeys} : {});\r\n                            selectionKeys[this.props.node.key] = true;\r\n                        }\r\n\r\n                        if (this.props.onSelect) {\r\n                            this.props.onSelect({\r\n                                originalEvent: event,\r\n                                node: this.props.node\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    if (this.isSingleSelectionMode()) {\r\n                        if (selected) {\r\n                            selectionKeys = null;\r\n\r\n                            if (this.props.onUnselect) {\r\n                                this.props.onUnselect({\r\n                                    originalEvent: event,\r\n                                    node: this.props.node\r\n                                });\r\n                            }\r\n                        }\r\n                        else {\r\n                            selectionKeys = this.props.node.key;\r\n\r\n                            if (this.props.onSelect) {\r\n                                this.props.onSelect({\r\n                                    originalEvent: event,\r\n                                    node: this.props.node\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (selected) {\r\n                            selectionKeys = {...this.props.selectionKeys};\r\n                            delete selectionKeys[this.props.node.key];\r\n\r\n                            if (this.props.onUnselect) {\r\n                                this.props.onUnselect({\r\n                                    originalEvent: event,\r\n                                    node: this.props.node\r\n                                });\r\n                            }\r\n                        }\r\n                        else {\r\n                            selectionKeys = this.props.selectionKeys ? {...this.props.selectionKeys} : {};\r\n                            selectionKeys[this.props.node.key] = true;\r\n\r\n                            if (this.props.onSelect) {\r\n                                this.props.onSelect({\r\n                                    originalEvent: event,\r\n                                    node: this.props.node\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.props.onSelectionChange) {\r\n                this.props.onSelectionChange({\r\n                    originalEvent: event,\r\n                    value: selectionKeys\r\n                })\r\n            }\r\n        }\r\n\r\n        this.nodeTouched = false;\r\n    }\r\n\r\n    onRightClick(event) {\r\n        if (this.props.disabled) {\r\n            return;\r\n        }\r\n\r\n        DomHandler.clearSelection();\r\n\r\n        if (this.props.onContextMenuSelectionChange) {\r\n            this.props.onContextMenuSelectionChange({\r\n                originalEvent: event,\r\n                value: this.props.node.key\r\n            })\r\n        }\r\n\r\n        if (this.props.onContextMenu) {\r\n            this.props.onContextMenu({\r\n                originalEvent: event,\r\n                node: this.props.node\r\n            });\r\n        }\r\n    }\r\n\r\n    propagateUp(event) {\r\n        let check = event.check;\r\n        let selectionKeys = event.selectionKeys;\r\n        let checkedChildCount = 0;\r\n        let childPartialSelected = false;\r\n\r\n        for(let child of this.props.node.children) {\r\n            if(selectionKeys[child.key] && selectionKeys[child.key].checked)\r\n                checkedChildCount++;\r\n            else if(selectionKeys[child.key] && selectionKeys[child.key].partialChecked)\r\n                childPartialSelected = true;\r\n        }\r\n\r\n        if(check && checkedChildCount === this.props.node.children.length) {\r\n            selectionKeys[this.props.node.key] = {checked: true, partialChecked: false};\r\n        }\r\n        else {\r\n            if (!check) {\r\n                delete selectionKeys[this.props.node.key];\r\n            }\r\n\r\n            if(childPartialSelected || (checkedChildCount > 0 && checkedChildCount !== this.props.node.children.length))\r\n                selectionKeys[this.props.node.key] = {checked: false, partialChecked: true};\r\n            else\r\n                selectionKeys[this.props.node.key] = {checked: false, partialChecked: false};\r\n        }\r\n\r\n        if (this.props.propagateSelectionUp && this.props.onPropagateUp) {\r\n            this.props.onPropagateUp(event);\r\n        }\r\n    }\r\n\r\n    propagateDown(node, check, selectionKeys) {\r\n        if(check)\r\n            selectionKeys[node.key] = {checked: true, partialChecked: false};\r\n        else\r\n            delete selectionKeys[node.key];\r\n\r\n        if (node.children && node.children.length) {\r\n            for (let i = 0; i < node.children.length; i++) {\r\n                this.propagateDown(node.children[i], check, selectionKeys);\r\n            }\r\n        }\r\n    }\r\n\r\n    isSelected() {\r\n        if (this.props.selectionMode && this.props.selectionKeys)\r\n            return this.isSingleSelectionMode() ? this.props.selectionKeys === this.props.node.key : this.props.selectionKeys[this.props.node.key] !== undefined;\r\n        else\r\n            return false;\r\n    }\r\n\r\n    isChecked() {\r\n        return this.props.selectionKeys ? this.props.selectionKeys[this.props.node.key] && this.props.selectionKeys[this.props.node.key].checked: false;\r\n    }\r\n\r\n    isPartialChecked() {\r\n        return this.props.selectionKeys ? this.props.selectionKeys[this.props.node.key] && this.props.selectionKeys[this.props.node.key].partialChecked: false;\r\n    }\r\n\r\n    isSingleSelectionMode() {\r\n        return this.props.selectionMode && this.props.selectionMode === 'single';\r\n    }\r\n\r\n    isMultipleSelectionMode() {\r\n        return this.props.selectionMode && this.props.selectionMode === 'multiple';\r\n    }\r\n\r\n    isCheckboxSelectionMode() {\r\n        return this.props.selectionMode && this.props.selectionMode === 'checkbox';\r\n    }\r\n\r\n    onTouchEnd() {\r\n        this.nodeTouched = true;\r\n    }\r\n\r\n    onDropPoint(event, position) {\r\n        event.preventDefault();\r\n\r\n        if (this.props.node.droppable !== false) {\r\n            DomHandler.removeClass(event.target, 'p-treenode-droppoint-active');\r\n\r\n            if (this.props.onDropPoint) {\r\n                this.props.onDropPoint({\r\n                    originalEvent: event,\r\n                    path: this.props.path,\r\n                    index: this.props.index,\r\n                    position: position\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    onDropPointDragOver(event) {\r\n        if (event.dataTransfer.types[1] === this.props.dragdropScope.toLocaleLowerCase()) {\r\n            event.dataTransfer.dropEffect = 'move';\r\n            event.preventDefault();\r\n        }\r\n    }\r\n\r\n    onDropPointDragEnter(event) {\r\n        if (event.dataTransfer.types[1] === this.props.dragdropScope.toLocaleLowerCase()) {\r\n            DomHandler.addClass(event.target, 'p-treenode-droppoint-active');\r\n        }\r\n    }\r\n\r\n    onDropPointDragLeave(event) {\r\n        if (event.dataTransfer.types[1] === this.props.dragdropScope.toLocaleLowerCase()) {\r\n            DomHandler.removeClass(event.target, 'p-treenode-droppoint-active');\r\n        }\r\n    }\r\n\r\n    onDrop(event) {\r\n        if (this.props.dragdropScope && this.props.node.droppable !== false) {\r\n            DomHandler.removeClass(this.contentElement, 'p-treenode-dragover');\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n\r\n            if (this.props.onDrop) {\r\n                this.props.onDrop({\r\n                    originalEvent: event,\r\n                    path: this.props.path,\r\n                    index: this.props.index\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    onDragOver(event) {\r\n        if (event.dataTransfer.types[1] === this.props.dragdropScope.toLocaleLowerCase() && this.props.node.droppable !== false) {\r\n            event.dataTransfer.dropEffect = 'move';\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n        }\r\n    }\r\n\r\n    onDragEnter(event) {\r\n        if (event.dataTransfer.types[1] === this.props.dragdropScope.toLocaleLowerCase() && this.props.node.droppable !== false) {\r\n            DomHandler.addClass(this.contentElement, 'p-treenode-dragover');\r\n        }\r\n    }\r\n\r\n    onDragLeave(event) {\r\n        if (event.dataTransfer.types[1] === this.props.dragdropScope.toLocaleLowerCase() && this.props.node.droppable !== false) {\r\n            let rect = event.currentTarget.getBoundingClientRect();\r\n            if (event.nativeEvent.x > rect.left + rect.width || event.nativeEvent.x < rect.left || event.nativeEvent.y >= Math.floor(rect.top + rect.height) || event.nativeEvent.y < rect.top) {\r\n                DomHandler.removeClass(this.contentElement, 'p-treenode-dragover');\r\n            }\r\n        }\r\n    }\r\n\r\n    onDragStart(event) {\r\n        event.dataTransfer.setData(\"text\", this.props.dragdropScope);\r\n        event.dataTransfer.setData(this.props.dragdropScope, this.props.dragdropScope);\r\n\r\n        if (this.props.onDragStart) {\r\n            this.props.onDragStart({\r\n                originalEvent: event,\r\n                path: this.props.path,\r\n                index: this.props.index\r\n            });\r\n        }\r\n    }\r\n\r\n    onDragEnd(event) {\r\n        if (this.props.onDragEnd) {\r\n            this.props.onDragEnd({\r\n                originalEvent: event\r\n            });\r\n        }\r\n    }\r\n\r\n    renderLabel() {\r\n        const label = this.props.nodeTemplate ? this.props.nodeTemplate(this.props.node) : this.props.node.label;\r\n\r\n        return (\r\n            <span className=\"p-treenode-label\">\r\n                {label}\r\n            </span>\r\n        );\r\n    }\r\n\r\n    renderCheckbox() {\r\n        if (this.isCheckboxSelectionMode() && this.props.node.selectable !== false) {\r\n            const checked = this.isChecked();\r\n            const partialChecked = this.isPartialChecked();\r\n            const className = classNames('p-checkbox-box', {'p-highlight': checked, 'p-indeterminate': partialChecked, 'p-disabled': this.props.disabled});\r\n            const icon = classNames('p-checkbox-icon p-c', {'pi pi-check': checked, 'pi pi-minus': partialChecked});\r\n\r\n            return (\r\n                <div className=\"p-checkbox p-component\">\r\n                    <div className={className} role=\"checkbox\" aria-checked={checked}>\r\n                        <span className={icon}></span>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderIcon(expanded) {\r\n        let icon = this.props.node.icon || (expanded  ? this.props.node.expandedIcon : this.props.node.collapsedIcon);\r\n\r\n        if (icon) {\r\n            let className = classNames('p-treenode-icon', icon);\r\n\r\n            return (\r\n               <span className={className}></span>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderToggler(expanded) {\r\n        const iconClassName = classNames('p-tree-toggler-icon pi pi-fw', {'pi-chevron-right': !expanded, 'pi-chevron-down': expanded});\r\n\r\n        return (\r\n            <button type=\"button\" className=\"p-tree-toggler p-link\" tabIndex={-1} onClick={this.onTogglerClick}>\r\n                <span className={iconClassName}></span>\r\n                <Ripple />\r\n            </button>\r\n        );\r\n    }\r\n\r\n    renderDropPoint(position) {\r\n        if (this.props.dragdropScope) {\r\n            return (\r\n                <li className=\"p-treenode-droppoint\" onDrop={event => this.onDropPoint(event, position)} onDragOver={this.onDropPointDragOver}\r\n                        onDragEnter={this.onDropPointDragEnter} onDragLeave={this.onDropPointDragLeave}></li>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderContent() {\r\n        const selected = this.isSelected();\r\n        const checked = this.isChecked();\r\n        const className = classNames('p-treenode-content', this.props.node.className, {\r\n                'p-treenode-selectable': (this.props.selectionMode && this.props.node.selectable !== false),\r\n                'p-highlight': this.isCheckboxSelectionMode() ? checked : selected,\r\n                'p-highlight-contextmenu': (this.props.contextMenuSelectionKey && this.props.contextMenuSelectionKey === this.props.node.key),\r\n                'p-disabled': this.props.disabled\r\n            });\r\n        const expanded = this.isExpanded();\r\n        const toggler = this.renderToggler(expanded);\r\n        const checkbox = this.renderCheckbox();\r\n        const icon = this.renderIcon(expanded);\r\n        const label = this.renderLabel();\r\n        const tabIndex = this.props.disabled ? undefined : 0;\r\n\r\n        return (\r\n            <div ref={(el) => this.contentElement = el} className={className} style={this.props.node.style} onClick={this.onClick} onContextMenu={this.onRightClick} onTouchEnd={this.onTouchEnd} draggable={this.props.dragdropScope && this.props.node.draggable !== false && !this.props.disabled}\r\n                onDrop={this.onDrop} onDragOver={this.onDragOver} onDragEnter={this.onDragEnter} onDragLeave={this.onDragLeave}\r\n                onDragStart={this.onDragStart} onDragEnd={this.onDragEnd} tabIndex={tabIndex} onKeyDown={this.onNodeKeyDown}\r\n                role=\"treeitem\" aria-posinset={this.props.index + 1} aria-expanded={this.isExpanded()} aria-selected={checked || selected}>\r\n                {toggler}\r\n                {checkbox}\r\n                {icon}\r\n                {label}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderChildren() {\r\n        if (this.props.node.children && this.props.node.children.length && this.isExpanded()) {\r\n            return (\r\n                <ul className=\"p-treenode-children\" role=\"group\">\r\n                    {\r\n                        this.props.node.children.map((childNode, index) => {\r\n                            return (\r\n                                <UITreeNode key={childNode.key||childNode.label} node={childNode} parent={this.props.node} index={index} last={index === this.props.node.children.length - 1} path={this.props.path + '-' + index} disabled={this.props.disabled}\r\n                                    selectionMode={this.props.selectionMode} selectionKeys={this.props.selectionKeys} onSelectionChange={this.props.onSelectionChange} metaKeySelection={this.props.metaKeySelection}\r\n                                    propagateSelectionDown={this.props.propagateSelectionDown} propagateSelectionUp={this.props.propagateSelectionUp}\r\n                                    contextMenuSelectionKey={this.props.contextMenuSelectionKey} onContextMenuSelectionChange={this.props.onContextMenuSelectionChange} onContextMenu={this.props.onContextMenu}\r\n                                    onExpand={this.props.onExpand} onCollapse={this.props.onCollapse} onSelect={this.props.onSelect} onUnselect={this.props.onUnselect}\r\n                                    expandedKeys={this.props.expandedKeys} onToggle={this.props.onToggle} onPropagateUp={this.propagateUp} nodeTemplate={this.props.nodeTemplate} isNodeLeaf={this.props.isNodeLeaf}\r\n                                    dragdropScope={this.props.dragdropScope} onDragStart={this.props.onDragStart} onDragEnd={this.props.onDragEnd} onDrop={this.props.onDrop} onDropPoint={this.props.onDropPoint} />\r\n                            );\r\n                        })\r\n                    }\r\n                </ul>\r\n            )\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderNode() {\r\n        const className = classNames('p-treenode', {'p-treenode-leaf': this.isLeaf()}, this.props.node.className)\r\n        const content = this.renderContent();\r\n        const children = this.renderChildren();\r\n\r\n        return (\r\n            <li className={className} style={this.props.node.style}>\r\n                {content}\r\n                {children}\r\n            </li>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const node = this.renderNode();\r\n\r\n        if (this.props.dragdropScope && !this.props.disabled) {\r\n            const beforeDropPoint = this.renderDropPoint(-1);\r\n            const afterDropPoint = this.props.last ? this.renderDropPoint(1) : null;\r\n\r\n            return (\r\n                <>\r\n                    {beforeDropPoint}\r\n                    {node}\r\n                    {afterDropPoint}\r\n                </>\r\n            );\r\n        }\r\n        else {\r\n            return node;\r\n        }\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}