{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\src\\\\components\\\\tieredmenu\\\\TieredMenuSub.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { classNames } from '../utils/ClassNames';\nimport DomHandler from '../utils/DomHandler';\nimport { Ripple } from '../ripple/Ripple';\nimport ObjectUtils from '../utils/ObjectUtils';\nexport var TieredMenuSub = /*#__PURE__*/function (_Component) {\n  _inherits(TieredMenuSub, _Component);\n\n  var _super = _createSuper(TieredMenuSub);\n\n  function TieredMenuSub(props) {\n    var _this;\n\n    _classCallCheck(this, TieredMenuSub);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      activeItem: null\n    };\n    _this.onLeafClick = _this.onLeafClick.bind(_assertThisInitialized(_this));\n    _this.onChildItemKeyDown = _this.onChildItemKeyDown.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(TieredMenuSub, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.parentActive && !this.props.parentActive) {\n        this.setState({\n          activeItem: null\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (!this.documentClickListener) {\n        this.documentClickListener = function (event) {\n          if (_this2.element && !_this2.element.contains(event.target)) {\n            _this2.setState({\n              activeItem: null\n            });\n          }\n        };\n\n        document.addEventListener('click', this.documentClickListener);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.documentClickListener) {\n        document.removeEventListener('click', this.documentClickListener);\n        this.documentClickListener = null;\n      }\n    }\n  }, {\n    key: \"onItemMouseEnter\",\n    value: function onItemMouseEnter(event, item) {\n      if (item.disabled) {\n        event.preventDefault();\n        return;\n      }\n\n      if (this.props.root) {\n        if (this.state.activeItem || this.props.popup) {\n          this.setState({\n            activeItem: item\n          });\n        }\n      } else {\n        this.setState({\n          activeItem: item\n        });\n      }\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(event, item) {\n      if (item.disabled) {\n        event.preventDefault();\n        return;\n      }\n\n      if (!item.url) {\n        event.preventDefault();\n      }\n\n      if (item.command) {\n        item.command({\n          originalEvent: event,\n          item: item\n        });\n      }\n\n      if (this.props.root) {\n        if (item.items) {\n          if (this.state.activeItem && item === this.state.activeItem) {\n            this.setState({\n              activeItem: null\n            });\n          } else {\n            this.setState({\n              activeItem: item\n            });\n          }\n        }\n      }\n\n      if (!item.items) {\n        this.onLeafClick();\n      }\n    }\n  }, {\n    key: \"onItemKeyDown\",\n    value: function onItemKeyDown(event, item) {\n      var listItem = event.currentTarget.parentElement;\n\n      switch (event.which) {\n        //down\n        case 40:\n          var nextItem = this.findNextItem(listItem);\n\n          if (nextItem) {\n            nextItem.children[0].focus();\n          }\n\n          event.preventDefault();\n          break;\n        //up\n\n        case 38:\n          var prevItem = this.findPrevItem(listItem);\n\n          if (prevItem) {\n            prevItem.children[0].focus();\n          }\n\n          event.preventDefault();\n          break;\n        //right\n\n        case 39:\n          if (item.items) {\n            this.setState({\n              activeItem: item\n            });\n            setTimeout(function () {\n              listItem.children[1].children[0].children[0].focus();\n            }, 50);\n          }\n\n          event.preventDefault();\n          break;\n\n        default:\n          break;\n      }\n\n      if (this.props.onKeyDown) {\n        this.props.onKeyDown(event, listItem);\n      }\n    }\n  }, {\n    key: \"onChildItemKeyDown\",\n    value: function onChildItemKeyDown(event, childListItem) {\n      //left\n      if (event.which === 37) {\n        this.setState({\n          activeItem: null\n        });\n        childListItem.parentElement.previousElementSibling.focus();\n      }\n    }\n  }, {\n    key: \"findNextItem\",\n    value: function findNextItem(item) {\n      var nextItem = item.nextElementSibling;\n      if (nextItem) return DomHandler.hasClass(nextItem, 'p-disabled') || !DomHandler.hasClass(nextItem, 'p-menuitem') ? this.findNextItem(nextItem) : nextItem;else return null;\n    }\n  }, {\n    key: \"findPrevItem\",\n    value: function findPrevItem(item) {\n      var prevItem = item.previousElementSibling;\n      if (prevItem) return DomHandler.hasClass(prevItem, 'p-disabled') || !DomHandler.hasClass(prevItem, 'p-menuitem') ? this.findPrevItem(prevItem) : prevItem;else return null;\n    }\n  }, {\n    key: \"onLeafClick\",\n    value: function onLeafClick() {\n      this.setState({\n        activeItem: null\n      });\n\n      if (this.props.onLeafClick) {\n        this.props.onLeafClick();\n      }\n    }\n  }, {\n    key: \"renderSeparator\",\n    value: function renderSeparator(index) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: 'separator_' + index,\n        className: \"p-menu-separator\",\n        role: \"separator\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }\n      });\n    }\n  }, {\n    key: \"renderSubmenu\",\n    value: function renderSubmenu(item) {\n      if (item.items) {\n        return /*#__PURE__*/React.createElement(TieredMenuSub, {\n          model: item.items,\n          onLeafClick: this.onLeafClick,\n          popup: this.props.popup,\n          onKeyDown: this.onChildItemKeyDown,\n          parentActive: item === this.state.activeItem,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderMenuitem\",\n    value: function renderMenuitem(item, index) {\n      var _this3 = this;\n\n      var active = this.state.activeItem === item;\n      var className = classNames('p-menuitem', {\n        'p-menuitem-active': active\n      }, item.className);\n      var linkClassName = classNames('p-menuitem-link', {\n        'p-disabled': item.disabled\n      });\n      var iconClassName = classNames('p-menuitem-icon', item.icon);\n      var submenuIconClassName = 'p-submenu-icon pi pi-angle-right';\n      var icon = item.icon && /*#__PURE__*/React.createElement(\"span\", {\n        className: iconClassName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 35\n        }\n      });\n      var label = item.label && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"p-menuitem-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 37\n        }\n      }, item.label);\n      var submenuIcon = item.items && /*#__PURE__*/React.createElement(\"span\", {\n        className: submenuIconClassName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 43\n        }\n      });\n      var submenu = this.renderSubmenu(item);\n      var content = /*#__PURE__*/React.createElement(\"a\", {\n        href: item.url || '#',\n        className: linkClassName,\n        target: item.target,\n        role: \"menuitem\",\n        \"aria-haspopup\": item.items != null,\n        onClick: function onClick(event) {\n          return _this3.onItemClick(event, item);\n        },\n        onKeyDown: function onKeyDown(event) {\n          return _this3.onItemKeyDown(event, item);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }\n      }, icon, label, submenuIcon, /*#__PURE__*/React.createElement(Ripple, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 17\n        }\n      }));\n\n      if (item.template) {\n        var defaultContentOptions = {\n          onClick: function onClick(event) {\n            return _this3.onItemClick(event, item);\n          },\n          onKeyDown: function onKeyDown(event) {\n            return _this3.onItemKeyDown(event, item);\n          },\n          className: linkClassName,\n          labelClassName: 'p-menuitem-text',\n          iconClassName: iconClassName,\n          submenuIconClassName: submenuIconClassName,\n          element: content,\n          props: this.props,\n          active: active\n        };\n        content = ObjectUtils.getJSXElement(item.template, item, defaultContentOptions);\n      }\n\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: item.label + '_' + index,\n        className: className,\n        style: item.style,\n        onMouseEnter: function onMouseEnter(event) {\n          return _this3.onItemMouseEnter(event, item);\n        },\n        role: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }\n      }, content, submenu);\n    }\n  }, {\n    key: \"renderItem\",\n    value: function renderItem(item, index) {\n      if (item.separator) return this.renderSeparator(index);else return this.renderMenuitem(item, index);\n    }\n  }, {\n    key: \"renderMenu\",\n    value: function renderMenu() {\n      var _this4 = this;\n\n      if (this.props.model) {\n        return this.props.model.map(function (item, index) {\n          return _this4.renderItem(item, index);\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var className = classNames({\n        'p-submenu-list': !this.props.root\n      });\n      var submenu = this.renderMenu();\n      return /*#__PURE__*/React.createElement(\"ul\", {\n        ref: function ref(el) {\n          return _this5.element = el;\n        },\n        className: className,\n        role: this.props.root ? 'menubar' : 'menu',\n        \"aria-orientation\": \"horizontal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }\n      }, submenu);\n    }\n  }]);\n\n  return TieredMenuSub;\n}(Component);\nTieredMenuSub.defaultProps = {\n  model: null,\n  root: false,\n  className: null,\n  popup: false,\n  onLeafClick: null,\n  onKeyDown: null,\n  parentActive: false\n};\nTieredMenuSub.propTypes = {\n  model: PropTypes.any,\n  root: PropTypes.bool,\n  className: PropTypes.string,\n  popup: PropTypes.bool,\n  onLeafClick: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  parentActive: PropTypes.bool\n};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/components/tieredmenu/TieredMenuSub.js"],"names":["React","Component","PropTypes","classNames","DomHandler","Ripple","ObjectUtils","TieredMenuSub","props","state","activeItem","onLeafClick","bind","onChildItemKeyDown","prevProps","parentActive","setState","documentClickListener","event","element","contains","target","document","addEventListener","removeEventListener","item","disabled","preventDefault","root","popup","url","command","originalEvent","items","listItem","currentTarget","parentElement","which","nextItem","findNextItem","children","focus","prevItem","findPrevItem","setTimeout","onKeyDown","childListItem","previousElementSibling","nextElementSibling","hasClass","index","active","className","linkClassName","iconClassName","icon","submenuIconClassName","label","submenuIcon","submenu","renderSubmenu","content","onItemClick","onItemKeyDown","template","defaultContentOptions","onClick","labelClassName","getJSXElement","style","onItemMouseEnter","separator","renderSeparator","renderMenuitem","model","map","renderItem","renderMenu","el","defaultProps","propTypes","any","bool","string","func"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport { Ripple } from '../ripple/Ripple';\r\nimport ObjectUtils from '../utils/ObjectUtils';\r\n\r\nexport class TieredMenuSub extends Component {\r\n\r\n    static defaultProps = {\r\n        model: null,\r\n        root: false,\r\n        className: null,\r\n        popup: false,\r\n        onLeafClick: null,\r\n        onKeyDown: null,\r\n        parentActive: false\r\n    };\r\n\r\n    static propTypes = {\r\n        model: PropTypes.any,\r\n        root: PropTypes.bool,\r\n        className: PropTypes.string,\r\n        popup: PropTypes.bool,\r\n        onLeafClick: PropTypes.func,\r\n        onKeyDown: PropTypes.func,\r\n        parentActive: PropTypes.bool\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeItem: null\r\n        };\r\n\r\n        this.onLeafClick = this.onLeafClick.bind(this);\r\n        this.onChildItemKeyDown = this.onChildItemKeyDown.bind(this);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.parentActive && !this.props.parentActive) {\r\n            this.setState({\r\n                activeItem: null\r\n            });\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!this.documentClickListener) {\r\n            this.documentClickListener = (event) => {\r\n                if (this.element && !this.element.contains(event.target)) {\r\n                    this.setState({activeItem: null});\r\n                }\r\n            };\r\n\r\n            document.addEventListener('click', this.documentClickListener);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.documentClickListener) {\r\n            document.removeEventListener('click', this.documentClickListener);\r\n            this.documentClickListener = null;\r\n        }\r\n    }\r\n\r\n    onItemMouseEnter(event, item) {\r\n        if (item.disabled) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        if (this.props.root) {\r\n            if (this.state.activeItem || this.props.popup) {\r\n                this.setState({\r\n                    activeItem: item\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            this.setState({\r\n                activeItem: item\r\n            });\r\n        }\r\n    }\r\n\r\n    onItemClick(event, item) {\r\n        if (item.disabled) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        if (!item.url) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        if (item.command) {\r\n            item.command({\r\n                originalEvent: event,\r\n                item: item\r\n            });\r\n        }\r\n\r\n        if (this.props.root) {\r\n            if (item.items) {\r\n                if (this.state.activeItem && item === this.state.activeItem) {\r\n                    this.setState({\r\n                        activeItem: null\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({\r\n                        activeItem: item\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!item.items) {\r\n            this.onLeafClick();\r\n        }\r\n    }\r\n\r\n    onItemKeyDown(event, item) {\r\n        let listItem = event.currentTarget.parentElement;\r\n\r\n        switch(event.which) {\r\n            //down\r\n            case 40:\r\n                let nextItem = this.findNextItem(listItem);\r\n                if (nextItem) {\r\n                    nextItem.children[0].focus();\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            //up\r\n            case 38:\r\n                let prevItem = this.findPrevItem(listItem);\r\n                if (prevItem) {\r\n                    prevItem.children[0].focus();\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            //right\r\n            case 39:\r\n                if (item.items) {\r\n                    this.setState({\r\n                        activeItem: item\r\n                    });\r\n\r\n                    setTimeout(() => {\r\n                        listItem.children[1].children[0].children[0].focus();\r\n                    }, 50);\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            default:\r\n            break;\r\n        }\r\n\r\n        if (this.props.onKeyDown) {\r\n            this.props.onKeyDown(event, listItem);\r\n        }\r\n    }\r\n\r\n    onChildItemKeyDown(event, childListItem) {\r\n        //left\r\n        if (event.which === 37) {\r\n            this.setState({activeItem: null});\r\n            childListItem.parentElement.previousElementSibling.focus();\r\n        }\r\n    }\r\n\r\n    findNextItem(item) {\r\n        let nextItem = item.nextElementSibling;\r\n\r\n        if (nextItem)\r\n            return DomHandler.hasClass(nextItem, 'p-disabled') || !DomHandler.hasClass(nextItem, 'p-menuitem') ? this.findNextItem(nextItem) : nextItem;\r\n        else\r\n            return null;\r\n    }\r\n\r\n    findPrevItem(item) {\r\n        let prevItem = item.previousElementSibling;\r\n\r\n        if (prevItem)\r\n            return DomHandler.hasClass(prevItem, 'p-disabled') || !DomHandler.hasClass(prevItem, 'p-menuitem') ? this.findPrevItem(prevItem) : prevItem;\r\n        else\r\n            return null;\r\n    }\r\n\r\n    onLeafClick() {\r\n        this.setState({\r\n            activeItem: null\r\n        });\r\n\r\n        if (this.props.onLeafClick) {\r\n            this.props.onLeafClick();\r\n        }\r\n    }\r\n\r\n    renderSeparator(index) {\r\n        return (\r\n            <li key={'separator_' + index} className=\"p-menu-separator\" role=\"separator\"></li>\r\n        );\r\n    }\r\n\r\n    renderSubmenu(item) {\r\n        if(item.items) {\r\n            return (\r\n                <TieredMenuSub model={item.items} onLeafClick={this.onLeafClick} popup={this.props.popup} onKeyDown={this.onChildItemKeyDown} parentActive={item === this.state.activeItem} />\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderMenuitem(item, index) {\r\n        const active = this.state.activeItem === item;\r\n        const className = classNames('p-menuitem', {'p-menuitem-active': active}, item.className);\r\n        const linkClassName = classNames('p-menuitem-link', {'p-disabled': item.disabled});\r\n        const iconClassName = classNames('p-menuitem-icon', item.icon);\r\n        const submenuIconClassName = 'p-submenu-icon pi pi-angle-right';\r\n        const icon = item.icon && <span className={iconClassName}></span>;\r\n        const label = item.label && <span className=\"p-menuitem-text\">{item.label}</span>;\r\n        const submenuIcon = item.items && <span className={submenuIconClassName}></span>;\r\n        const submenu = this.renderSubmenu(item);\r\n        let content = (\r\n            <a href={item.url || '#'} className={linkClassName} target={item.target} role=\"menuitem\" aria-haspopup={item.items != null}\r\n                onClick={(event) => this.onItemClick(event, item)} onKeyDown={(event) => this.onItemKeyDown(event, item)}>\r\n                {icon}\r\n                {label}\r\n                {submenuIcon}\r\n                <Ripple />\r\n            </a>\r\n        );\r\n\r\n        if (item.template) {\r\n            const defaultContentOptions = {\r\n                onClick: (event) => this.onItemClick(event, item),\r\n                onKeyDown: (event) => this.onItemKeyDown(event, item),\r\n                className: linkClassName,\r\n                labelClassName: 'p-menuitem-text',\r\n                iconClassName,\r\n                submenuIconClassName,\r\n                element: content,\r\n                props: this.props,\r\n                active\r\n            };\r\n\r\n            content = ObjectUtils.getJSXElement(item.template, item, defaultContentOptions);\r\n        }\r\n\r\n        return (\r\n            <li key={item.label + '_' + index} className={className} style={item.style} onMouseEnter={(event) => this.onItemMouseEnter(event, item)} role=\"none\">\r\n                {content}\r\n                {submenu}\r\n            </li>\r\n        );\r\n    }\r\n\r\n    renderItem(item, index) {\r\n        if (item.separator)\r\n            return this.renderSeparator(index);\r\n        else\r\n            return this.renderMenuitem(item, index);\r\n    }\r\n\r\n    renderMenu() {\r\n        if (this.props.model) {\r\n            return (\r\n                this.props.model.map((item, index) => {\r\n                    return this.renderItem(item, index);\r\n                })\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n        const className = classNames({'p-submenu-list': !this.props.root});\r\n        const submenu = this.renderMenu();\r\n\r\n        return (\r\n            <ul ref={el => this.element = el} className={className} role={this.props.root ? 'menubar' : 'menu'} aria-orientation=\"horizontal\">\r\n                {submenu}\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}