{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import DomHandler from'../utils/DomHandler';import classNames from'classnames';export var Slider=/*#__PURE__*/function(_Component){_inherits(Slider,_Component);var _super=_createSuper(Slider);function Slider(props){var _this;_classCallCheck(this,Slider);_this=_super.call(this,props);_this.onBarClick=_this.onBarClick.bind(_assertThisInitialized(_this));_this.onKeyDown=_this.onKeyDown.bind(_assertThisInitialized(_this));_this.handleIndex=0;return _this;}_createClass(Slider,[{key:\"spin\",value:function spin(event,dir){var value=(this.props.range?this.props.value[this.handleIndex]:this.props.value)||0;var step=(this.props.step||1)*dir;this.updateValue(event,value+step);event.preventDefault();}},{key:\"onDragStart\",value:function onDragStart(event,index){if(this.props.disabled){return;}this.dragging=true;this.updateDomData();this.sliderHandleClick=true;this.handleIndex=index;//event.preventDefault();\n}},{key:\"onMouseDown\",value:function onMouseDown(event,index){this.bindDragListeners();this.onDragStart(event,index);}},{key:\"onTouchStart\",value:function onTouchStart(event,index){this.bindTouchListeners();this.onDragStart(event,index);}},{key:\"onKeyDown\",value:function onKeyDown(event,index){if(this.props.disabled){return;}this.handleIndex=index;var key=event.key;if(key==='ArrowRight'||key==='ArrowUp'){this.spin(event,1);}else if(key==='ArrowLeft'||key==='ArrowDown'){this.spin(event,-1);}}},{key:\"onBarClick\",value:function onBarClick(event){if(this.props.disabled){return;}if(!this.sliderHandleClick){this.updateDomData();this.setValue(event);}this.sliderHandleClick=false;}},{key:\"onDrag\",value:function onDrag(event){if(this.dragging){this.setValue(event);event.preventDefault();}}},{key:\"onDragEnd\",value:function onDragEnd(event){if(this.dragging){this.dragging=false;if(this.props.onSlideEnd){this.props.onSlideEnd({originalEvent:event,value:this.props.value});}this.unbindDragListeners();this.unbindTouchListeners();}}},{key:\"bindDragListeners\",value:function bindDragListeners(){if(!this.dragListener){this.dragListener=this.onDrag.bind(this);document.addEventListener('mousemove',this.dragListener);}if(!this.dragEndListener){this.dragEndListener=this.onDragEnd.bind(this);document.addEventListener('mouseup',this.dragEndListener);}}},{key:\"unbindDragListeners\",value:function unbindDragListeners(){if(this.dragListener){document.removeEventListener('mousemove',this.dragListener);this.dragListener=null;}if(this.dragEndListener){document.removeEventListener('mouseup',this.dragEndListener);this.dragEndListener=null;}}},{key:\"bindTouchListeners\",value:function bindTouchListeners(){if(!this.dragListener){this.dragListener=this.onDrag.bind(this);document.addEventListener('touchmove',this.dragListener);}if(!this.dragEndListener){this.dragEndListener=this.onDragEnd.bind(this);document.addEventListener('touchend',this.dragEndListener);}}},{key:\"unbindTouchListeners\",value:function unbindTouchListeners(){if(this.dragListener){document.removeEventListener('touchmove',this.dragListener);this.dragListener=null;}if(this.dragEndListener){document.removeEventListener('touchend',this.dragEndListener);this.dragEndListener=null;}}},{key:\"updateDomData\",value:function updateDomData(){var rect=this.el.getBoundingClientRect();this.initX=rect.left+DomHandler.getWindowScrollLeft();this.initY=rect.top+DomHandler.getWindowScrollTop();this.barWidth=this.el.offsetWidth;this.barHeight=this.el.offsetHeight;}},{key:\"setValue\",value:function setValue(event){var handleValue;var pageX=event.touches?event.touches[0].pageX:event.pageX;if(this.props.orientation==='horizontal')handleValue=(pageX-this.initX)*100/this.barWidth;else handleValue=(this.initY+this.barHeight-event.pageY)*100/this.barHeight;var newValue=(this.props.max-this.props.min)*(handleValue/100)+this.props.min;if(this.props.step){var oldValue=this.props.range?this.props.value[this.handleIndex]:this.props.value;var diff=newValue-oldValue;if(diff<0)newValue=oldValue+Math.ceil(newValue/this.props.step-oldValue/this.props.step)*this.props.step;else if(diff>0)newValue=oldValue+Math.floor(newValue/this.props.step-oldValue/this.props.step)*this.props.step;}this.updateValue(event,newValue);}},{key:\"updateValue\",value:function updateValue(event,value){if(this.props.range){var newValue=value;if(this.handleIndex===0){if(newValue<this.props.min)newValue=this.props.min;else if(newValue>this.props.value[1])newValue=this.props.value[1];}else{if(newValue>this.props.max)newValue=this.props.max;else if(newValue<this.props.value[0])newValue=this.props.value[0];}var newValues=_toConsumableArray(this.props.value);newValues[this.handleIndex]=Math.floor(newValue);if(this.props.onChange){this.props.onChange({originalEvent:event,value:newValues});}}else{var _newValue=value;if(_newValue<this.props.min)_newValue=this.props.min;else if(_newValue>this.props.max)_newValue=this.props.max;if(this.props.onChange){this.props.onChange({originalEvent:event,value:Math.floor(_newValue)});}}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.unbindDragListeners();this.unbindTouchListeners();}},{key:\"renderHandle\",value:function renderHandle(leftValue,bottomValue,index){var _this2=this;var handleClassName=classNames('p-slider-handle',{'p-slider-handle-start':index===0,'p-slider-handle-end':index===1,'p-slider-handle-active':this.handleIndex===index});return/*#__PURE__*/React.createElement(\"span\",{onMouseDown:function onMouseDown(event){return _this2.onMouseDown(event,index);},onTouchStart:function onTouchStart(event){return _this2.onTouchStart(event,index);},onKeyDown:function onKeyDown(event){return _this2.onKeyDown(event,index);},tabIndex:this.props.tabIndex,className:handleClassName,style:{transition:this.dragging?'none':null,left:leftValue!==null&&leftValue+'%',bottom:bottomValue&&bottomValue+'%'},role:\"slider\",\"aria-valuemin\":this.props.min,\"aria-valuemax\":this.props.max,\"aria-valuenow\":leftValue||bottomValue,\"aria-labelledby\":this.props.ariaLabelledBy});}},{key:\"renderRangeSlider\",value:function renderRangeSlider(){var values=this.props.value||[0,0];var horizontal=this.props.orientation==='horizontal';var handleValueStart=(values[0]<this.props.min?0:values[0]-this.props.min)*100/(this.props.max-this.props.min);var handleValueEnd=(values[1]>this.props.max?100:values[1]-this.props.min)*100/(this.props.max-this.props.min);var rangeStartHandle=horizontal?this.renderHandle(handleValueStart,null,0):this.renderHandle(null,handleValueStart,0);var rangeEndHandle=horizontal?this.renderHandle(handleValueEnd,null,1):this.renderHandle(null,handleValueEnd,1);var rangeStyle=horizontal?{left:handleValueStart+'%',width:handleValueEnd-handleValueStart+'%'}:{bottom:handleValueStart+'%',height:handleValueEnd-handleValueStart+'%'};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"p-slider-range\",style:rangeStyle}),rangeStartHandle,rangeEndHandle);}},{key:\"renderSingleSlider\",value:function renderSingleSlider(){var value=this.props.value||0;var handleValue;if(value<this.props.min)handleValue=0;else if(value>this.props.max)handleValue=100;else handleValue=(value-this.props.min)*100/(this.props.max-this.props.min);var rangeStyle=this.props.orientation==='horizontal'?{width:handleValue+'%'}:{height:handleValue+'%'};var handle=this.props.orientation==='horizontal'?this.renderHandle(handleValue,null,null):this.renderHandle(null,handleValue,null);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"p-slider-range\",style:rangeStyle}),handle);}},{key:\"render\",value:function render(){var _this3=this;var className=classNames('p-slider p-component',this.props.className,{'p-disabled':this.props.disabled,'p-slider-horizontal':this.props.orientation==='horizontal','p-slider-vertical':this.props.orientation==='vertical'});var content=this.props.range?this.renderRangeSlider():this.renderSingleSlider();return/*#__PURE__*/React.createElement(\"div\",{id:this.props.id,ref:function ref(el){return _this3.el=el;},style:this.props.style,className:className,onClick:this.onBarClick},content);}}]);return Slider;}(Component);Slider.defaultProps={id:null,value:null,min:0,max:100,orientation:'horizontal',step:null,range:false,style:null,className:null,disabled:false,tabIndex:0,ariaLabelledBy:null,onChange:null,onSlideEnd:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/slotmaster-dashboard/src/components/slider/Slider.js"],"names":["React","Component","DomHandler","classNames","Slider","props","onBarClick","bind","onKeyDown","handleIndex","event","dir","value","range","step","updateValue","preventDefault","index","disabled","dragging","updateDomData","sliderHandleClick","bindDragListeners","onDragStart","bindTouchListeners","key","spin","setValue","onSlideEnd","originalEvent","unbindDragListeners","unbindTouchListeners","dragListener","onDrag","document","addEventListener","dragEndListener","onDragEnd","removeEventListener","rect","el","getBoundingClientRect","initX","left","getWindowScrollLeft","initY","top","getWindowScrollTop","barWidth","offsetWidth","barHeight","offsetHeight","handleValue","pageX","touches","orientation","pageY","newValue","max","min","oldValue","diff","Math","ceil","floor","newValues","onChange","leftValue","bottomValue","handleClassName","onMouseDown","onTouchStart","tabIndex","transition","bottom","ariaLabelledBy","values","horizontal","handleValueStart","handleValueEnd","rangeStartHandle","renderHandle","rangeEndHandle","rangeStyle","width","height","handle","className","content","renderRangeSlider","renderSingleSlider","id","style","defaultProps"],"mappings":"4kCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CAEA,UAAaC,CAAAA,MAAb,gGAoCI,gBAAYC,KAAZ,CAAmB,wCACf,uBAAMA,KAAN,EAEA,MAAKC,UAAL,CAAkB,MAAKA,UAAL,CAAgBC,IAAhB,+BAAlB,CACA,MAAKC,SAAL,CAAiB,MAAKA,SAAL,CAAeD,IAAf,+BAAjB,CAEA,MAAKE,WAAL,CAAmB,CAAnB,CANe,aAOlB,CA3CL,uCA6CI,cAAKC,KAAL,CAAYC,GAAZ,CAAiB,CACb,GAAMC,CAAAA,KAAK,CAAG,CAAC,KAAKP,KAAL,CAAWQ,KAAX,CAAmB,KAAKR,KAAL,CAAWO,KAAX,CAAiB,KAAKH,WAAtB,CAAnB,CAAwD,KAAKJ,KAAL,CAAWO,KAApE,GAA8E,CAA5F,CACA,GAAME,CAAAA,IAAI,CAAG,CAAC,KAAKT,KAAL,CAAWS,IAAX,EAAmB,CAApB,EAAyBH,GAAtC,CAEA,KAAKI,WAAL,CAAiBL,KAAjB,CAAwBE,KAAK,CAAGE,IAAhC,EACAJ,KAAK,CAACM,cAAN,GACH,CAnDL,2BAqDI,qBAAYN,KAAZ,CAAmBO,KAAnB,CAA0B,CACtB,GAAI,KAAKZ,KAAL,CAAWa,QAAf,CAAyB,CACrB,OACH,CAED,KAAKC,QAAL,CAAgB,IAAhB,CACA,KAAKC,aAAL,GACA,KAAKC,iBAAL,CAAyB,IAAzB,CACA,KAAKZ,WAAL,CAAmBQ,KAAnB,CACA;AACH,CA/DL,2BAiEI,qBAAYP,KAAZ,CAAmBO,KAAnB,CAA0B,CACtB,KAAKK,iBAAL,GACA,KAAKC,WAAL,CAAiBb,KAAjB,CAAwBO,KAAxB,EACH,CApEL,4BAsEI,sBAAaP,KAAb,CAAoBO,KAApB,CAA2B,CACvB,KAAKO,kBAAL,GACA,KAAKD,WAAL,CAAiBb,KAAjB,CAAwBO,KAAxB,EACH,CAzEL,yBA2EI,mBAAUP,KAAV,CAAiBO,KAAjB,CAAwB,CACpB,GAAI,KAAKZ,KAAL,CAAWa,QAAf,CAAyB,CACrB,OACH,CAED,KAAKT,WAAL,CAAmBQ,KAAnB,CACA,GAAMQ,CAAAA,GAAG,CAAGf,KAAK,CAACe,GAAlB,CAEA,GAAIA,GAAG,GAAK,YAAR,EAAwBA,GAAG,GAAK,SAApC,CAA+C,CAC3C,KAAKC,IAAL,CAAUhB,KAAV,CAAiB,CAAjB,EACH,CAFD,IAGK,IAAIe,GAAG,GAAK,WAAR,EAAuBA,GAAG,GAAK,WAAnC,CAAgD,CACjD,KAAKC,IAAL,CAAUhB,KAAV,CAAiB,CAAC,CAAlB,EACH,CACJ,CAzFL,0BA2FI,oBAAWA,KAAX,CAAkB,CACd,GAAI,KAAKL,KAAL,CAAWa,QAAf,CAAyB,CACrB,OACH,CAED,GAAI,CAAC,KAAKG,iBAAV,CAA6B,CACzB,KAAKD,aAAL,GACA,KAAKO,QAAL,CAAcjB,KAAd,EACH,CAED,KAAKW,iBAAL,CAAyB,KAAzB,CACH,CAtGL,sBAwGI,gBAAOX,KAAP,CAAc,CACV,GAAI,KAAKS,QAAT,CAAmB,CACf,KAAKQ,QAAL,CAAcjB,KAAd,EACAA,KAAK,CAACM,cAAN,GACH,CACJ,CA7GL,yBA+GI,mBAAUN,KAAV,CAAiB,CACb,GAAI,KAAKS,QAAT,CAAmB,CACf,KAAKA,QAAL,CAAgB,KAAhB,CAEA,GAAI,KAAKd,KAAL,CAAWuB,UAAf,CAA2B,CACvB,KAAKvB,KAAL,CAAWuB,UAAX,CAAsB,CAAEC,aAAa,CAAEnB,KAAjB,CAAwBE,KAAK,CAAE,KAAKP,KAAL,CAAWO,KAA1C,CAAtB,EACH,CAED,KAAKkB,mBAAL,GACA,KAAKC,oBAAL,GACH,CACJ,CA1HL,iCA4HI,4BAAoB,CAChB,GAAI,CAAC,KAAKC,YAAV,CAAwB,CACpB,KAAKA,YAAL,CAAoB,KAAKC,MAAL,CAAY1B,IAAZ,CAAiB,IAAjB,CAApB,CACA2B,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,CAAuC,KAAKH,YAA5C,EACH,CAED,GAAI,CAAC,KAAKI,eAAV,CAA2B,CACvB,KAAKA,eAAL,CAAuB,KAAKC,SAAL,CAAe9B,IAAf,CAAoB,IAApB,CAAvB,CACA2B,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAqC,KAAKC,eAA1C,EACH,CACJ,CAtIL,mCAwII,8BAAsB,CAClB,GAAI,KAAKJ,YAAT,CAAuB,CACnBE,QAAQ,CAACI,mBAAT,CAA6B,WAA7B,CAA0C,KAAKN,YAA/C,EACA,KAAKA,YAAL,CAAoB,IAApB,CACH,CAED,GAAI,KAAKI,eAAT,CAA0B,CACtBF,QAAQ,CAACI,mBAAT,CAA6B,SAA7B,CAAwC,KAAKF,eAA7C,EACA,KAAKA,eAAL,CAAuB,IAAvB,CACH,CACJ,CAlJL,kCAoJI,6BAAqB,CACjB,GAAI,CAAC,KAAKJ,YAAV,CAAwB,CACpB,KAAKA,YAAL,CAAoB,KAAKC,MAAL,CAAY1B,IAAZ,CAAiB,IAAjB,CAApB,CACA2B,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,CAAuC,KAAKH,YAA5C,EACH,CAED,GAAI,CAAC,KAAKI,eAAV,CAA2B,CACvB,KAAKA,eAAL,CAAuB,KAAKC,SAAL,CAAe9B,IAAf,CAAoB,IAApB,CAAvB,CACA2B,QAAQ,CAACC,gBAAT,CAA0B,UAA1B,CAAsC,KAAKC,eAA3C,EACH,CACJ,CA9JL,oCAgKI,+BAAuB,CACnB,GAAI,KAAKJ,YAAT,CAAuB,CACnBE,QAAQ,CAACI,mBAAT,CAA6B,WAA7B,CAA0C,KAAKN,YAA/C,EACA,KAAKA,YAAL,CAAoB,IAApB,CACH,CAED,GAAI,KAAKI,eAAT,CAA0B,CACtBF,QAAQ,CAACI,mBAAT,CAA6B,UAA7B,CAAyC,KAAKF,eAA9C,EACA,KAAKA,eAAL,CAAuB,IAAvB,CACH,CACJ,CA1KL,6BA4KI,wBAAgB,CACZ,GAAIG,CAAAA,IAAI,CAAG,KAAKC,EAAL,CAAQC,qBAAR,EAAX,CACA,KAAKC,KAAL,CAAaH,IAAI,CAACI,IAAL,CAAYzC,UAAU,CAAC0C,mBAAX,EAAzB,CACA,KAAKC,KAAL,CAAaN,IAAI,CAACO,GAAL,CAAW5C,UAAU,CAAC6C,kBAAX,EAAxB,CACA,KAAKC,QAAL,CAAgB,KAAKR,EAAL,CAAQS,WAAxB,CACA,KAAKC,SAAL,CAAiB,KAAKV,EAAL,CAAQW,YAAzB,CACH,CAlLL,wBAoLI,kBAASzC,KAAT,CAAgB,CACZ,GAAI0C,CAAAA,WAAJ,CACA,GAAIC,CAAAA,KAAK,CAAG3C,KAAK,CAAC4C,OAAN,CAAgB5C,KAAK,CAAC4C,OAAN,CAAc,CAAd,EAAiBD,KAAjC,CAAyC3C,KAAK,CAAC2C,KAA3D,CAEA,GAAI,KAAKhD,KAAL,CAAWkD,WAAX,GAA2B,YAA/B,CACIH,WAAW,CAAI,CAACC,KAAK,CAAG,KAAKX,KAAd,EAAuB,GAAxB,CAAgC,KAAKM,QAAnD,CADJ,IAGII,CAAAA,WAAW,CAAI,CAAE,KAAKP,KAAL,CAAa,KAAKK,SAAnB,CAAgCxC,KAAK,CAAC8C,KAAvC,EAAgD,GAAjD,CAAyD,KAAKN,SAA5E,CAEJ,GAAIO,CAAAA,QAAQ,CAAG,CAAC,KAAKpD,KAAL,CAAWqD,GAAX,CAAiB,KAAKrD,KAAL,CAAWsD,GAA7B,GAAqCP,WAAW,CAAG,GAAnD,EAA0D,KAAK/C,KAAL,CAAWsD,GAApF,CAEA,GAAI,KAAKtD,KAAL,CAAWS,IAAf,CAAqB,CACjB,GAAM8C,CAAAA,QAAQ,CAAG,KAAKvD,KAAL,CAAWQ,KAAX,CAAmB,KAAKR,KAAL,CAAWO,KAAX,CAAiB,KAAKH,WAAtB,CAAnB,CAAwD,KAAKJ,KAAL,CAAWO,KAApF,CACA,GAAMiD,CAAAA,IAAI,CAAIJ,QAAQ,CAAGG,QAAzB,CAEA,GAAIC,IAAI,CAAG,CAAX,CACIJ,QAAQ,CAAGG,QAAQ,CAAGE,IAAI,CAACC,IAAL,CAAUN,QAAQ,CAAG,KAAKpD,KAAL,CAAWS,IAAtB,CAA6B8C,QAAQ,CAAG,KAAKvD,KAAL,CAAWS,IAA7D,EAAqE,KAAKT,KAAL,CAAWS,IAAtG,CADJ,IAEK,IAAI+C,IAAI,CAAG,CAAX,CACDJ,QAAQ,CAAGG,QAAQ,CAAGE,IAAI,CAACE,KAAL,CAAWP,QAAQ,CAAG,KAAKpD,KAAL,CAAWS,IAAtB,CAA6B8C,QAAQ,CAAG,KAAKvD,KAAL,CAAWS,IAA9D,EAAsE,KAAKT,KAAL,CAAWS,IAAvG,CACP,CAED,KAAKC,WAAL,CAAiBL,KAAjB,CAAwB+C,QAAxB,EACH,CA1ML,2BA4MI,qBAAY/C,KAAZ,CAAmBE,KAAnB,CAA0B,CACtB,GAAI,KAAKP,KAAL,CAAWQ,KAAf,CAAsB,CAClB,GAAI4C,CAAAA,QAAQ,CAAG7C,KAAf,CAEA,GAAI,KAAKH,WAAL,GAAqB,CAAzB,CAA4B,CACxB,GAAIgD,QAAQ,CAAG,KAAKpD,KAAL,CAAWsD,GAA1B,CACIF,QAAQ,CAAG,KAAKpD,KAAL,CAAWsD,GAAtB,CADJ,IAEK,IAAIF,QAAQ,CAAG,KAAKpD,KAAL,CAAWO,KAAX,CAAiB,CAAjB,CAAf,CACD6C,QAAQ,CAAG,KAAKpD,KAAL,CAAWO,KAAX,CAAiB,CAAjB,CAAX,CACP,CALD,IAMK,CACD,GAAI6C,QAAQ,CAAG,KAAKpD,KAAL,CAAWqD,GAA1B,CACID,QAAQ,CAAG,KAAKpD,KAAL,CAAWqD,GAAtB,CADJ,IAEK,IAAID,QAAQ,CAAG,KAAKpD,KAAL,CAAWO,KAAX,CAAiB,CAAjB,CAAf,CACD6C,QAAQ,CAAG,KAAKpD,KAAL,CAAWO,KAAX,CAAiB,CAAjB,CAAX,CACP,CAED,GAAIqD,CAAAA,SAAS,oBAAO,KAAK5D,KAAL,CAAWO,KAAlB,CAAb,CACAqD,SAAS,CAAC,KAAKxD,WAAN,CAAT,CAA8BqD,IAAI,CAACE,KAAL,CAAWP,QAAX,CAA9B,CAEA,GAAI,KAAKpD,KAAL,CAAW6D,QAAf,CAAyB,CACrB,KAAK7D,KAAL,CAAW6D,QAAX,CAAoB,CAChBrC,aAAa,CAAEnB,KADC,CAEhBE,KAAK,CAAEqD,SAFS,CAApB,EAIH,CACJ,CAzBD,IA0BK,CACD,GAAIR,CAAAA,SAAQ,CAAG7C,KAAf,CAEA,GAAI6C,SAAQ,CAAG,KAAKpD,KAAL,CAAWsD,GAA1B,CACIF,SAAQ,CAAG,KAAKpD,KAAL,CAAWsD,GAAtB,CADJ,IAEK,IAAIF,SAAQ,CAAG,KAAKpD,KAAL,CAAWqD,GAA1B,CACDD,SAAQ,CAAG,KAAKpD,KAAL,CAAWqD,GAAtB,CAEJ,GAAI,KAAKrD,KAAL,CAAW6D,QAAf,CAAyB,CACrB,KAAK7D,KAAL,CAAW6D,QAAX,CAAoB,CAChBrC,aAAa,CAAEnB,KADC,CAEhBE,KAAK,CAAEkD,IAAI,CAACE,KAAL,CAAWP,SAAX,CAFS,CAApB,EAIH,CACJ,CACJ,CAtPL,oCAwPI,+BAAuB,CACnB,KAAK3B,mBAAL,GACA,KAAKC,oBAAL,GACH,CA3PL,4BA6PI,sBAAaoC,SAAb,CAAwBC,WAAxB,CAAqCnD,KAArC,CAA4C,iBACxC,GAAMoD,CAAAA,eAAe,CAAGlE,UAAU,CAAC,iBAAD,CAAoB,CAClD,wBAAyBc,KAAK,GAAK,CADe,CAElD,sBAAuBA,KAAK,GAAK,CAFiB,CAGlD,yBAA0B,KAAKR,WAAL,GAAqBQ,KAHG,CAApB,CAAlC,CAMA,mBACI,4BAAM,WAAW,CAAE,qBAAAP,KAAK,QAAI,CAAA,MAAI,CAAC4D,WAAL,CAAiB5D,KAAjB,CAAwBO,KAAxB,CAAJ,EAAxB,CAA4D,YAAY,CAAE,sBAAAP,KAAK,QAAI,CAAA,MAAI,CAAC6D,YAAL,CAAkB7D,KAAlB,CAAyBO,KAAzB,CAAJ,EAA/E,CAAoH,SAAS,CAAE,mBAAAP,KAAK,QAAI,CAAA,MAAI,CAACF,SAAL,CAAeE,KAAf,CAAsBO,KAAtB,CAAJ,EAApI,CAAsK,QAAQ,CAAE,KAAKZ,KAAL,CAAWmE,QAA3L,CACI,SAAS,CAAEH,eADf,CACgC,KAAK,CAAE,CAAEI,UAAU,CAAE,KAAKtD,QAAL,CAAgB,MAAhB,CAAyB,IAAvC,CAA6CwB,IAAI,CAAEwB,SAAS,GAAK,IAAd,EAAuBA,SAAS,CAAG,GAAtF,CAA4FO,MAAM,CAAEN,WAAW,EAAKA,WAAW,CAAG,GAAlI,CADvC,CAEI,IAAI,CAAC,QAFT,CAEkB,gBAAe,KAAK/D,KAAL,CAAWsD,GAF5C,CAEiD,gBAAe,KAAKtD,KAAL,CAAWqD,GAF3E,CAEgF,gBAAeS,SAAS,EAAIC,WAF5G,CAEyH,kBAAiB,KAAK/D,KAAL,CAAWsE,cAFrJ,EADJ,CAKH,CAzQL,iCA2QI,4BAAoB,CAChB,GAAIC,CAAAA,MAAM,CAAG,KAAKvE,KAAL,CAAWO,KAAX,EAAoB,CAAC,CAAD,CAAI,CAAJ,CAAjC,CACA,GAAIiE,CAAAA,UAAU,CAAI,KAAKxE,KAAL,CAAWkD,WAAX,GAA2B,YAA7C,CACA,GAAMuB,CAAAA,gBAAgB,CAAG,CAACF,MAAM,CAAC,CAAD,CAAN,CAAY,KAAKvE,KAAL,CAAWsD,GAAvB,CAA6B,CAA7B,CAAiCiB,MAAM,CAAC,CAAD,CAAN,CAAY,KAAKvE,KAAL,CAAWsD,GAAzD,EAAgE,GAAhE,EAAuE,KAAKtD,KAAL,CAAWqD,GAAX,CAAiB,KAAKrD,KAAL,CAAWsD,GAAnG,CAAzB,CACA,GAAMoB,CAAAA,cAAc,CAAG,CAACH,MAAM,CAAC,CAAD,CAAN,CAAY,KAAKvE,KAAL,CAAWqD,GAAvB,CAA6B,GAA7B,CAAmCkB,MAAM,CAAC,CAAD,CAAN,CAAY,KAAKvE,KAAL,CAAWsD,GAA3D,EAAkE,GAAlE,EAAyE,KAAKtD,KAAL,CAAWqD,GAAX,CAAiB,KAAKrD,KAAL,CAAWsD,GAArG,CAAvB,CACA,GAAMqB,CAAAA,gBAAgB,CAAGH,UAAU,CAAG,KAAKI,YAAL,CAAkBH,gBAAlB,CAAoC,IAApC,CAA0C,CAA1C,CAAH,CAAkD,KAAKG,YAAL,CAAkB,IAAlB,CAAwBH,gBAAxB,CAA0C,CAA1C,CAArF,CACA,GAAMI,CAAAA,cAAc,CAAGL,UAAU,CAAG,KAAKI,YAAL,CAAkBF,cAAlB,CAAkC,IAAlC,CAAwC,CAAxC,CAAH,CAAgD,KAAKE,YAAL,CAAkB,IAAlB,CAAwBF,cAAxB,CAAwC,CAAxC,CAAjF,CACA,GAAMI,CAAAA,UAAU,CAAGN,UAAU,CAAG,CAAElC,IAAI,CAAEmC,gBAAgB,CAAG,GAA3B,CAAgCM,KAAK,CAAGL,cAAc,CAAGD,gBAAlB,CAAsC,GAA7E,CAAH,CAAwF,CAAEJ,MAAM,CAAEI,gBAAgB,CAAG,GAA7B,CAAkCO,MAAM,CAAGN,cAAc,CAAGD,gBAAlB,CAAsC,GAAhF,CAArH,CAEA,mBACI,qDACI,4BAAM,SAAS,CAAC,gBAAhB,CAAiC,KAAK,CAAEK,UAAxC,EADJ,CAEKH,gBAFL,CAGKE,cAHL,CADJ,CAOH,CA3RL,kCA6RI,6BAAqB,CACjB,GAAItE,CAAAA,KAAK,CAAG,KAAKP,KAAL,CAAWO,KAAX,EAAoB,CAAhC,CACA,GAAIwC,CAAAA,WAAJ,CAEA,GAAIxC,KAAK,CAAG,KAAKP,KAAL,CAAWsD,GAAvB,CACIP,WAAW,CAAG,CAAd,CADJ,IAEK,IAAIxC,KAAK,CAAG,KAAKP,KAAL,CAAWqD,GAAvB,CACDN,WAAW,CAAG,GAAd,CADC,IAGDA,CAAAA,WAAW,CAAG,CAACxC,KAAK,CAAG,KAAKP,KAAL,CAAWsD,GAApB,EAA2B,GAA3B,EAAkC,KAAKtD,KAAL,CAAWqD,GAAX,CAAiB,KAAKrD,KAAL,CAAWsD,GAA9D,CAAd,CAEJ,GAAMwB,CAAAA,UAAU,CAAG,KAAK9E,KAAL,CAAWkD,WAAX,GAA2B,YAA3B,CAA0C,CAAE6B,KAAK,CAAEhC,WAAW,CAAG,GAAvB,CAA1C,CAAyE,CAAEiC,MAAM,CAAEjC,WAAW,CAAG,GAAxB,CAA5F,CACA,GAAMkC,CAAAA,MAAM,CAAG,KAAKjF,KAAL,CAAWkD,WAAX,GAA2B,YAA3B,CAA0C,KAAK0B,YAAL,CAAkB7B,WAAlB,CAA+B,IAA/B,CAAqC,IAArC,CAA1C,CAAuF,KAAK6B,YAAL,CAAkB,IAAlB,CAAwB7B,WAAxB,CAAqC,IAArC,CAAtG,CAEA,mBACI,qDACI,4BAAM,SAAS,CAAC,gBAAhB,CAAiC,KAAK,CAAE+B,UAAxC,EADJ,CAEKG,MAFL,CADJ,CAMH,CAjTL,sBAmTI,iBAAS,iBACL,GAAMC,CAAAA,SAAS,CAAGpF,UAAU,CAAC,sBAAD,CAAyB,KAAKE,KAAL,CAAWkF,SAApC,CAA+C,CACvE,aAAc,KAAKlF,KAAL,CAAWa,QAD8C,CAEvE,sBAAuB,KAAKb,KAAL,CAAWkD,WAAX,GAA2B,YAFqB,CAGvE,oBAAqB,KAAKlD,KAAL,CAAWkD,WAAX,GAA2B,UAHuB,CAA/C,CAA5B,CAMA,GAAMiC,CAAAA,OAAO,CAAG,KAAKnF,KAAL,CAAWQ,KAAX,CAAmB,KAAK4E,iBAAL,EAAnB,CAA8C,KAAKC,kBAAL,EAA9D,CAEA,mBACI,2BAAK,EAAE,CAAE,KAAKrF,KAAL,CAAWsF,EAApB,CAAwB,GAAG,CAAE,aAAAnD,EAAE,QAAI,CAAA,MAAI,CAACA,EAAL,CAAUA,EAAd,EAA/B,CAAiD,KAAK,CAAE,KAAKnC,KAAL,CAAWuF,KAAnE,CAA0E,SAAS,CAAEL,SAArF,CAAgG,OAAO,CAAE,KAAKjF,UAA9G,EACKkF,OADL,CADJ,CAKH,CAjUL,oBAA4BvF,SAA5B,EAAaG,M,CAEFyF,Y,CAAe,CAClBF,EAAE,CAAE,IADc,CAElB/E,KAAK,CAAE,IAFW,CAGlB+C,GAAG,CAAE,CAHa,CAIlBD,GAAG,CAAE,GAJa,CAKlBH,WAAW,CAAE,YALK,CAMlBzC,IAAI,CAAE,IANY,CAOlBD,KAAK,CAAE,KAPW,CAQlB+E,KAAK,CAAE,IARW,CASlBL,SAAS,CAAE,IATO,CAUlBrE,QAAQ,CAAE,KAVQ,CAWlBsD,QAAQ,CAAE,CAXQ,CAYlBG,cAAc,CAAE,IAZE,CAalBT,QAAQ,CAAE,IAbQ,CAclBtC,UAAU,CAAE,IAdM,C","sourcesContent":["import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport classNames from 'classnames'\r\n\r\nexport class Slider extends Component {\r\n\r\n    static defaultProps = {\r\n        id: null,\r\n        value: null,\r\n        min: 0,\r\n        max: 100,\r\n        orientation: 'horizontal',\r\n        step: null,\r\n        range: false,\r\n        style: null,\r\n        className: null,\r\n        disabled: false,\r\n        tabIndex: 0,\r\n        ariaLabelledBy: null,\r\n        onChange: null,\r\n        onSlideEnd: null\r\n    }\r\n\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        value: PropTypes.any,\r\n        min: PropTypes.number,\r\n        max: PropTypes.number,\r\n        orientation: PropTypes.string,\r\n        step: PropTypes.number,\r\n        range: PropTypes.bool,\r\n        style: PropTypes.object,\r\n        className: PropTypes.string,\r\n        disabled: PropTypes.bool,\r\n        tabIndex: PropTypes.number,\r\n        ariaLabelledBy: PropTypes.string,\r\n        onChange: PropTypes.func,\r\n        onSlideEnd: PropTypes.func\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onBarClick = this.onBarClick.bind(this);\r\n        this.onKeyDown = this.onKeyDown.bind(this);\r\n\r\n        this.handleIndex = 0;\r\n    }\r\n\r\n    spin(event, dir) {\r\n        const value = (this.props.range ? this.props.value[this.handleIndex] : this.props.value) || 0;\r\n        const step = (this.props.step || 1) * dir;\r\n\r\n        this.updateValue(event, value + step);\r\n        event.preventDefault();\r\n    }\r\n\r\n    onDragStart(event, index) {\r\n        if (this.props.disabled) {\r\n            return;\r\n        }\r\n\r\n        this.dragging = true;\r\n        this.updateDomData();\r\n        this.sliderHandleClick = true;\r\n        this.handleIndex = index;\r\n        //event.preventDefault();\r\n    }\r\n\r\n    onMouseDown(event, index) {\r\n        this.bindDragListeners();\r\n        this.onDragStart(event, index);\r\n    }\r\n\r\n    onTouchStart(event, index) {\r\n        this.bindTouchListeners();\r\n        this.onDragStart(event, index);\r\n    }\r\n\r\n    onKeyDown(event, index) {\r\n        if (this.props.disabled) {\r\n            return;\r\n        }\r\n\r\n        this.handleIndex = index;\r\n        const key = event.key;\r\n\r\n        if (key === 'ArrowRight' || key === 'ArrowUp') {\r\n            this.spin(event, 1);\r\n        }\r\n        else if (key === 'ArrowLeft' || key === 'ArrowDown') {\r\n            this.spin(event, -1);\r\n        }\r\n    }\r\n\r\n    onBarClick(event) {\r\n        if (this.props.disabled) {\r\n            return;\r\n        }\r\n\r\n        if (!this.sliderHandleClick) {\r\n            this.updateDomData();\r\n            this.setValue(event);\r\n        }\r\n\r\n        this.sliderHandleClick = false;\r\n    }\r\n\r\n    onDrag(event) {\r\n        if (this.dragging) {\r\n            this.setValue(event);\r\n            event.preventDefault();\r\n        }\r\n    }\r\n\r\n    onDragEnd(event) {\r\n        if (this.dragging) {\r\n            this.dragging = false;\r\n\r\n            if (this.props.onSlideEnd) {\r\n                this.props.onSlideEnd({ originalEvent: event, value: this.props.value });\r\n            }\r\n\r\n            this.unbindDragListeners();\r\n            this.unbindTouchListeners();\r\n        }\r\n    }\r\n\r\n    bindDragListeners() {\r\n        if (!this.dragListener) {\r\n            this.dragListener = this.onDrag.bind(this);\r\n            document.addEventListener('mousemove', this.dragListener);\r\n        }\r\n\r\n        if (!this.dragEndListener) {\r\n            this.dragEndListener = this.onDragEnd.bind(this);\r\n            document.addEventListener('mouseup', this.dragEndListener);\r\n        }\r\n    }\r\n\r\n    unbindDragListeners() {\r\n        if (this.dragListener) {\r\n            document.removeEventListener('mousemove', this.dragListener);\r\n            this.dragListener = null;\r\n        }\r\n\r\n        if (this.dragEndListener) {\r\n            document.removeEventListener('mouseup', this.dragEndListener)\r\n            this.dragEndListener = null;\r\n        }\r\n    }\r\n\r\n    bindTouchListeners() {\r\n        if (!this.dragListener) {\r\n            this.dragListener = this.onDrag.bind(this);\r\n            document.addEventListener('touchmove', this.dragListener);\r\n        }\r\n\r\n        if (!this.dragEndListener) {\r\n            this.dragEndListener = this.onDragEnd.bind(this);\r\n            document.addEventListener('touchend', this.dragEndListener);\r\n        }\r\n    }\r\n\r\n    unbindTouchListeners() {\r\n        if (this.dragListener) {\r\n            document.removeEventListener('touchmove', this.dragListener);\r\n            this.dragListener = null;\r\n        }\r\n\r\n        if (this.dragEndListener) {\r\n            document.removeEventListener('touchend', this.dragEndListener)\r\n            this.dragEndListener = null;\r\n        }\r\n    }\r\n\r\n    updateDomData() {\r\n        let rect = this.el.getBoundingClientRect();\r\n        this.initX = rect.left + DomHandler.getWindowScrollLeft();\r\n        this.initY = rect.top + DomHandler.getWindowScrollTop();\r\n        this.barWidth = this.el.offsetWidth;\r\n        this.barHeight = this.el.offsetHeight;\r\n    }\r\n\r\n    setValue(event) {\r\n        let handleValue;\r\n        let pageX = event.touches ? event.touches[0].pageX : event.pageX;\r\n\r\n        if (this.props.orientation === 'horizontal')\r\n            handleValue = ((pageX - this.initX) * 100) / (this.barWidth);\r\n        else\r\n            handleValue = (((this.initY + this.barHeight) - event.pageY) * 100) / (this.barHeight);\r\n\r\n        let newValue = (this.props.max - this.props.min) * (handleValue / 100) + this.props.min;\r\n\r\n        if (this.props.step) {\r\n            const oldValue = this.props.range ? this.props.value[this.handleIndex] : this.props.value;\r\n            const diff = (newValue - oldValue);\r\n\r\n            if (diff < 0)\r\n                newValue = oldValue + Math.ceil(newValue / this.props.step - oldValue / this.props.step) * this.props.step;\r\n            else if (diff > 0)\r\n                newValue = oldValue + Math.floor(newValue / this.props.step - oldValue / this.props.step) * this.props.step;\r\n        }\r\n\r\n        this.updateValue(event, newValue);\r\n    }\r\n\r\n    updateValue(event, value) {\r\n        if (this.props.range) {\r\n            let newValue = value;\r\n\r\n            if (this.handleIndex === 0) {\r\n                if (newValue < this.props.min)\r\n                    newValue = this.props.min;\r\n                else if (newValue > this.props.value[1])\r\n                    newValue = this.props.value[1];\r\n            }\r\n            else {\r\n                if (newValue > this.props.max)\r\n                    newValue = this.props.max;\r\n                else if (newValue < this.props.value[0])\r\n                    newValue = this.props.value[0];\r\n            }\r\n\r\n            let newValues = [...this.props.value];\r\n            newValues[this.handleIndex] = Math.floor(newValue);\r\n\r\n            if (this.props.onChange) {\r\n                this.props.onChange({\r\n                    originalEvent: event,\r\n                    value: newValues\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            let newValue = value;\r\n\r\n            if (newValue < this.props.min)\r\n                newValue = this.props.min;\r\n            else if (newValue > this.props.max)\r\n                newValue = this.props.max;\r\n\r\n            if (this.props.onChange) {\r\n                this.props.onChange({\r\n                    originalEvent: event,\r\n                    value: Math.floor(newValue)\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.unbindDragListeners();\r\n        this.unbindTouchListeners();\r\n    }\r\n\r\n    renderHandle(leftValue, bottomValue, index) {\r\n        const handleClassName = classNames('p-slider-handle', {\r\n            'p-slider-handle-start': index === 0,\r\n            'p-slider-handle-end': index === 1,\r\n            'p-slider-handle-active': this.handleIndex === index\r\n        });\r\n\r\n        return (\r\n            <span onMouseDown={event => this.onMouseDown(event, index)} onTouchStart={event => this.onTouchStart(event, index)} onKeyDown={event => this.onKeyDown(event, index)} tabIndex={this.props.tabIndex}\r\n                className={handleClassName} style={{ transition: this.dragging ? 'none' : null, left: leftValue !== null && (leftValue + '%'), bottom: bottomValue && (bottomValue + '%') }}\r\n                role=\"slider\" aria-valuemin={this.props.min} aria-valuemax={this.props.max} aria-valuenow={leftValue || bottomValue} aria-labelledby={this.props.ariaLabelledBy}></span>\r\n        );\r\n    }\r\n\r\n    renderRangeSlider() {\r\n        let values = this.props.value || [0, 0];\r\n        let horizontal = (this.props.orientation === 'horizontal');\r\n        const handleValueStart = (values[0] < this.props.min ? 0 : values[0] - this.props.min) * 100 / (this.props.max - this.props.min);\r\n        const handleValueEnd = (values[1] > this.props.max ? 100 : values[1] - this.props.min) * 100 / (this.props.max - this.props.min);\r\n        const rangeStartHandle = horizontal ? this.renderHandle(handleValueStart, null, 0) : this.renderHandle(null, handleValueStart, 0);\r\n        const rangeEndHandle = horizontal ? this.renderHandle(handleValueEnd, null, 1) : this.renderHandle(null, handleValueEnd, 1);\r\n        const rangeStyle = horizontal ? { left: handleValueStart + '%', width: (handleValueEnd - handleValueStart) + '%' } : { bottom: handleValueStart + '%', height: (handleValueEnd - handleValueStart) + '%' };\r\n\r\n        return (\r\n            <>\r\n                <span className=\"p-slider-range\" style={rangeStyle}></span>\r\n                {rangeStartHandle}\r\n                {rangeEndHandle}\r\n            </>\r\n        )\r\n    }\r\n\r\n    renderSingleSlider() {\r\n        let value = this.props.value || 0;\r\n        let handleValue;\r\n\r\n        if (value < this.props.min)\r\n            handleValue = 0;\r\n        else if (value > this.props.max)\r\n            handleValue = 100;\r\n        else\r\n            handleValue = (value - this.props.min) * 100 / (this.props.max - this.props.min);\r\n\r\n        const rangeStyle = this.props.orientation === 'horizontal' ? { width: handleValue + '%' } : { height: handleValue + '%' };\r\n        const handle = this.props.orientation === 'horizontal' ? this.renderHandle(handleValue, null, null) : this.renderHandle(null, handleValue, null);\r\n\r\n        return (\r\n            <>\r\n                <span className=\"p-slider-range\" style={rangeStyle}></span>\r\n                {handle}\r\n            </>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const className = classNames('p-slider p-component', this.props.className, {\r\n            'p-disabled': this.props.disabled,\r\n            'p-slider-horizontal': this.props.orientation === 'horizontal',\r\n            'p-slider-vertical': this.props.orientation === 'vertical'\r\n        });\r\n\r\n        const content = this.props.range ? this.renderRangeSlider() : this.renderSingleSlider();\r\n\r\n        return (\r\n            <div id={this.props.id} ref={el => this.el = el} style={this.props.style} className={className} onClick={this.onBarClick}>\r\n                {content}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}