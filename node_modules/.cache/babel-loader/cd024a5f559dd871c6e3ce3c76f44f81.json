{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _objectSpread from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React,{Component}from'react';import ReactDOM from'react-dom';import{classNames}from'../utils/ClassNames';import{Dialog}from'../dialog/Dialog';import{Button}from'../button/Button';import DomHandler from'../utils/DomHandler';import ObjectUtils from'../utils/ObjectUtils';import{localeOption}from'../api/Locale';export function confirmDialog(props){var appendTo=props.appendTo||document.body;var confirmDialogWrapper=document.createDocumentFragment();DomHandler.appendChild(confirmDialogWrapper,appendTo);props=_objectSpread(_objectSpread({},props),{visible:props.visible===undefined?true:props.visible});var confirmDialogEl=React.createElement(ConfirmDialog,props);ReactDOM.render(confirmDialogEl,confirmDialogWrapper);var updateConfirmDialog=function updateConfirmDialog(newProps){props=_objectSpread(_objectSpread({},props),newProps);ReactDOM.render(React.cloneElement(confirmDialogEl,props),confirmDialogWrapper);};return{_destroy:function _destroy(){ReactDOM.unmountComponentAtNode(confirmDialogWrapper);},show:function show(){updateConfirmDialog({visible:true,onHide:function onHide(){updateConfirmDialog({visible:false});// reset\n}});},hide:function hide(){updateConfirmDialog({visible:false});},update:function update(newProps){updateConfirmDialog(newProps);}};}export var ConfirmDialog=/*#__PURE__*/function(_Component){_inherits(ConfirmDialog,_Component);var _super=_createSuper(ConfirmDialog);function ConfirmDialog(props){var _this;_classCallCheck(this,ConfirmDialog);_this=_super.call(this,props);_this.state={visible:props.visible};_this.appendTo=props.appendTo||document.body;_this.reject=_this.reject.bind(_assertThisInitialized(_this));_this.accept=_this.accept.bind(_assertThisInitialized(_this));_this.hide=_this.hide.bind(_assertThisInitialized(_this));return _this;}_createClass(ConfirmDialog,[{key:\"acceptLabel\",value:function acceptLabel(){return this.props.acceptLabel||localeOption('accept');}},{key:\"rejectLabel\",value:function rejectLabel(){return this.props.rejectLabel||localeOption('reject');}},{key:\"accept\",value:function accept(){if(this.props.accept){this.props.accept();}this.hide('accept');}},{key:\"reject\",value:function reject(){if(this.props.reject){this.props.reject();}this.hide('reject');}},{key:\"show\",value:function show(){this.setState({visible:true});}},{key:\"hide\",value:function hide(result){var _this2=this;this.setState({visible:false},function(){if(_this2.props.onHide){_this2.props.onHide(result);}});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.visible!==this.props.visible){this.setState({visible:this.props.visible});}}},{key:\"renderFooter\",value:function renderFooter(){var acceptClassName=classNames('p-confirm-dialog-accept',this.props.acceptClassName);var rejectClassName=classNames('p-confirm-dialog-reject',{'p-button-text':!this.props.rejectClassName},this.props.rejectClassName);return this.props.footer?ObjectUtils.getJSXElement(this.props.footer,this.props):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{label:this.rejectLabel(),icon:this.props.rejectIcon,className:rejectClassName,onClick:this.reject}),/*#__PURE__*/React.createElement(Button,{label:this.acceptLabel(),icon:this.props.acceptIcon,className:acceptClassName,onClick:this.accept,autoFocus:true}));}},{key:\"renderElement\",value:function renderElement(){var className=classNames('p-confirm-dialog',this.props.className);var iconClassName=classNames('p-confirm-dialog-icon',this.props.icon);var dialogProps=ObjectUtils.findDiffKeys(this.props,ConfirmDialog.defaultProps);var message=ObjectUtils.getJSXElement(this.props.message,this.props);var footer=this.renderFooter();return/*#__PURE__*/React.createElement(Dialog,Object.assign({visible:this.state.visible},dialogProps,{className:className,footer:footer,onHide:this.hide}),/*#__PURE__*/React.createElement(\"i\",{className:iconClassName}),/*#__PURE__*/React.createElement(\"span\",{className:\"p-confirm-dialog-message\"},message));}},{key:\"render\",value:function render(){var element=this.renderElement();return ReactDOM.createPortal(element,this.appendTo);}}]);return ConfirmDialog;}(Component);ConfirmDialog.defaultProps={visible:false,message:null,rejectLabel:null,acceptLabel:null,icon:null,rejectIcon:null,acceptIcon:null,rejectClassName:null,acceptClassName:null,className:null,appendTo:null,footer:null,onHide:null,accept:null,reject:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/components/confirmdialog/ConfirmDialog.js"],"names":["React","Component","ReactDOM","classNames","Dialog","Button","DomHandler","ObjectUtils","localeOption","confirmDialog","props","appendTo","document","body","confirmDialogWrapper","createDocumentFragment","appendChild","visible","undefined","confirmDialogEl","createElement","ConfirmDialog","render","updateConfirmDialog","newProps","cloneElement","_destroy","unmountComponentAtNode","show","onHide","hide","update","state","reject","bind","accept","acceptLabel","rejectLabel","setState","result","prevProps","acceptClassName","rejectClassName","footer","getJSXElement","rejectIcon","acceptIcon","className","iconClassName","icon","dialogProps","findDiffKeys","defaultProps","message","renderFooter","element","renderElement","createPortal"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport { Dialog } from '../dialog/Dialog';\r\nimport { Button } from '../button/Button';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport ObjectUtils from '../utils/ObjectUtils';\r\nimport { localeOption } from '../api/Locale';\r\n\r\nexport function confirmDialog(props) {\r\n    let appendTo = props.appendTo || document.body;\r\n\r\n    let confirmDialogWrapper = document.createDocumentFragment();\r\n    DomHandler.appendChild(confirmDialogWrapper, appendTo);\r\n\r\n    props = {...props, ...{visible: props.visible === undefined ? true : props.visible}};\r\n\r\n    let confirmDialogEl = React.createElement(ConfirmDialog, props);\r\n    ReactDOM.render(confirmDialogEl, confirmDialogWrapper);\r\n\r\n    let updateConfirmDialog = (newProps) => {\r\n        props = { ...props, ...newProps };\r\n        ReactDOM.render(React.cloneElement(confirmDialogEl, props), confirmDialogWrapper);\r\n    };\r\n\r\n    return {\r\n        _destroy: () => {\r\n            ReactDOM.unmountComponentAtNode(confirmDialogWrapper);\r\n        },\r\n        show: () => {\r\n            updateConfirmDialog({ visible: true, onHide: () => {\r\n                updateConfirmDialog({ visible: false }); // reset\r\n            }});\r\n        },\r\n        hide: () => {\r\n            updateConfirmDialog({ visible: false });\r\n        },\r\n        update: (newProps) => {\r\n            updateConfirmDialog(newProps);\r\n        }\r\n    }\r\n}\r\n\r\nexport class ConfirmDialog extends Component {\r\n\r\n    static defaultProps = {\r\n        visible: false,\r\n        message: null,\r\n        rejectLabel: null,\r\n        acceptLabel: null,\r\n        icon: null,\r\n        rejectIcon: null,\r\n        acceptIcon: null,\r\n        rejectClassName: null,\r\n        acceptClassName: null,\r\n        className: null,\r\n        appendTo: null,\r\n        footer: null,\r\n        onHide: null,\r\n        accept: null,\r\n        reject: null\r\n    }\r\n\r\n    static propTypes = {\r\n        visible: PropTypes.bool,\r\n        message: PropTypes.any,\r\n        rejectLabel: PropTypes.string,\r\n        acceptLabel: PropTypes.string,\r\n        icon: PropTypes.string,\r\n        rejectIcon: PropTypes.string,\r\n        acceptIcon: PropTypes.string,\r\n        rejectClassName: PropTypes.string,\r\n        acceptClassName: PropTypes.string,\r\n        appendTo: PropTypes.any,\r\n        className: PropTypes.string,\r\n        footer: PropTypes.any,\r\n        onHide: PropTypes.func,\r\n        accept: PropTypes.func,\r\n        reject: PropTypes.func\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            visible: props.visible\r\n        };\r\n\r\n        this.appendTo = props.appendTo || document.body;\r\n\r\n        this.reject = this.reject.bind(this);\r\n        this.accept = this.accept.bind(this);\r\n        this.hide = this.hide.bind(this);\r\n    }\r\n\r\n    acceptLabel() {\r\n        return this.props.acceptLabel || localeOption('accept');\r\n    }\r\n\r\n    rejectLabel() {\r\n        return this.props.rejectLabel || localeOption('reject');\r\n    }\r\n\r\n    accept() {\r\n        if (this.props.accept) {\r\n            this.props.accept();\r\n        }\r\n\r\n        this.hide('accept');\r\n    }\r\n\r\n    reject() {\r\n        if (this.props.reject) {\r\n            this.props.reject();\r\n        }\r\n\r\n        this.hide('reject');\r\n    }\r\n\r\n    show() {\r\n        this.setState({ visible: true });\r\n    }\r\n\r\n    hide(result) {\r\n        this.setState({ visible: false }, () => {\r\n            if (this.props.onHide) {\r\n                this.props.onHide(result);\r\n            }\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.visible !== this.props.visible) {\r\n            this.setState({ visible: this.props.visible });\r\n        }\r\n    }\r\n\r\n    renderFooter() {\r\n        const acceptClassName = classNames('p-confirm-dialog-accept', this.props.acceptClassName);\r\n        const rejectClassName = classNames('p-confirm-dialog-reject', {\r\n            'p-button-text': !this.props.rejectClassName\r\n        }, this.props.rejectClassName);\r\n\r\n        return this.props.footer ? ObjectUtils.getJSXElement(this.props.footer, this.props) : (\r\n            <>\r\n                <Button label={this.rejectLabel()} icon={this.props.rejectIcon} className={rejectClassName} onClick={this.reject} />\r\n                <Button label={this.acceptLabel()} icon={this.props.acceptIcon} className={acceptClassName} onClick={this.accept} autoFocus />\r\n            </>\r\n        )\r\n    }\r\n\r\n    renderElement() {\r\n        const className = classNames('p-confirm-dialog', this.props.className);\r\n        const iconClassName = classNames('p-confirm-dialog-icon', this.props.icon);\r\n\r\n        const dialogProps = ObjectUtils.findDiffKeys(this.props, ConfirmDialog.defaultProps);\r\n        const message = ObjectUtils.getJSXElement(this.props.message, this.props);\r\n        const footer = this.renderFooter();\r\n\r\n        return (\r\n            <Dialog visible={this.state.visible} {...dialogProps} className={className} footer={footer} onHide={this.hide}>\r\n                <i className={iconClassName} />\r\n                <span className=\"p-confirm-dialog-message\">{message}</span>\r\n            </Dialog>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const element = this.renderElement();\r\n\r\n        return ReactDOM.createPortal(element, this.appendTo);\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}