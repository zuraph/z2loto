{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";export var DeferredContent=/*#__PURE__*/function(_Component){_inherits(DeferredContent,_Component);var _super=_createSuper(DeferredContent);function DeferredContent(){var _this;_classCallCheck(this,DeferredContent);_this=_super.call(this);_this.state={loaded:false};return _this;}_createClass(DeferredContent,[{key:\"componentDidMount\",value:function componentDidMount(){if(!this.state.loaded){if(this.shouldLoad())this.load();else this.bindScrollListener();}}},{key:\"bindScrollListener\",value:function bindScrollListener(){var _this2=this;this.documentScrollListener=function(){if(_this2.shouldLoad()){_this2.load();_this2.unbindScrollListener();}};window.addEventListener('scroll',this.documentScrollListener);}},{key:\"unbindScrollListener\",value:function unbindScrollListener(){if(this.documentScrollListener){window.removeEventListener('scroll',this.documentScrollListener);this.documentScrollListener=null;}}},{key:\"shouldLoad\",value:function shouldLoad(){if(this.state.loaded){return false;}else{var rect=this.container.getBoundingClientRect();var docElement=document.documentElement;var winHeight=docElement.clientHeight;return winHeight>=rect.top;}}},{key:\"load\",value:function load(event){this.setState({loaded:true});if(this.props.onLoad){this.props.onLoad(event);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.unbindScrollListener();}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{ref:function ref(el){return _this3.container=el;}},this.state.loaded?this.props.children:null);}}]);return DeferredContent;}(Component);DeferredContent.defaultProps={onload:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/slotmaster-dashboard/src/components/deferredcontent/DeferredContent.js"],"names":["React","Component","DeferredContent","state","loaded","shouldLoad","load","bindScrollListener","documentScrollListener","unbindScrollListener","window","addEventListener","removeEventListener","rect","container","getBoundingClientRect","docElement","document","documentElement","winHeight","clientHeight","top","event","setState","props","onLoad","el","children","defaultProps","onload"],"mappings":"wsBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CAGA,UAAaC,CAAAA,eAAb,kHAUI,0BAAc,iDACV,wBACA,MAAKC,KAAL,CAAa,CACTC,MAAM,CAAE,KADC,CAAb,CAFU,aAKb,CAfL,6DAiBI,4BAAoB,CAChB,GAAI,CAAC,KAAKD,KAAL,CAAWC,MAAhB,CAAwB,CACpB,GAAI,KAAKC,UAAL,EAAJ,CACI,KAAKC,IAAL,GADJ,IAGI,MAAKC,kBAAL,GACP,CACJ,CAxBL,kCA0BI,6BAAqB,iBACjB,KAAKC,sBAAL,CAA8B,UAAM,CAChC,GAAI,MAAI,CAACH,UAAL,EAAJ,CAAuB,CACnB,MAAI,CAACC,IAAL,GACA,MAAI,CAACG,oBAAL,GACH,CACJ,CALD,CAOAC,MAAM,CAACC,gBAAP,CAAwB,QAAxB,CAAkC,KAAKH,sBAAvC,EACH,CAnCL,oCAqCI,+BAAuB,CACnB,GAAI,KAAKA,sBAAT,CAAiC,CAC7BE,MAAM,CAACE,mBAAP,CAA2B,QAA3B,CAAqC,KAAKJ,sBAA1C,EACA,KAAKA,sBAAL,CAA8B,IAA9B,CACH,CACJ,CA1CL,0BA4CI,qBAAa,CACT,GAAI,KAAKL,KAAL,CAAWC,MAAf,CAAuB,CACnB,MAAO,MAAP,CACH,CAFD,IAGK,CACD,GAAIS,CAAAA,IAAI,CAAG,KAAKC,SAAL,CAAeC,qBAAf,EAAX,CACA,GAAIC,CAAAA,UAAU,CAAGC,QAAQ,CAACC,eAA1B,CACA,GAAIC,CAAAA,SAAS,CAAGH,UAAU,CAACI,YAA3B,CAEA,MAAQD,CAAAA,SAAS,EAAIN,IAAI,CAACQ,GAA1B,CACH,CACJ,CAvDL,oBAyDI,cAAKC,KAAL,CAAY,CACR,KAAKC,QAAL,CAAc,CAACnB,MAAM,CAAC,IAAR,CAAd,EAEA,GAAI,KAAKoB,KAAL,CAAWC,MAAf,CAAuB,CACnB,KAAKD,KAAL,CAAWC,MAAX,CAAkBH,KAAlB,EACH,CACJ,CA/DL,oCAiEI,+BAAuB,CACnB,KAAKb,oBAAL,GACH,CAnEL,sBAqEI,iBAAS,iBACL,mBACI,2BAAK,GAAG,CAAE,aAACiB,EAAD,QAAQ,CAAA,MAAI,CAACZ,SAAL,CAAiBY,EAAzB,EAAV,EACK,KAAKvB,KAAL,CAAWC,MAAX,CAAoB,KAAKoB,KAAL,CAAWG,QAA/B,CAA0C,IAD/C,CADJ,CAKH,CA3EL,6BAAqC1B,SAArC,EAAaC,e,CAEF0B,Y,CAAe,CAClBC,MAAM,CAAE,IADU,C","sourcesContent":["import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport class DeferredContent extends Component {\r\n\r\n    static defaultProps = {\r\n        onload: null\r\n    }\r\n\r\n    static propTypes = {\r\n        onLoad: PropTypes.func\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            loaded: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!this.state.loaded) {\r\n            if (this.shouldLoad())\r\n                this.load();\r\n            else\r\n                this.bindScrollListener();\r\n        }\r\n    }\r\n\r\n    bindScrollListener() {\r\n        this.documentScrollListener = () => {\r\n            if (this.shouldLoad()) {\r\n                this.load();\r\n                this.unbindScrollListener();\r\n            }\r\n        };\r\n\r\n        window.addEventListener('scroll', this.documentScrollListener);\r\n    }\r\n\r\n    unbindScrollListener() {\r\n        if (this.documentScrollListener) {\r\n            window.removeEventListener('scroll', this.documentScrollListener);\r\n            this.documentScrollListener = null;\r\n        }\r\n    }\r\n\r\n    shouldLoad() {\r\n        if (this.state.loaded) {\r\n            return false;\r\n        }\r\n        else {\r\n            let rect = this.container.getBoundingClientRect();\r\n            let docElement = document.documentElement;\r\n            let winHeight = docElement.clientHeight;\r\n    \r\n            return (winHeight >= rect.top);\r\n        }\r\n    }\r\n\r\n    load(event) {\r\n        this.setState({loaded:true});\r\n        \r\n        if (this.props.onLoad) {\r\n            this.props.onLoad(event);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.unbindScrollListener();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={(el) => this.container = el}>\r\n                {this.state.loaded ? this.props.children : null}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}