{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import DomHandler from'../utils/DomHandler';import ObjectUtils from'../utils/ObjectUtils';import FilterUtils from'../utils/FilterUtils';import{classNames}from'../utils/ClassNames';import{DropdownPanel}from'./DropdownPanel';import{DropdownItem}from'./DropdownItem';import{tip}from'../tooltip/Tooltip';import UniqueComponentId from'../utils/UniqueComponentId';import ConnectedOverlayScrollHandler from'../utils/ConnectedOverlayScrollHandler';import OverlayEventBus from'../overlayeventbus/OverlayEventBus';export var Dropdown=/*#__PURE__*/function(_Component){_inherits(Dropdown,_Component);var _super=_createSuper(Dropdown);function Dropdown(props){var _this;_classCallCheck(this,Dropdown);_this=_super.call(this,props);_this.state={filter:'',focused:false,overlayVisible:false};_this.onClick=_this.onClick.bind(_assertThisInitialized(_this));_this.onInputFocus=_this.onInputFocus.bind(_assertThisInitialized(_this));_this.onInputBlur=_this.onInputBlur.bind(_assertThisInitialized(_this));_this.onInputKeyDown=_this.onInputKeyDown.bind(_assertThisInitialized(_this));_this.onEditableInputClick=_this.onEditableInputClick.bind(_assertThisInitialized(_this));_this.onEditableInputChange=_this.onEditableInputChange.bind(_assertThisInitialized(_this));_this.onEditableInputFocus=_this.onEditableInputFocus.bind(_assertThisInitialized(_this));_this.onOptionClick=_this.onOptionClick.bind(_assertThisInitialized(_this));_this.onFilterInputChange=_this.onFilterInputChange.bind(_assertThisInitialized(_this));_this.onFilterInputKeyDown=_this.onFilterInputKeyDown.bind(_assertThisInitialized(_this));_this.onPanelClick=_this.onPanelClick.bind(_assertThisInitialized(_this));_this.onOverlayEnter=_this.onOverlayEnter.bind(_assertThisInitialized(_this));_this.onOverlayEntered=_this.onOverlayEntered.bind(_assertThisInitialized(_this));_this.onOverlayExit=_this.onOverlayExit.bind(_assertThisInitialized(_this));_this.onOverlayExited=_this.onOverlayExited.bind(_assertThisInitialized(_this));_this.clear=_this.clear.bind(_assertThisInitialized(_this));_this.id=_this.props.id||UniqueComponentId();_this.overlayRef=React.createRef();return _this;}_createClass(Dropdown,[{key:\"onClick\",value:function onClick(event){if(this.props.disabled){return;}if(!this.isClearClicked(event)){this.focusInput.focus();if(this.state.overlayVisible){this.hideOverlay();}else{this.showOverlay();}}}},{key:\"onInputFocus\",value:function onInputFocus(event){var _this2=this;event.persist();this.setState({focused:true},function(){if(_this2.props.onFocus){_this2.props.onFocus(event);}});}},{key:\"onInputBlur\",value:function onInputBlur(event){var _this3=this;event.persist();this.setState({focused:false},function(){if(_this3.props.onBlur){_this3.props.onBlur(event);}});}},{key:\"onPanelClick\",value:function onPanelClick(event){OverlayEventBus.emit('overlay-click',{originalEvent:event,target:this.container});}},{key:\"onInputKeyDown\",value:function onInputKeyDown(event){switch(event.which){//down\ncase 40:this.onDownKey(event);break;//up\ncase 38:this.onUpKey(event);break;//space\ncase 32:if(!this.state.overlayVisible){this.showOverlay();event.preventDefault();}break;//enter\ncase 13:this.hideOverlay();event.preventDefault();break;//escape and tab\ncase 27:case 9:this.hideOverlay();break;default:this.search(event);break;}}},{key:\"onFilterInputKeyDown\",value:function onFilterInputKeyDown(event){switch(event.which){//down\ncase 40:this.onDownKey(event);break;//up\ncase 38:this.onUpKey(event);break;//enter and escape\ncase 13:case 27:this.hideOverlay();event.preventDefault();break;default:break;}}},{key:\"onUpKey\",value:function onUpKey(event){if(this.props.options){var visibleOptions=this.getVisibleOptions();var selectedItemIndex=this.findOptionIndex(this.props.value,visibleOptions);var prevItem=this.findPrevVisibleItem(selectedItemIndex,visibleOptions);if(prevItem){this.selectItem({originalEvent:event,option:prevItem});}}event.preventDefault();}},{key:\"onDownKey\",value:function onDownKey(event){if(this.props.options){if(!this.state.overlayVisible&&event.altKey){this.showOverlay();}else{var visibleOptions=this.getVisibleOptions();var selectedItemIndex=this.findOptionIndex(this.props.value,visibleOptions);var nextItem=this.findNextVisibleItem(selectedItemIndex,visibleOptions);if(nextItem){this.selectItem({originalEvent:event,option:nextItem});}}}event.preventDefault();}},{key:\"search\",value:function search(event){var _this4=this;if(this.searchTimeout){clearTimeout(this.searchTimeout);}var char=String.fromCharCode(event.keyCode);this.previousSearchChar=this.currentSearchChar;this.currentSearchChar=char;if(this.previousSearchChar===this.currentSearchChar)this.searchValue=this.currentSearchChar;else this.searchValue=this.searchValue?this.searchValue+char:char;var searchIndex=this.props.value?this.findOptionIndex(this.props.value,this.props.options):-1;var newOption=this.searchOption(++searchIndex);if(newOption){this.selectItem({originalEvent:event,option:newOption});this.selectedOptionUpdated=true;}this.searchTimeout=setTimeout(function(){_this4.searchValue=null;},250);}},{key:\"searchOption\",value:function searchOption(index){var option;if(this.searchValue){option=this.searchOptionInRange(index,this.props.options.length);if(!option){option=this.searchOptionInRange(0,index);}}return option;}},{key:\"searchOptionInRange\",value:function searchOptionInRange(start,end){for(var i=start;i<end;i++){var opt=this.props.options[i];var label=this.getOptionLabel(opt).toString().toLocaleLowerCase(this.props.filterLocale);if(label.startsWith(this.searchValue.toLocaleLowerCase(this.props.filterLocale))){return opt;}}return null;}},{key:\"filter\",value:function filter(options){var filterValue=this.state.filter.trim().toLocaleLowerCase(this.props.filterLocale);var searchFields=this.props.filterBy?this.props.filterBy.split(','):[this.props.optionLabel||'label'];var items=FilterUtils.filter(options,searchFields,filterValue,this.props.filterMatchMode,this.props.filterLocale);return items&&items.length?items:null;}},{key:\"findNextVisibleItem\",value:function findNextVisibleItem(index,options){var i=index+1;if(i===options.length){return null;}var option=options[i];if(option.disabled)return this.findNextVisibleItem(i);else return option;}},{key:\"findPrevVisibleItem\",value:function findPrevVisibleItem(index,options){var i=index-1;if(i<0){return null;}var option=options[i];if(option.disabled)return this.findPrevVisibleItem(i);else return option;}},{key:\"onEditableInputClick\",value:function onEditableInputClick(event){this.bindDocumentClickListener();event.stopPropagation();}},{key:\"onEditableInputChange\",value:function onEditableInputChange(event){this.props.onChange({originalEvent:event.originalEvent,value:event.target.value,stopPropagation:function stopPropagation(){},preventDefault:function preventDefault(){},target:{name:this.props.name,id:this.id,value:event.target.value}});}},{key:\"onEditableInputFocus\",value:function onEditableInputFocus(event){var _this5=this;event.persist();this.setState({focused:true},function(){_this5.hideOverlay();if(_this5.props.onFocus){_this5.props.onFocus(event);}});}},{key:\"onOptionClick\",value:function onOptionClick(event){var option=event.option;if(!option.disabled){this.selectItem(event);this.focusInput.focus();}this.hideOverlay();}},{key:\"onFilterInputChange\",value:function onFilterInputChange(event){this.setState({filter:event.target.value});}},{key:\"resetFilter\",value:function resetFilter(){this.setState({filter:''});}},{key:\"clear\",value:function clear(event){this.props.onChange({originalEvent:event,value:undefined,stopPropagation:function stopPropagation(){},preventDefault:function preventDefault(){},target:{name:this.props.name,id:this.id,value:undefined}});this.updateEditableLabel();}},{key:\"selectItem\",value:function selectItem(event){var currentSelectedOption=this.findOption(this.props.value);if(currentSelectedOption!==event.option){this.updateEditableLabel(event.option);var optionValue=this.getOptionValue(event.option);this.props.onChange({originalEvent:event.originalEvent,value:optionValue,stopPropagation:function stopPropagation(){},preventDefault:function preventDefault(){},target:{name:this.props.name,id:this.id,value:optionValue}});}}},{key:\"findOptionIndex\",value:function findOptionIndex(value,options){var selectedOptionIndex=-1;if(options){for(var i=0;i<options.length;i++){var optionValue=this.getOptionValue(options[i]);if(value===null&&optionValue==null||ObjectUtils.equals(value,optionValue,this.props.dataKey)){selectedOptionIndex=i;break;}}}return selectedOptionIndex;}},{key:\"findOption\",value:function findOption(value){var index=this.findOptionIndex(value,this.props.options);return index!==-1?this.props.options[index]:null;}},{key:\"showOverlay\",value:function showOverlay(){this.setState({overlayVisible:true});}},{key:\"hideOverlay\",value:function hideOverlay(){this.setState({overlayVisible:false});}},{key:\"onOverlayEnter\",value:function onOverlayEnter(){this.overlayRef.current.style.zIndex=String(DomHandler.generateZIndex());this.alignPanel();}},{key:\"onOverlayEntered\",value:function onOverlayEntered(){this.scrollInView();this.bindDocumentClickListener();this.bindScrollListener();this.bindResizeListener();if(this.props.filter&&this.props.filterInputAutoFocus){this.filterInput.focus();}}},{key:\"onOverlayExit\",value:function onOverlayExit(){this.unbindDocumentClickListener();this.unbindScrollListener();this.unbindResizeListener();}},{key:\"onOverlayExited\",value:function onOverlayExited(){if(this.props.filter&&this.props.resetFilterOnHide){this.resetFilter();}}},{key:\"alignPanel\",value:function alignPanel(){var container=this.input.parentElement;if(this.props.appendTo){this.overlayRef.current.style.minWidth=DomHandler.getWidth(container)+'px';DomHandler.absolutePosition(this.overlayRef.current,container);}else{DomHandler.relativePosition(this.overlayRef.current,container);}}},{key:\"scrollInView\",value:function scrollInView(){var highlightItem=DomHandler.findSingle(this.overlayRef.current,'li.p-highlight');if(highlightItem){var itemsWrapper=DomHandler.findSingle(this.overlayRef.current,'.p-dropdown-items-wrapper');DomHandler.scrollInView(itemsWrapper,highlightItem);}}},{key:\"bindDocumentClickListener\",value:function bindDocumentClickListener(){var _this6=this;if(!this.documentClickListener){this.documentClickListener=function(event){if(_this6.state.overlayVisible&&_this6.isOutsideClicked(event)){_this6.hideOverlay();}};document.addEventListener('click',this.documentClickListener);}}},{key:\"unbindDocumentClickListener\",value:function unbindDocumentClickListener(){if(this.documentClickListener){document.removeEventListener('click',this.documentClickListener);this.documentClickListener=null;}}},{key:\"bindScrollListener\",value:function bindScrollListener(){var _this7=this;if(!this.scrollHandler){this.scrollHandler=new ConnectedOverlayScrollHandler(this.container,function(){if(_this7.state.overlayVisible){_this7.hideOverlay();}});}this.scrollHandler.bindScrollListener();}},{key:\"unbindScrollListener\",value:function unbindScrollListener(){if(this.scrollHandler){this.scrollHandler.unbindScrollListener();}}},{key:\"bindResizeListener\",value:function bindResizeListener(){var _this8=this;if(!this.resizeListener){this.resizeListener=function(){if(_this8.state.overlayVisible){_this8.hideOverlay();}};window.addEventListener('resize',this.resizeListener);}}},{key:\"unbindResizeListener\",value:function unbindResizeListener(){if(this.resizeListener){window.removeEventListener('resize',this.resizeListener);this.resizeListener=null;}}},{key:\"isOutsideClicked\",value:function isOutsideClicked(event){return this.container&&!(this.container.isSameNode(event.target)||this.isClearClicked(event)||this.container.contains(event.target)||this.overlayRef&&this.overlayRef.current.contains(event.target));}},{key:\"isClearClicked\",value:function isClearClicked(event){return DomHandler.hasClass(event.target,'p-dropdown-clear-icon');}},{key:\"updateEditableLabel\",value:function updateEditableLabel(option){if(this.input){this.input.value=option?this.getOptionLabel(option):this.props.value||'';}}},{key:\"hasFilter\",value:function hasFilter(){return this.state.filter&&this.state.filter.trim().length>0;}},{key:\"getOptionLabel\",value:function getOptionLabel(option){return this.props.optionLabel?ObjectUtils.resolveFieldData(option,this.props.optionLabel):option['label']!==undefined?option['label']:option;}},{key:\"getOptionValue\",value:function getOptionValue(option){return this.props.optionValue?ObjectUtils.resolveFieldData(option,this.props.optionValue):option['value']!==undefined?option['value']:option;}},{key:\"getOptionKey\",value:function getOptionKey(option,index){return this.props.dataKey?ObjectUtils.resolveFieldData(option,this.props.dataKey):\"pr_id__\".concat(this.getOptionLabel(option),\"-\").concat(index);}},{key:\"checkValidity\",value:function checkValidity(){return this.nativeSelect.checkValidity();}},{key:\"getVisibleOptions\",value:function getVisibleOptions(){if(this.props.options&&this.hasFilter()){return this.filter(this.props.options);}return this.props.options;}},{key:\"updateInputField\",value:function updateInputField(){if(this.props.editable&&this.input){var selectedOption=this.findOption(this.props.value);var label=selectedOption?this.getOptionLabel(selectedOption):null;var value=label||this.props.value||'';this.input.value=value;}}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.autoFocus&&this.focusInput){this.focusInput.focus();}if(this.props.tooltip){this.renderTooltip();}this.updateInputField();this.nativeSelect.selectedIndex=1;}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.unbindDocumentClickListener();this.unbindResizeListener();if(this.scrollHandler){this.scrollHandler.destroy();this.scrollHandler=null;}if(this.tooltip){this.tooltip.destroy();this.tooltip=null;}if(this.hideTimeout){clearTimeout(this.hideTimeout);this.hideTimeout=null;}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.state.overlayVisible){if(this.props.filter){this.alignPanel();}if(prevProps.value!==this.props.value){this.scrollInView();}}if(prevProps.tooltip!==this.props.tooltip||prevProps.tooltipOptions!==this.props.tooltipOptions){if(this.tooltip)this.tooltip.update(_objectSpread({content:this.props.tooltip},this.props.tooltipOptions||{}));else this.renderTooltip();}if(this.state.filter&&(!this.props.options||this.props.options.length===0)){this.setState({filter:''});}this.updateInputField();this.nativeSelect.selectedIndex=1;}},{key:\"renderHiddenSelect\",value:function renderHiddenSelect(selectedOption){var _this9=this;var placeHolderOption=/*#__PURE__*/React.createElement(\"option\",{value:\"\"},this.props.placeholder);var option=selectedOption?/*#__PURE__*/React.createElement(\"option\",{value:selectedOption.value},this.getOptionLabel(selectedOption)):null;return/*#__PURE__*/React.createElement(\"div\",{className:\"p-hidden-accessible p-dropdown-hidden-select\"},/*#__PURE__*/React.createElement(\"select\",{ref:function ref(el){return _this9.nativeSelect=el;},required:this.props.required,name:this.props.name,tabIndex:-1,\"aria-hidden\":\"true\"},placeHolderOption,option));}},{key:\"renderTooltip\",value:function renderTooltip(){this.tooltip=tip({target:this.container,content:this.props.tooltip,options:this.props.tooltipOptions});}},{key:\"renderKeyboardHelper\",value:function renderKeyboardHelper(){var _this10=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"p-hidden-accessible\"},/*#__PURE__*/React.createElement(\"input\",{ref:function ref(el){return _this10.focusInput=el;},id:this.props.inputId,type:\"text\",readOnly:true,\"aria-haspopup\":\"listbox\",onFocus:this.onInputFocus,onBlur:this.onInputBlur,onKeyDown:this.onInputKeyDown,disabled:this.props.disabled,tabIndex:this.props.tabIndex,\"aria-label\":this.props.ariaLabel,\"aria-labelledby\":this.props.ariaLabelledBy}));}},{key:\"renderLabel\",value:function renderLabel(selectedOption){var _this11=this;var label=selectedOption?this.getOptionLabel(selectedOption):null;if(this.props.editable){var value=label||this.props.value||'';return/*#__PURE__*/React.createElement(\"input\",{ref:function ref(el){return _this11.input=el;},type:\"text\",defaultValue:value,className:\"p-dropdown-label p-inputtext\",disabled:this.props.disabled,placeholder:this.props.placeholder,maxLength:this.props.maxLength,onClick:this.onEditableInputClick,onInput:this.onEditableInputChange,onFocus:this.onEditableInputFocus,onBlur:this.onInputBlur,\"aria-label\":this.props.ariaLabel,\"aria-labelledby\":this.props.ariaLabelledBy,\"aria-haspopup\":\"listbox\"});}else{var className=classNames('p-dropdown-label p-inputtext',{'p-placeholder':label===null&&this.props.placeholder,'p-dropdown-label-empty':label===null&&!this.props.placeholder});var content=this.props.valueTemplate?ObjectUtils.getJSXElement(this.props.valueTemplate,selectedOption,this.props):label||this.props.placeholder||'empty';return/*#__PURE__*/React.createElement(\"span\",{ref:function ref(el){return _this11.input=el;},className:className},content);}}},{key:\"renderClearIcon\",value:function renderClearIcon(){if(this.props.value!=null&&this.props.showClear&&!this.props.disabled){return/*#__PURE__*/React.createElement(\"i\",{className:\"p-dropdown-clear-icon pi pi-times\",onClick:this.clear});}return null;}},{key:\"renderDropdownIcon\",value:function renderDropdownIcon(){var _this12=this;return/*#__PURE__*/React.createElement(\"div\",{ref:function ref(el){return _this12.trigger=el;},className:\"p-dropdown-trigger\",role:\"button\",\"aria-haspopup\":\"listbox\",\"aria-expanded\":this.state.overlayVisible},/*#__PURE__*/React.createElement(\"span\",{className:\"p-dropdown-trigger-icon pi pi-chevron-down p-clickable\"}));}},{key:\"renderItems\",value:function renderItems(selectedOption){var _this13=this;var visibleOptions=this.getVisibleOptions();if(visibleOptions&&visibleOptions.length){return visibleOptions.map(function(option,index){var optionLabel=_this13.getOptionLabel(option);var optionKey=_this13.getOptionKey(option,index);return/*#__PURE__*/React.createElement(DropdownItem,{key:optionKey,label:optionLabel,option:option,template:_this13.props.itemTemplate,selected:selectedOption===option,disabled:option.disabled,onClick:_this13.onOptionClick});});}if(this.hasFilter()){var emptyFilterMessage=ObjectUtils.getJSXElement(this.props.emptyFilterMessage,this.props);return/*#__PURE__*/React.createElement(\"li\",{className:\"p-dropdown-empty-message\"},emptyFilterMessage);}return null;}},{key:\"renderFilter\",value:function renderFilter(){var _this14=this;if(this.props.filter){return/*#__PURE__*/React.createElement(\"div\",{className:\"p-dropdown-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-dropdown-filter-container\"},/*#__PURE__*/React.createElement(\"input\",{ref:function ref(el){return _this14.filterInput=el;},type:\"text\",autoComplete:\"off\",className:\"p-dropdown-filter p-inputtext p-component\",placeholder:this.props.filterPlaceholder,onKeyDown:this.onFilterInputKeyDown,onChange:this.onFilterInputChange,value:this.state.filter}),/*#__PURE__*/React.createElement(\"span\",{className:\"p-dropdown-filter-icon pi pi-search\"})));}return null;}},{key:\"render\",value:function render(){var _this15=this;var className=classNames('p-dropdown p-component p-inputwrapper',this.props.className,{'p-disabled':this.props.disabled,'p-focus':this.state.focused,'p-dropdown-clearable':this.props.showClear&&!this.props.disabled,'p-inputwrapper-filled':this.props.value,'p-inputwrapper-focus':this.state.focused||this.state.overlayVisible});var selectedOption=this.findOption(this.props.value);var hiddenSelect=this.renderHiddenSelect(selectedOption);var keyboardHelper=this.renderKeyboardHelper();var labelElement=this.renderLabel(selectedOption);var dropdownIcon=this.renderDropdownIcon();var items=this.renderItems(selectedOption);var filterElement=this.renderFilter();var clearIcon=this.renderClearIcon();return/*#__PURE__*/React.createElement(\"div\",{id:this.id,ref:function ref(el){return _this15.container=el;},className:className,style:this.props.style,onClick:this.onClick,onMouseDown:this.props.onMouseDown,onContextMenu:this.props.onContextMenu},keyboardHelper,hiddenSelect,labelElement,clearIcon,dropdownIcon,/*#__PURE__*/React.createElement(DropdownPanel,{ref:this.overlayRef,appendTo:this.props.appendTo,panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName,scrollHeight:this.props.scrollHeight,filter:filterElement,onClick:this.onPanelClick,in:this.state.overlayVisible,onEnter:this.onOverlayEnter,onEntered:this.onOverlayEntered,onExit:this.onOverlayExit,onExited:this.onOverlayExited},items));}}]);return Dropdown;}(Component);Dropdown.defaultProps={id:null,name:null,value:null,options:null,optionLabel:null,optionValue:null,valueTemplate:null,itemTemplate:null,style:null,className:null,scrollHeight:'200px',filter:false,filterBy:null,filterMatchMode:'contains',filterPlaceholder:null,filterLocale:undefined,emptyFilterMessage:'No results found',editable:false,placeholder:null,required:false,disabled:false,appendTo:null,tabIndex:null,autoFocus:false,filterInputAutoFocus:true,resetFilterOnHide:false,panelClassName:null,panelStyle:null,dataKey:null,inputId:null,showClear:false,maxLength:null,tooltip:null,tooltipOptions:null,ariaLabel:null,ariaLabelledBy:null,onChange:null,onFocus:null,onBlur:null,onMouseDown:null,onContextMenu:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/slotmaster-dashboard/src/components/dropdown/Dropdown.js"],"names":["React","Component","DomHandler","ObjectUtils","FilterUtils","classNames","DropdownPanel","DropdownItem","tip","UniqueComponentId","ConnectedOverlayScrollHandler","OverlayEventBus","Dropdown","props","state","filter","focused","overlayVisible","onClick","bind","onInputFocus","onInputBlur","onInputKeyDown","onEditableInputClick","onEditableInputChange","onEditableInputFocus","onOptionClick","onFilterInputChange","onFilterInputKeyDown","onPanelClick","onOverlayEnter","onOverlayEntered","onOverlayExit","onOverlayExited","clear","id","overlayRef","createRef","event","disabled","isClearClicked","focusInput","focus","hideOverlay","showOverlay","persist","setState","onFocus","onBlur","emit","originalEvent","target","container","which","onDownKey","onUpKey","preventDefault","search","options","visibleOptions","getVisibleOptions","selectedItemIndex","findOptionIndex","value","prevItem","findPrevVisibleItem","selectItem","option","altKey","nextItem","findNextVisibleItem","searchTimeout","clearTimeout","char","String","fromCharCode","keyCode","previousSearchChar","currentSearchChar","searchValue","searchIndex","newOption","searchOption","selectedOptionUpdated","setTimeout","index","searchOptionInRange","length","start","end","i","opt","label","getOptionLabel","toString","toLocaleLowerCase","filterLocale","startsWith","filterValue","trim","searchFields","filterBy","split","optionLabel","items","filterMatchMode","bindDocumentClickListener","stopPropagation","onChange","name","undefined","updateEditableLabel","currentSelectedOption","findOption","optionValue","getOptionValue","selectedOptionIndex","equals","dataKey","current","style","zIndex","generateZIndex","alignPanel","scrollInView","bindScrollListener","bindResizeListener","filterInputAutoFocus","filterInput","unbindDocumentClickListener","unbindScrollListener","unbindResizeListener","resetFilterOnHide","resetFilter","input","parentElement","appendTo","minWidth","getWidth","absolutePosition","relativePosition","highlightItem","findSingle","itemsWrapper","documentClickListener","isOutsideClicked","document","addEventListener","removeEventListener","scrollHandler","resizeListener","window","isSameNode","contains","hasClass","resolveFieldData","nativeSelect","checkValidity","hasFilter","editable","selectedOption","autoFocus","tooltip","renderTooltip","updateInputField","selectedIndex","destroy","hideTimeout","prevProps","tooltipOptions","update","content","placeHolderOption","placeholder","el","required","inputId","tabIndex","ariaLabel","ariaLabelledBy","maxLength","className","valueTemplate","getJSXElement","showClear","trigger","map","optionKey","getOptionKey","itemTemplate","emptyFilterMessage","filterPlaceholder","hiddenSelect","renderHiddenSelect","keyboardHelper","renderKeyboardHelper","labelElement","renderLabel","dropdownIcon","renderDropdownIcon","renderItems","filterElement","renderFilter","clearIcon","renderClearIcon","onMouseDown","onContextMenu","panelStyle","panelClassName","scrollHeight","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport ObjectUtils from '../utils/ObjectUtils';\r\nimport FilterUtils from '../utils/FilterUtils';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport { DropdownPanel } from './DropdownPanel';\r\nimport { DropdownItem } from './DropdownItem';\r\nimport { tip } from '../tooltip/Tooltip';\r\nimport UniqueComponentId from '../utils/UniqueComponentId';\r\nimport ConnectedOverlayScrollHandler from '../utils/ConnectedOverlayScrollHandler';\r\nimport OverlayEventBus from '../overlayeventbus/OverlayEventBus';\r\n\r\nexport class Dropdown extends Component {\r\n\r\n    static defaultProps = {\r\n        id: null,\r\n        name: null,\r\n        value: null,\r\n        options: null,\r\n        optionLabel: null,\r\n        optionValue: null,\r\n        valueTemplate: null,\r\n        itemTemplate: null,\r\n        style: null,\r\n        className: null,\r\n        scrollHeight: '200px',\r\n        filter: false,\r\n        filterBy: null,\r\n        filterMatchMode: 'contains',\r\n        filterPlaceholder: null,\r\n        filterLocale: undefined,\r\n        emptyFilterMessage: 'No results found',\r\n        editable: false,\r\n        placeholder: null,\r\n        required: false,\r\n        disabled: false,\r\n        appendTo: null,\r\n        tabIndex: null,\r\n        autoFocus: false,\r\n        filterInputAutoFocus: true,\r\n        resetFilterOnHide: false,\r\n        panelClassName: null,\r\n        panelStyle: null,\r\n        dataKey: null,\r\n        inputId: null,\r\n        showClear: false,\r\n        maxLength: null,\r\n        tooltip: null,\r\n        tooltipOptions: null,\r\n        ariaLabel: null,\r\n        ariaLabelledBy: null,\r\n        onChange: null,\r\n        onFocus: null,\r\n        onBlur: null,\r\n        onMouseDown: null,\r\n        onContextMenu: null\r\n    };\r\n\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        name: PropTypes.string,\r\n        value: PropTypes.any,\r\n        options: PropTypes.array,\r\n        optionLabel: PropTypes.string,\r\n        optionValue: PropTypes.string,\r\n        valueTemplate: PropTypes.any,\r\n        itemTemplate: PropTypes.any,\r\n        style: PropTypes.object,\r\n        className: PropTypes.string,\r\n        scrollHeight: PropTypes.string,\r\n        filter: PropTypes.bool,\r\n        filterBy: PropTypes.string,\r\n        filterMatchMode: PropTypes.string,\r\n        filterPlaceholder: PropTypes.string,\r\n        filterLocale: PropTypes.string,\r\n        emptyFilterMessage: PropTypes.any,\r\n        editable: PropTypes.bool,\r\n        placeholder: PropTypes.string,\r\n        required: PropTypes.bool,\r\n        disabled: PropTypes.bool,\r\n        appendTo: PropTypes.any,\r\n        tabIndex: PropTypes.number,\r\n        autoFocus: PropTypes.bool,\r\n        filterInputAutoFocus: PropTypes.bool,\r\n        resetFilterOnHide: PropTypes.bool,\r\n        lazy: PropTypes.bool,\r\n        panelClassName: PropTypes.string,\r\n        panelStyle: PropTypes.object,\r\n        dataKey: PropTypes.string,\r\n        inputId: PropTypes.string,\r\n        showClear: PropTypes.bool,\r\n        maxLength: PropTypes.number,\r\n        tooltip: PropTypes.string,\r\n        tooltipOptions: PropTypes.object,\r\n        ariaLabel: PropTypes.string,\r\n        ariaLabelledBy: PropTypes.string,\r\n        onChange: PropTypes.func,\r\n        onFocus: PropTypes.func,\r\n        onBlur: PropTypes.func,\r\n        onMouseDown: PropTypes.func,\r\n        onContextMenu: PropTypes.func\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            filter: '',\r\n            focused: false,\r\n            overlayVisible: false\r\n        };\r\n\r\n        this.onClick = this.onClick.bind(this);\r\n        this.onInputFocus = this.onInputFocus.bind(this);\r\n        this.onInputBlur = this.onInputBlur.bind(this);\r\n        this.onInputKeyDown = this.onInputKeyDown.bind(this);\r\n        this.onEditableInputClick = this.onEditableInputClick.bind(this);\r\n        this.onEditableInputChange = this.onEditableInputChange.bind(this);\r\n        this.onEditableInputFocus = this.onEditableInputFocus.bind(this);\r\n        this.onOptionClick = this.onOptionClick.bind(this);\r\n        this.onFilterInputChange = this.onFilterInputChange.bind(this);\r\n        this.onFilterInputKeyDown = this.onFilterInputKeyDown.bind(this);\r\n        this.onPanelClick = this.onPanelClick.bind(this);\r\n        this.onOverlayEnter = this.onOverlayEnter.bind(this);\r\n        this.onOverlayEntered = this.onOverlayEntered.bind(this);\r\n        this.onOverlayExit = this.onOverlayExit.bind(this);\r\n        this.onOverlayExited = this.onOverlayExited.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n\r\n        this.id = this.props.id || UniqueComponentId();\r\n        this.overlayRef = React.createRef();\r\n    }\r\n\r\n    onClick(event) {\r\n        if (this.props.disabled) {\r\n            return;\r\n        }\r\n\r\n        if (!this.isClearClicked(event)) {\r\n            this.focusInput.focus();\r\n\r\n            if (this.state.overlayVisible) {\r\n                this.hideOverlay();\r\n            }\r\n            else {\r\n                this.showOverlay();\r\n            }\r\n        }\r\n    }\r\n\r\n    onInputFocus(event) {\r\n        event.persist();\r\n        this.setState({ focused: true }, () => {\r\n            if (this.props.onFocus) {\r\n                this.props.onFocus(event);\r\n            }\r\n        });\r\n    }\r\n\r\n    onInputBlur(event) {\r\n        event.persist();\r\n        this.setState({ focused: false }, () => {\r\n            if (this.props.onBlur) {\r\n                this.props.onBlur(event);\r\n            }\r\n        });\r\n    }\r\n\r\n    onPanelClick(event) {\r\n        OverlayEventBus.emit('overlay-click', {\r\n            originalEvent: event,\r\n            target: this.container\r\n        });\r\n    }\r\n\r\n    onInputKeyDown(event) {\r\n        switch (event.which) {\r\n            //down\r\n            case 40:\r\n                this.onDownKey(event);\r\n                break;\r\n\r\n            //up\r\n            case 38:\r\n                this.onUpKey(event);\r\n                break;\r\n\r\n            //space\r\n            case 32:\r\n                if (!this.state.overlayVisible) {\r\n                    this.showOverlay();\r\n                    event.preventDefault();\r\n                }\r\n                break;\r\n\r\n            //enter\r\n            case 13:\r\n                this.hideOverlay();\r\n                event.preventDefault();\r\n                break;\r\n\r\n            //escape and tab\r\n            case 27:\r\n            case 9:\r\n                this.hideOverlay();\r\n                break;\r\n\r\n            default:\r\n                this.search(event);\r\n                break;\r\n        }\r\n    }\r\n\r\n    onFilterInputKeyDown(event) {\r\n        switch (event.which) {\r\n            //down\r\n            case 40:\r\n                this.onDownKey(event);\r\n                break;\r\n\r\n            //up\r\n            case 38:\r\n                this.onUpKey(event);\r\n                break;\r\n\r\n            //enter and escape\r\n            case 13:\r\n            case 27:\r\n                this.hideOverlay();\r\n                event.preventDefault();\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    onUpKey(event) {\r\n        if (this.props.options) {\r\n            let visibleOptions = this.getVisibleOptions();\r\n            let selectedItemIndex = this.findOptionIndex(this.props.value, visibleOptions);\r\n            let prevItem = this.findPrevVisibleItem(selectedItemIndex, visibleOptions);\r\n\r\n            if (prevItem) {\r\n                this.selectItem({\r\n                    originalEvent: event,\r\n                    option: prevItem\r\n                });\r\n            }\r\n        }\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    onDownKey(event) {\r\n        if (this.props.options) {\r\n            if (!this.state.overlayVisible && event.altKey) {\r\n                this.showOverlay();\r\n            }\r\n            else {\r\n                let visibleOptions = this.getVisibleOptions();\r\n                let selectedItemIndex = this.findOptionIndex(this.props.value, visibleOptions);\r\n                let nextItem = this.findNextVisibleItem(selectedItemIndex, visibleOptions);\r\n\r\n                if (nextItem) {\r\n                    this.selectItem({\r\n                        originalEvent: event,\r\n                        option: nextItem\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    search(event) {\r\n        if (this.searchTimeout) {\r\n            clearTimeout(this.searchTimeout);\r\n        }\r\n\r\n        const char = String.fromCharCode(event.keyCode);\r\n        this.previousSearchChar = this.currentSearchChar;\r\n        this.currentSearchChar = char;\r\n\r\n        if (this.previousSearchChar === this.currentSearchChar)\r\n            this.searchValue = this.currentSearchChar;\r\n        else\r\n            this.searchValue = this.searchValue ? this.searchValue + char : char;\r\n\r\n        let searchIndex = this.props.value ? this.findOptionIndex(this.props.value, this.props.options) : -1;\r\n        let newOption = this.searchOption(++searchIndex);\r\n\r\n        if (newOption) {\r\n            this.selectItem({\r\n                originalEvent: event,\r\n                option: newOption\r\n            });\r\n            this.selectedOptionUpdated = true;\r\n        }\r\n\r\n        this.searchTimeout = setTimeout(() => {\r\n            this.searchValue = null;\r\n        }, 250);\r\n    }\r\n\r\n    searchOption(index) {\r\n        let option;\r\n\r\n        if (this.searchValue) {\r\n            option = this.searchOptionInRange(index, this.props.options.length);\r\n\r\n            if (!option) {\r\n                option = this.searchOptionInRange(0, index);\r\n            }\r\n        }\r\n\r\n        return option;\r\n    }\r\n\r\n    searchOptionInRange(start, end) {\r\n        for (let i = start; i < end; i++) {\r\n            let opt = this.props.options[i];\r\n            let label = this.getOptionLabel(opt).toString().toLocaleLowerCase(this.props.filterLocale)\r\n            if (label.startsWith(this.searchValue.toLocaleLowerCase(this.props.filterLocale))) {\r\n                return opt;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    filter(options) {\r\n        let filterValue = this.state.filter.trim().toLocaleLowerCase(this.props.filterLocale);\r\n        let searchFields = this.props.filterBy ? this.props.filterBy.split(',') : [this.props.optionLabel || 'label'];\r\n        let items = FilterUtils.filter(options, searchFields, filterValue, this.props.filterMatchMode, this.props.filterLocale);\r\n\r\n        return (items && items.length) ? items : null;\r\n    }\r\n\r\n    findNextVisibleItem(index, options) {\r\n        let i = index + 1;\r\n        if (i === options.length) {\r\n            return null;\r\n        }\r\n\r\n        let option = options[i];\r\n        if (option.disabled)\r\n            return this.findNextVisibleItem(i);\r\n        else\r\n            return option;\r\n    }\r\n\r\n    findPrevVisibleItem(index, options) {\r\n        let i = index - 1;\r\n        if (i < 0) {\r\n            return null;\r\n        }\r\n\r\n        let option = options[i];\r\n        if (option.disabled)\r\n            return this.findPrevVisibleItem(i);\r\n        else\r\n            return option;\r\n    }\r\n\r\n    onEditableInputClick(event) {\r\n        this.bindDocumentClickListener();\r\n        event.stopPropagation();\r\n    }\r\n\r\n    onEditableInputChange(event) {\r\n        this.props.onChange({\r\n            originalEvent: event.originalEvent,\r\n            value: event.target.value,\r\n            stopPropagation: () => { },\r\n            preventDefault: () => { },\r\n            target: {\r\n                name: this.props.name,\r\n                id: this.id,\r\n                value: event.target.value,\r\n            }\r\n        });\r\n    }\r\n\r\n    onEditableInputFocus(event) {\r\n        event.persist();\r\n        this.setState({ focused: true }, () => {\r\n            this.hideOverlay();\r\n\r\n            if (this.props.onFocus) {\r\n                this.props.onFocus(event);\r\n            }\r\n        });\r\n    }\r\n\r\n    onOptionClick(event) {\r\n        const option = event.option;\r\n\r\n        if (!option.disabled) {\r\n            this.selectItem(event);\r\n            this.focusInput.focus();\r\n        }\r\n\r\n        this.hideOverlay();\r\n    }\r\n\r\n    onFilterInputChange(event) {\r\n        this.setState({ filter: event.target.value });\r\n    }\r\n\r\n    resetFilter() {\r\n        this.setState({ filter: '' });\r\n    }\r\n\r\n    clear(event) {\r\n        this.props.onChange({\r\n            originalEvent: event,\r\n            value: undefined,\r\n            stopPropagation: () => { },\r\n            preventDefault: () => { },\r\n            target: {\r\n                name: this.props.name,\r\n                id: this.id,\r\n                value: undefined\r\n            }\r\n        });\r\n\r\n        this.updateEditableLabel();\r\n    }\r\n\r\n    selectItem(event) {\r\n        let currentSelectedOption = this.findOption(this.props.value);\r\n\r\n        if (currentSelectedOption !== event.option) {\r\n            this.updateEditableLabel(event.option);\r\n            const optionValue = this.getOptionValue(event.option);\r\n\r\n            this.props.onChange({\r\n                originalEvent: event.originalEvent,\r\n                value: optionValue,\r\n                stopPropagation: () => { },\r\n                preventDefault: () => { },\r\n                target: {\r\n                    name: this.props.name,\r\n                    id: this.id,\r\n                    value: optionValue\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    findOptionIndex(value, options) {\r\n        let selectedOptionIndex = -1;\r\n        if (options) {\r\n            for (let i = 0; i < options.length; i++) {\r\n                let optionValue = this.getOptionValue(options[i]);\r\n                if ((value === null && optionValue == null) || ObjectUtils.equals(value, optionValue, this.props.dataKey)) {\r\n                    selectedOptionIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return selectedOptionIndex;\r\n    }\r\n\r\n    findOption(value) {\r\n        let index = this.findOptionIndex(value, this.props.options);\r\n        return (index !== -1) ? this.props.options[index] : null;\r\n    }\r\n\r\n    showOverlay() {\r\n        this.setState({ overlayVisible: true });\r\n    }\r\n\r\n    hideOverlay() {\r\n        this.setState({ overlayVisible: false });\r\n    }\r\n\r\n    onOverlayEnter() {\r\n        this.overlayRef.current.style.zIndex = String(DomHandler.generateZIndex());\r\n        this.alignPanel();\r\n    }\r\n\r\n    onOverlayEntered() {\r\n        this.scrollInView();\r\n        this.bindDocumentClickListener();\r\n        this.bindScrollListener();\r\n        this.bindResizeListener();\r\n\r\n        if (this.props.filter && this.props.filterInputAutoFocus) {\r\n            this.filterInput.focus();\r\n        }\r\n    }\r\n\r\n    onOverlayExit() {\r\n        this.unbindDocumentClickListener();\r\n        this.unbindScrollListener();\r\n        this.unbindResizeListener();\r\n    }\r\n\r\n    onOverlayExited() {\r\n        if (this.props.filter && this.props.resetFilterOnHide) {\r\n            this.resetFilter();\r\n        }\r\n    }\r\n\r\n    alignPanel() {\r\n        const container = this.input.parentElement;\r\n        if (this.props.appendTo) {\r\n            this.overlayRef.current.style.minWidth = DomHandler.getWidth(container) + 'px';\r\n            DomHandler.absolutePosition(this.overlayRef.current, container);\r\n        }\r\n        else {\r\n            DomHandler.relativePosition(this.overlayRef.current, container);\r\n        }\r\n    }\r\n\r\n    scrollInView() {\r\n        let highlightItem = DomHandler.findSingle(this.overlayRef.current, 'li.p-highlight');\r\n        if (highlightItem) {\r\n            let itemsWrapper = DomHandler.findSingle(this.overlayRef.current, '.p-dropdown-items-wrapper');\r\n            DomHandler.scrollInView(itemsWrapper, highlightItem);\r\n        }\r\n    }\r\n\r\n    bindDocumentClickListener() {\r\n        if (!this.documentClickListener) {\r\n            this.documentClickListener = (event) => {\r\n                if (this.state.overlayVisible && this.isOutsideClicked(event)) {\r\n                    this.hideOverlay();\r\n                }\r\n            };\r\n\r\n            document.addEventListener('click', this.documentClickListener);\r\n        }\r\n    }\r\n\r\n    unbindDocumentClickListener() {\r\n        if (this.documentClickListener) {\r\n            document.removeEventListener('click', this.documentClickListener);\r\n            this.documentClickListener = null;\r\n        }\r\n    }\r\n\r\n    bindScrollListener() {\r\n        if (!this.scrollHandler) {\r\n            this.scrollHandler = new ConnectedOverlayScrollHandler(this.container, () => {\r\n                if (this.state.overlayVisible) {\r\n                    this.hideOverlay();\r\n                }\r\n            });\r\n        }\r\n\r\n        this.scrollHandler.bindScrollListener();\r\n    }\r\n\r\n    unbindScrollListener() {\r\n        if (this.scrollHandler) {\r\n            this.scrollHandler.unbindScrollListener();\r\n        }\r\n    }\r\n\r\n    bindResizeListener() {\r\n        if (!this.resizeListener) {\r\n            this.resizeListener = () => {\r\n                if (this.state.overlayVisible) {\r\n                    this.hideOverlay();\r\n                }\r\n            };\r\n            window.addEventListener('resize', this.resizeListener);\r\n        }\r\n    }\r\n\r\n    unbindResizeListener() {\r\n        if (this.resizeListener) {\r\n            window.removeEventListener('resize', this.resizeListener);\r\n            this.resizeListener = null;\r\n        }\r\n    }\r\n\r\n    isOutsideClicked(event) {\r\n        return this.container && !(this.container.isSameNode(event.target) || this.isClearClicked(event) || this.container.contains(event.target)\r\n            || (this.overlayRef && this.overlayRef.current.contains(event.target)));\r\n    }\r\n\r\n    isClearClicked(event) {\r\n        return DomHandler.hasClass(event.target, 'p-dropdown-clear-icon')\r\n    }\r\n\r\n    updateEditableLabel(option) {\r\n        if (this.input) {\r\n            this.input.value = (option ? this.getOptionLabel(option) : this.props.value || '');\r\n        }\r\n    }\r\n\r\n    hasFilter() {\r\n        return this.state.filter && this.state.filter.trim().length > 0;\r\n    }\r\n\r\n    getOptionLabel(option) {\r\n        return this.props.optionLabel ? ObjectUtils.resolveFieldData(option, this.props.optionLabel) : (option['label'] !== undefined ? option['label'] : option);\r\n    }\r\n\r\n    getOptionValue(option) {\r\n        return this.props.optionValue ? ObjectUtils.resolveFieldData(option, this.props.optionValue) : (option['value'] !== undefined ? option['value'] : option);\r\n    }\r\n\r\n    getOptionKey(option, index) {\r\n        return this.props.dataKey ? ObjectUtils.resolveFieldData(option, this.props.dataKey) : `pr_id__${this.getOptionLabel(option)}-${index}`;\r\n    }\r\n\r\n    checkValidity() {\r\n        return this.nativeSelect.checkValidity();\r\n    }\r\n\r\n    getVisibleOptions() {\r\n        if (this.props.options && this.hasFilter()) {\r\n            return this.filter(this.props.options);\r\n        }\r\n\r\n        return this.props.options;\r\n    }\r\n\r\n    updateInputField() {\r\n        if (this.props.editable && this.input) {\r\n            let selectedOption = this.findOption(this.props.value);\r\n            const label = selectedOption ? this.getOptionLabel(selectedOption) : null;\r\n            const value = label || this.props.value || '';\r\n            this.input.value = value;\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.autoFocus && this.focusInput) {\r\n            this.focusInput.focus();\r\n        }\r\n\r\n        if (this.props.tooltip) {\r\n            this.renderTooltip();\r\n        }\r\n\r\n        this.updateInputField();\r\n        this.nativeSelect.selectedIndex = 1;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.unbindDocumentClickListener();\r\n        this.unbindResizeListener();\r\n        if (this.scrollHandler) {\r\n            this.scrollHandler.destroy();\r\n            this.scrollHandler = null;\r\n        }\r\n\r\n        if (this.tooltip) {\r\n            this.tooltip.destroy();\r\n            this.tooltip = null;\r\n        }\r\n\r\n        if (this.hideTimeout) {\r\n            clearTimeout(this.hideTimeout);\r\n            this.hideTimeout = null;\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.state.overlayVisible) {\r\n            if (this.props.filter) {\r\n                this.alignPanel();\r\n            }\r\n\r\n            if (prevProps.value !== this.props.value) {\r\n                this.scrollInView();\r\n            }\r\n        }\r\n\r\n        if (prevProps.tooltip !== this.props.tooltip || prevProps.tooltipOptions !== this.props.tooltipOptions) {\r\n            if (this.tooltip)\r\n                this.tooltip.update({ content: this.props.tooltip, ...(this.props.tooltipOptions || {}) });\r\n            else\r\n                this.renderTooltip();\r\n        }\r\n\r\n        if (this.state.filter && (!this.props.options || this.props.options.length === 0)) {\r\n            this.setState({ filter: '' });\r\n        }\r\n\r\n        this.updateInputField();\r\n        this.nativeSelect.selectedIndex = 1;\r\n    }\r\n\r\n    renderHiddenSelect(selectedOption) {\r\n        let placeHolderOption = <option value=\"\">{this.props.placeholder}</option>;\r\n        let option = selectedOption ? <option value={selectedOption.value}>{this.getOptionLabel(selectedOption)}</option> : null;\r\n\r\n        return (\r\n            <div className=\"p-hidden-accessible p-dropdown-hidden-select\">\r\n                <select ref={(el) => this.nativeSelect = el} required={this.props.required} name={this.props.name} tabIndex={-1} aria-hidden=\"true\">\r\n                    {placeHolderOption}\r\n                    {option}\r\n                </select>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderTooltip() {\r\n        this.tooltip = tip({\r\n            target: this.container,\r\n            content: this.props.tooltip,\r\n            options: this.props.tooltipOptions\r\n        });\r\n    }\r\n\r\n    renderKeyboardHelper() {\r\n        return <div className=\"p-hidden-accessible\">\r\n            <input ref={(el) => this.focusInput = el} id={this.props.inputId} type=\"text\" readOnly aria-haspopup=\"listbox\"\r\n                onFocus={this.onInputFocus} onBlur={this.onInputBlur} onKeyDown={this.onInputKeyDown}\r\n                disabled={this.props.disabled} tabIndex={this.props.tabIndex} aria-label={this.props.ariaLabel} aria-labelledby={this.props.ariaLabelledBy} />\r\n        </div>;\r\n    }\r\n\r\n    renderLabel(selectedOption) {\r\n        const label = selectedOption ? this.getOptionLabel(selectedOption) : null;\r\n\r\n        if (this.props.editable) {\r\n            let value = label || this.props.value || '';\r\n\r\n            return <input ref={(el) => this.input = el} type=\"text\" defaultValue={value} className=\"p-dropdown-label p-inputtext\" disabled={this.props.disabled}\r\n                placeholder={this.props.placeholder} maxLength={this.props.maxLength} onClick={this.onEditableInputClick} onInput={this.onEditableInputChange}\r\n                onFocus={this.onEditableInputFocus} onBlur={this.onInputBlur} aria-label={this.props.ariaLabel} aria-labelledby={this.props.ariaLabelledBy}\r\n                aria-haspopup=\"listbox\" />;\r\n        }\r\n        else {\r\n            let className = classNames('p-dropdown-label p-inputtext', {\r\n                'p-placeholder': label === null && this.props.placeholder,\r\n                'p-dropdown-label-empty': label === null && !this.props.placeholder\r\n            });\r\n\r\n            let content = this.props.valueTemplate ? ObjectUtils.getJSXElement(this.props.valueTemplate, selectedOption, this.props) : (label || this.props.placeholder || 'empty');\r\n\r\n            return <span ref={(el) => this.input = el} className={className}>{content}</span>;\r\n        }\r\n    }\r\n\r\n    renderClearIcon() {\r\n        if (this.props.value != null && this.props.showClear && !this.props.disabled) {\r\n            return (\r\n                <i className=\"p-dropdown-clear-icon pi pi-times\" onClick={this.clear}></i>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderDropdownIcon() {\r\n        return (\r\n            <div ref={(el) => this.trigger = el} className=\"p-dropdown-trigger\" role=\"button\" aria-haspopup=\"listbox\" aria-expanded={this.state.overlayVisible}>\r\n                <span className=\"p-dropdown-trigger-icon pi pi-chevron-down p-clickable\"></span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderItems(selectedOption) {\r\n        let visibleOptions = this.getVisibleOptions();\r\n\r\n        if (visibleOptions && visibleOptions.length) {\r\n            return visibleOptions.map((option, index) => {\r\n                let optionLabel = this.getOptionLabel(option);\r\n                let optionKey = this.getOptionKey(option, index);\r\n\r\n                return (\r\n                    <DropdownItem key={optionKey} label={optionLabel} option={option} template={this.props.itemTemplate} selected={selectedOption === option} disabled={option.disabled} onClick={this.onOptionClick} />\r\n                );\r\n            });\r\n        }\r\n\r\n        if (this.hasFilter()) {\r\n            const emptyFilterMessage = ObjectUtils.getJSXElement(this.props.emptyFilterMessage, this.props);\r\n            return (\r\n                <li className=\"p-dropdown-empty-message\">\r\n                    {emptyFilterMessage}\r\n                </li>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderFilter() {\r\n        if (this.props.filter) {\r\n            return (\r\n                <div className=\"p-dropdown-header\">\r\n                    <div className=\"p-dropdown-filter-container\">\r\n                        <input ref={(el) => this.filterInput = el} type=\"text\" autoComplete=\"off\" className=\"p-dropdown-filter p-inputtext p-component\" placeholder={this.props.filterPlaceholder}\r\n                            onKeyDown={this.onFilterInputKeyDown} onChange={this.onFilterInputChange} value={this.state.filter} />\r\n                        <span className=\"p-dropdown-filter-icon pi pi-search\"></span>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n        let className = classNames('p-dropdown p-component p-inputwrapper', this.props.className, {\r\n            'p-disabled': this.props.disabled,\r\n            'p-focus': this.state.focused,\r\n            'p-dropdown-clearable': this.props.showClear && !this.props.disabled,\r\n            'p-inputwrapper-filled': this.props.value,\r\n            'p-inputwrapper-focus': this.state.focused || this.state.overlayVisible\r\n        });\r\n        let selectedOption = this.findOption(this.props.value);\r\n\r\n        let hiddenSelect = this.renderHiddenSelect(selectedOption);\r\n        let keyboardHelper = this.renderKeyboardHelper();\r\n        let labelElement = this.renderLabel(selectedOption);\r\n        let dropdownIcon = this.renderDropdownIcon();\r\n        let items = this.renderItems(selectedOption);\r\n        let filterElement = this.renderFilter();\r\n        let clearIcon = this.renderClearIcon();\r\n\r\n        return (\r\n            <div id={this.id} ref={(el) => this.container = el} className={className} style={this.props.style} onClick={this.onClick}\r\n                onMouseDown={this.props.onMouseDown} onContextMenu={this.props.onContextMenu}>\r\n                {keyboardHelper}\r\n                {hiddenSelect}\r\n                {labelElement}\r\n                {clearIcon}\r\n                {dropdownIcon}\r\n                <DropdownPanel ref={this.overlayRef} appendTo={this.props.appendTo} panelStyle={this.props.panelStyle} panelClassName={this.props.panelClassName}\r\n                    scrollHeight={this.props.scrollHeight} filter={filterElement} onClick={this.onPanelClick}\r\n                    in={this.state.overlayVisible} onEnter={this.onOverlayEnter} onEntered={this.onOverlayEntered} onExit={this.onOverlayExit} onExited={this.onOverlayExited}>\r\n                    {items}\r\n                </DropdownPanel>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}