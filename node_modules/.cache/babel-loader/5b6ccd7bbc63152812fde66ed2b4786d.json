{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import axios from'axios';import{v4 as uuidv4}from'uuid';var http=axios.create({baseURL:'/',headers:{'content-type':'application/x-www-form-urlencoded'}});var Request={data:{event:false,loader:false,requestEventData:null,loaderData:null},events:{global:{},local:{},loader:{}},event:function event(_ref){var _ref$type=_ref.type,type=_ref$type===void 0?'global':_ref$type,_ref$event=_ref.event,_event=_ref$event===void 0?'test':_ref$event;var uuid=uuidv4();this.data.event=true;this.data.requestEventData={type:type,event:_event,uuid:uuid};return this;},loader:function loader(){var event=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'app';var uuid=uuidv4();this.data.loader=true;this.data.loaderData={event:event,uuid:uuid};return this;},dispatch:function dispatch(type,event,data){if(!this.events[type][event])return;this.events[type][event].forEach(function(callback){return callback(data);});},dispatchLoader:function dispatchLoader(){var event=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'app';var status=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!this.events['loader'][event])return;this.events[\"loader\"][event].forEach(function(callback){return callback(status);});return this;},subscribe:function subscribe(type,event,callback){if(!this.events[type][event])this.events[type][event]=[];this.events[type][event].push(callback);return this;},subscribeLoader:function subscribeLoader(event,callback){if(!this.events[\"loader\"][event])this.events[\"loader\"][event]=[];this.events[\"loader\"][event].push(callback);return this;},unsubscribe:function unsubscribe(type,event,callback){if(this.events[type][event])delete this.events[type][event];return this;},unsubscribeLoader:function unsubscribeLoader(event){if(this.events[\"loader\"][event])delete this.events[\"loader\"][event];return this;},post:function post(url,data){var _this=this;var header=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(this.data.loader){this.dispatchLoader(this.data.loaderData.event,true);}return new Promise(function(resolve){try{http.post(url,data,header?{headers:_objectSpread(_objectSpread({},header),{},{Authorization:\"Bearer \"+localStorage.getItem(\"access_token\")})}:{headers:{'Content-Type':'application/x-www-form-urlencoded',Authorization:\"Bearer \"+localStorage.getItem(\"access_token\")}}).then(function(response){if(response.status===200){resolve({status:true,data:response.data});}else{if(_this.data.event){_this.dispatch(_this.data.requestEventData.type,_this.data.requestEventData.event,{type:\"error\",message:response.data.error});}resolve({status:false,data:response.data});}}).catch(function(reason){if(_this.data.event){_this.dispatch(_this.data.requestEventData.type,_this.data.requestEventData.event,{type:\"error\",message:reason.message});}console.log(reason);if(reason.response.status===401){_this.dispatch('global','Unauthorized',{type:\"error\",message:reason.response.message});}resolve({status:false});});}catch(e){console.log(e.message);}}).finally(function(){if(_this.data.loader){_this.dispatchLoader(_this.data.loaderData.event,false);}});},get:function get(url){var _this2=this;if(this.data.loader){this.dispatchLoader(this.data.loaderData.event,true);}return new Promise(function(resolve){http.get(url,{headers:{Authorization:\"Bearer \"+localStorage.getItem(\"access_token\")}}).then(function(response){if(response.status===200){resolve({status:true,data:response.data});}else{if(_this2.data.event){_this2.dispatch(_this2.data.requestEventData.type,_this2.data.requestEventData.event,{type:\"error\",message:response.data.error});}resolve({status:false,data:response.data});}}).catch(function(reason){if(_this2.data.event){_this2.dispatch(_this2.data.requestEventData.type,_this2.data.requestEventData.event,{type:\"error\",message:reason.message});}if(reason.response&&reason.response.status===401){_this2.dispatch('global','Unauthorized',{type:\"error\",message:reason.response.message});}resolve({status:false});});}).finally(function(){if(_this2.data.loader){_this2.dispatchLoader(_this2.data.loaderData.event,false);}});}};export default Request;","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/slotmaster-dashboard/src/core/http/http.js"],"names":["axios","v4","uuidv4","http","create","baseURL","headers","Request","data","event","loader","requestEventData","loaderData","events","global","local","type","uuid","dispatch","forEach","callback","dispatchLoader","status","subscribe","push","subscribeLoader","unsubscribe","unsubscribeLoader","post","url","header","Promise","resolve","Authorization","localStorage","getItem","then","response","message","error","catch","reason","console","log","e","finally","get"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst http =  axios.create({\r\n    baseURL: '/',\r\n    headers: {\r\n        'content-type': 'application/x-www-form-urlencoded'\r\n    }\r\n})\r\n\r\nconst Request = {\r\n  data:{\r\n        event:false,\r\n        loader:false,\r\n        requestEventData:null,\r\n        loaderData:null\r\n    },\r\n    events:{\r\n        global:{},\r\n        local:{},\r\n        loader:{}\r\n    },\r\n    event:function({type='global',event='test'}){\r\n        const uuid = uuidv4();\r\n        this.data.event=true;\r\n        this.data.requestEventData = {type: type, event: event, uuid: uuid};\r\n        return this;\r\n    },\r\n    loader:function(event='app'){\r\n        const uuid = uuidv4();\r\n        this.data.loader=true;\r\n        this.data.loaderData = {event: event, uuid: uuid};\r\n        return this;\r\n    },\r\n    dispatch:function(type,event,data){\r\n        if(!this.events[type][event]) return;\r\n        this.events[type][event].forEach(callback=>callback(data))\r\n    },\r\n    dispatchLoader: function(event='app',status=false){\r\n        if(!this.events['loader'][event]) return;\r\n        this.events[\"loader\"][event].forEach(callback=>callback(status))\r\n        return this;\r\n    },\r\n    subscribe: function (type,event,callback) {\r\n        if(!this.events[type][event]) this.events[type][event] = [];\r\n        this.events[type][event].push(callback);\r\n        return this;\r\n    },\r\n    subscribeLoader: function (event,callback) {\r\n        if(!this.events[\"loader\"][event]) this.events[\"loader\"][event] = [];\r\n        this.events[\"loader\"][event].push(callback)\r\n        return this;\r\n    },\r\n    unsubscribe: function(type,event,callback){\r\n        if(this.events[type][event]) delete this.events[type][event];\r\n        return this;\r\n    },\r\n    unsubscribeLoader: function(event){\r\n        if(this.events[\"loader\"][event]) delete this.events[\"loader\"][event];\r\n        return this;\r\n    },\r\n    post:function(url,data, header=null){\r\n        if(this.data.loader){\r\n            this.dispatchLoader(this.data.loaderData.event,true);\r\n        }\r\n        return new Promise((resolve, ) => {\r\n          try {\r\n            http.post(url,data,((header) ? {\r\n                headers:{...header, Authorization: `Bearer `+localStorage.getItem(\"access_token\")},\r\n            }:{\r\n                headers:{\r\n                    'Content-Type': 'application/x-www-form-urlencoded',\r\n                    Authorization: `Bearer `+localStorage.getItem(\"access_token\")\r\n                }\r\n            })).then( response => {\r\n              if(response.status===200){\r\n                  resolve({status:true,data:response.data})\r\n              }else{\r\n                  if(this.data.event){\r\n                      this.dispatch(this.data.requestEventData.type,this.data.requestEventData.event,{type: \"error\", message: response.data.error});\r\n                  }\r\n                  resolve({status:false,data:response.data})\r\n              }\r\n            }).catch(reason => {\r\n              if(this.data.event){\r\n                this.dispatch(this.data.requestEventData.type,this.data.requestEventData.event,{type: \"error\", message:reason.message});\r\n              }\r\n              console.log(reason)\r\n              if(reason.response.status === 401){\r\n                  this.dispatch('global','Unauthorized',{type: \"error\", message:reason.response.message});\r\n              }\r\n              resolve({ status:false })\r\n            })\r\n          }catch (e) {\r\n              console.log(e.message)\r\n          }\r\n\r\n        }).finally(()=>{\r\n            if(this.data.loader){\r\n                this.dispatchLoader(this.data.loaderData.event,false);\r\n            }\r\n        })\r\n    },\r\n    get:function(url){\r\n        if(this.data.loader){\r\n            this.dispatchLoader(this.data.loaderData.event,true);\r\n        }\r\n\r\n        return new Promise((resolve) => {\r\n            http.get(url,{\r\n                    headers:{\r\n                        Authorization: `Bearer `+localStorage.getItem(\"access_token\")\r\n                    }\r\n            }).then(\r\n                response=>{\r\n                    if(response.status===200){\r\n                        resolve({status:true,data:response.data})\r\n                    }else{\r\n                        if(this.data.event){\r\n                            this.dispatch(this.data.requestEventData.type,this.data.requestEventData.event,{type: \"error\", message: response.data.error});\r\n                        }\r\n                        resolve({status:false,data:response.data})\r\n                    }\r\n                }).catch(reason => {\r\n                if(this.data.event){\r\n                    this.dispatch(this.data.requestEventData.type,this.data.requestEventData.event,{type: \"error\", message:reason.message});\r\n                }\r\n                if(reason.response &&reason.response.status === 401){\r\n                    this.dispatch('global','Unauthorized',{type: \"error\", message:reason.response.message});\r\n                }\r\n                resolve({ status:false })\r\n            })\r\n        }).finally(()=>{\r\n            if(this.data.loader){\r\n                this.dispatchLoader(this.data.loaderData.event,false);\r\n            }\r\n        })\r\n    }\r\n\r\n};\r\n\r\nexport default Request;\r\n"]},"metadata":{},"sourceType":"module"}