{"ast":null,"code":"import _createForOfIteratorHelper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _objectSpread from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{classNames}from'../utils/ClassNames';import ObjectUtils from'../utils/ObjectUtils';import FilterUtils from'../utils/FilterUtils';import DomHandler from'../utils/DomHandler';import{Paginator}from'../paginator/Paginator';import{TreeTableHeader}from'./TreeTableHeader';import{TreeTableBody}from'./TreeTableBody';import{TreeTableFooter}from'./TreeTableFooter';import{TreeTableScrollableView}from'./TreeTableScrollableView';export var TreeTable=/*#__PURE__*/function(_Component){_inherits(TreeTable,_Component);var _super=_createSuper(TreeTable);function TreeTable(props){var _this;_classCallCheck(this,TreeTable);_this=_super.call(this,props);var state={};if(!_this.props.onToggle){_this.state={expandedKeys:_this.props.expandedKeys};}if(!_this.props.onPage){state.first=props.first;state.rows=props.rows;}if(!_this.props.onSort){state.sortField=props.sortField;state.sortOrder=props.sortOrder;state.multiSortMeta=props.multiSortMeta;}if(!_this.props.onFilter){state.filters=props.filters;}if(Object.keys(state).length){_this.state=state;}_this.onToggle=_this.onToggle.bind(_assertThisInitialized(_this));_this.onPageChange=_this.onPageChange.bind(_assertThisInitialized(_this));_this.onSort=_this.onSort.bind(_assertThisInitialized(_this));_this.onFilter=_this.onFilter.bind(_assertThisInitialized(_this));_this.onColumnResizeStart=_this.onColumnResizeStart.bind(_assertThisInitialized(_this));_this.onColumnDragStart=_this.onColumnDragStart.bind(_assertThisInitialized(_this));_this.onColumnDragOver=_this.onColumnDragOver.bind(_assertThisInitialized(_this));_this.onColumnDragLeave=_this.onColumnDragLeave.bind(_assertThisInitialized(_this));_this.onColumnDrop=_this.onColumnDrop.bind(_assertThisInitialized(_this));return _this;}_createClass(TreeTable,[{key:\"onToggle\",value:function onToggle(event){if(this.props.onToggle){this.props.onToggle(event);}else{this.setState({expandedKeys:event.value});}}},{key:\"onPageChange\",value:function onPageChange(event){if(this.props.onPage)this.props.onPage(event);else this.setState({first:event.first,rows:event.rows});}},{key:\"onSort\",value:function onSort(event){var sortField=event.sortField;var sortOrder=this.getSortField()===event.sortField?this.getSortOrder()*-1:this.props.defaultSortOrder;var multiSortMeta;this.columnSortable=event.sortable;this.columnSortFunction=event.sortFunction;if(this.props.sortMode==='multiple'){var metaKey=event.originalEvent.metaKey||event.originalEvent.ctrlKey;multiSortMeta=this.getMultiSortMeta();if(multiSortMeta&&multiSortMeta instanceof Array){var sortMeta=multiSortMeta.find(function(sortMeta){return sortMeta.field===sortField;});sortOrder=sortMeta?this.getCalculatedSortOrder(sortMeta.order):sortOrder;}if(!multiSortMeta||!metaKey){multiSortMeta=[];}multiSortMeta=this.addSortMeta({field:sortField,order:sortOrder},multiSortMeta);}if(this.props.onSort){this.props.onSort({sortField:sortField,sortOrder:sortOrder,multiSortMeta:multiSortMeta});}else{this.setState({sortField:sortField,sortOrder:sortOrder,first:0,multiSortMeta:multiSortMeta});}}},{key:\"getCalculatedSortOrder\",value:function getCalculatedSortOrder(currentOrder){return currentOrder*-1;}},{key:\"addSortMeta\",value:function addSortMeta(meta,multiSortMeta){var index=-1;for(var i=0;i<multiSortMeta.length;i++){if(multiSortMeta[i].field===meta.field){index=i;break;}}var value=_toConsumableArray(multiSortMeta);if(index>=0)value[index]=meta;else value.push(meta);return value;}},{key:\"sortSingle\",value:function sortSingle(data){return this.sortNodes(data);}},{key:\"sortNodes\",value:function sortNodes(data){var _this2=this;var value=_toConsumableArray(data);if(this.columnSortable&&this.columnSortable==='custom'&&this.columnSortFunction){value=this.columnSortFunction({field:this.getSortField(),order:this.getSortOrder()});}else{value.sort(function(node1,node2){var sortField=_this2.getSortField();var value1=ObjectUtils.resolveFieldData(node1.data,sortField);var value2=ObjectUtils.resolveFieldData(node2.data,sortField);var result=null;if(value1==null&&value2!=null)result=-1;else if(value1!=null&&value2==null)result=1;else if(value1==null&&value2==null)result=0;else if(typeof value1==='string'&&typeof value2==='string')result=value1.localeCompare(value2,undefined,{numeric:true});else result=value1<value2?-1:value1>value2?1:0;return _this2.getSortOrder()*result;});for(var i=0;i<value.length;i++){if(value[i].children&&value[i].children.length){value[i].children=this.sortNodes(value[i].children);}}}return value;}},{key:\"sortMultiple\",value:function sortMultiple(data){var multiSortMeta=this.getMultiSortMeta();if(multiSortMeta)return this.sortMultipleNodes(data,multiSortMeta);else return data;}},{key:\"sortMultipleNodes\",value:function sortMultipleNodes(data,multiSortMeta){var _this3=this;var value=_toConsumableArray(data);value.sort(function(node1,node2){return _this3.multisortField(node1,node2,multiSortMeta,0);});for(var i=0;i<value.length;i++){if(value[i].children&&value[i].children.length){value[i].children=this.sortMultipleNodes(value[i].children,multiSortMeta);}}return value;}},{key:\"multisortField\",value:function multisortField(node1,node2,multiSortMeta,index){var value1=ObjectUtils.resolveFieldData(node1.data,multiSortMeta[index].field);var value2=ObjectUtils.resolveFieldData(node2.data,multiSortMeta[index].field);var result=null;if(value1==null&&value2!=null)result=-1;else if(value1!=null&&value2==null)result=1;else if(value1==null&&value2==null)result=0;else{if(value1===value2){return multiSortMeta.length-1>index?this.multisortField(node1,node2,multiSortMeta,index+1):0;}else{if((typeof value1==='string'||value1 instanceof String)&&(typeof value2==='string'||value2 instanceof String))return multiSortMeta[index].order*value1.localeCompare(value2,undefined,{numeric:true});else result=value1<value2?-1:1;}}return multiSortMeta[index].order*result;}},{key:\"filter\",value:function filter(value,field,mode){this.onFilter({value:value,field:field,matchMode:mode});}},{key:\"onFilter\",value:function onFilter(event){var currentFilters=this.getFilters();var newFilters=currentFilters?_objectSpread({},currentFilters):{};if(!this.isFilterBlank(event.value))newFilters[event.field]={value:event.value,matchMode:event.matchMode};else if(newFilters[event.field])delete newFilters[event.field];if(this.props.onFilter){this.props.onFilter({filters:newFilters});}else{this.setState({first:0,filters:newFilters});}}},{key:\"hasFilter\",value:function hasFilter(){var filters=this.getFilters();return filters&&Object.keys(filters).length>0;}},{key:\"isFilterBlank\",value:function isFilterBlank(filter){if(filter!==null&&filter!==undefined){if(typeof filter==='string'&&filter.trim().length===0||filter instanceof Array&&filter.length===0)return true;else return false;}return true;}},{key:\"onColumnResizeStart\",value:function onColumnResizeStart(event){var containerLeft=DomHandler.getOffset(this.container).left;this.resizeColumn=event.columnEl;this.resizeColumnProps=event.column;this.columnResizing=true;this.lastResizerHelperX=event.originalEvent.pageX-containerLeft+this.container.scrollLeft;this.bindColumnResizeEvents();}},{key:\"onColumnResize\",value:function onColumnResize(event){var containerLeft=DomHandler.getOffset(this.container).left;DomHandler.addClass(this.container,'p-unselectable-text');this.resizerHelper.style.height=this.container.offsetHeight+'px';this.resizerHelper.style.top=0+'px';this.resizerHelper.style.left=event.pageX-containerLeft+this.container.scrollLeft+'px';this.resizerHelper.style.display='block';}},{key:\"onColumnResizeEnd\",value:function onColumnResizeEnd(event){var delta=this.resizerHelper.offsetLeft-this.lastResizerHelperX;var columnWidth=this.resizeColumn.offsetWidth;var newColumnWidth=columnWidth+delta;var minWidth=this.resizeColumn.style.minWidth||15;if(columnWidth+delta>parseInt(minWidth,10)){if(this.props.columnResizeMode==='fit'){var nextColumn=this.resizeColumn.nextElementSibling;var nextColumnWidth=nextColumn.offsetWidth-delta;if(newColumnWidth>15&&nextColumnWidth>15){if(this.props.scrollable){var scrollableView=this.findParentScrollableView(this.resizeColumn);var scrollableBodyTable=DomHandler.findSingle(scrollableView,'table.p-treetable-scrollable-body-table');var scrollableHeaderTable=DomHandler.findSingle(scrollableView,'table.p-treetable-scrollable-header-table');var scrollableFooterTable=DomHandler.findSingle(scrollableView,'table.p-treetable-scrollable-footer-table');var resizeColumnIndex=DomHandler.index(this.resizeColumn);this.resizeColGroup(scrollableHeaderTable,resizeColumnIndex,newColumnWidth,nextColumnWidth);this.resizeColGroup(scrollableBodyTable,resizeColumnIndex,newColumnWidth,nextColumnWidth);this.resizeColGroup(scrollableFooterTable,resizeColumnIndex,newColumnWidth,nextColumnWidth);}else{this.resizeColumn.style.width=newColumnWidth+'px';if(nextColumn){nextColumn.style.width=nextColumnWidth+'px';}}}}else if(this.props.columnResizeMode==='expand'){if(this.props.scrollable){var _scrollableView=this.findParentScrollableView(this.resizeColumn);var _scrollableBodyTable=DomHandler.findSingle(_scrollableView,'table.p-treetable-scrollable-body-table');var _scrollableHeaderTable=DomHandler.findSingle(_scrollableView,'table.p-treetable-scrollable-header-table');var _scrollableFooterTable=DomHandler.findSingle(_scrollableView,'table.p-treetable-scrollable-footer-table');_scrollableBodyTable.style.width=_scrollableBodyTable.offsetWidth+delta+'px';_scrollableHeaderTable.style.width=_scrollableHeaderTable.offsetWidth+delta+'px';if(_scrollableFooterTable){_scrollableFooterTable.style.width=_scrollableHeaderTable.offsetWidth+delta+'px';}var _resizeColumnIndex=DomHandler.index(this.resizeColumn);this.resizeColGroup(_scrollableHeaderTable,_resizeColumnIndex,newColumnWidth,null);this.resizeColGroup(_scrollableBodyTable,_resizeColumnIndex,newColumnWidth,null);this.resizeColGroup(_scrollableFooterTable,_resizeColumnIndex,newColumnWidth,null);}else{this.table.style.width=this.table.offsetWidth+delta+'px';this.resizeColumn.style.width=newColumnWidth+'px';}}if(this.props.onColumnResizeEnd){this.props.onColumnResizeEnd({element:this.resizeColumn,column:this.resizeColumnProps,delta:delta});}}this.resizerHelper.style.display='none';this.resizeColumn=null;this.resizeColumnProps=null;DomHandler.removeClass(this.container,'p-unselectable-text');this.unbindColumnResizeEvents();}},{key:\"findParentScrollableView\",value:function findParentScrollableView(column){if(column){var parent=column.parentElement;while(parent&&!DomHandler.hasClass(parent,'p-treetable-scrollable-view')){parent=parent.parentElement;}return parent;}else{return null;}}},{key:\"resizeColGroup\",value:function resizeColGroup(table,resizeColumnIndex,newColumnWidth,nextColumnWidth){if(table){var colGroup=table.children[0].nodeName==='COLGROUP'?table.children[0]:null;if(colGroup){var col=colGroup.children[resizeColumnIndex];var nextCol=col.nextElementSibling;col.style.width=newColumnWidth+'px';if(nextCol&&nextColumnWidth){nextCol.style.width=nextColumnWidth+'px';}}else{throw new Error(\"Scrollable tables require a colgroup to support resizable columns\");}}}},{key:\"bindColumnResizeEvents\",value:function bindColumnResizeEvents(){var _this4=this;this.documentColumnResizeListener=document.addEventListener('mousemove',function(event){if(_this4.columnResizing){_this4.onColumnResize(event);}});this.documentColumnResizeEndListener=document.addEventListener('mouseup',function(event){if(_this4.columnResizing){_this4.columnResizing=false;_this4.onColumnResizeEnd(event);}});}},{key:\"unbindColumnResizeEvents\",value:function unbindColumnResizeEvents(){document.removeEventListener('document',this.documentColumnResizeListener);document.removeEventListener('document',this.documentColumnResizeEndListener);}},{key:\"onColumnDragStart\",value:function onColumnDragStart(event){if(this.columnResizing){event.preventDefault();return;}this.iconWidth=DomHandler.getHiddenElementOuterWidth(this.reorderIndicatorUp);this.iconHeight=DomHandler.getHiddenElementOuterHeight(this.reorderIndicatorUp);this.draggedColumn=this.findParentHeader(event.target);event.dataTransfer.setData('text','b');// Firefox requires this to make dragging possible\n}},{key:\"onColumnDragOver\",value:function onColumnDragOver(event){var dropHeader=this.findParentHeader(event.target);if(this.props.reorderableColumns&&this.draggedColumn&&dropHeader){event.preventDefault();var containerOffset=DomHandler.getOffset(this.container);var dropHeaderOffset=DomHandler.getOffset(dropHeader);if(this.draggedColumn!==dropHeader){var targetLeft=dropHeaderOffset.left-containerOffset.left;//let targetTop =  containerOffset.top - dropHeaderOffset.top;\nvar columnCenter=dropHeaderOffset.left+dropHeader.offsetWidth/2;this.reorderIndicatorUp.style.top=dropHeaderOffset.top-containerOffset.top-(this.iconHeight-1)+'px';this.reorderIndicatorDown.style.top=dropHeaderOffset.top-containerOffset.top+dropHeader.offsetHeight+'px';if(event.pageX>columnCenter){this.reorderIndicatorUp.style.left=targetLeft+dropHeader.offsetWidth-Math.ceil(this.iconWidth/2)+'px';this.reorderIndicatorDown.style.left=targetLeft+dropHeader.offsetWidth-Math.ceil(this.iconWidth/2)+'px';this.dropPosition=1;}else{this.reorderIndicatorUp.style.left=targetLeft-Math.ceil(this.iconWidth/2)+'px';this.reorderIndicatorDown.style.left=targetLeft-Math.ceil(this.iconWidth/2)+'px';this.dropPosition=-1;}this.reorderIndicatorUp.style.display='block';this.reorderIndicatorDown.style.display='block';}}}},{key:\"onColumnDragLeave\",value:function onColumnDragLeave(event){if(this.props.reorderableColumns&&this.draggedColumn){event.preventDefault();this.reorderIndicatorUp.style.display='none';this.reorderIndicatorDown.style.display='none';}}},{key:\"onColumnDrop\",value:function onColumnDrop(event){event.preventDefault();if(this.draggedColumn){var dragIndex=DomHandler.index(this.draggedColumn);var dropIndex=DomHandler.index(this.findParentHeader(event.target));var allowDrop=dragIndex!==dropIndex;if(allowDrop&&(dropIndex-dragIndex===1&&this.dropPosition===-1||dragIndex-dropIndex===1&&this.dropPosition===1)){allowDrop=false;}if(allowDrop){var columns=this.state.columnOrder?this.getColumns():React.Children.toArray(this.props.children);ObjectUtils.reorderArray(columns,dragIndex,dropIndex);var columnOrder=[];var _iterator=_createForOfIteratorHelper(columns),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var column=_step.value;columnOrder.push(column.props.columnKey||column.props.field);}}catch(err){_iterator.e(err);}finally{_iterator.f();}this.setState({columnOrder:columnOrder});if(this.props.onColReorder){this.props.onColReorder({dragIndex:dragIndex,dropIndex:dropIndex,columns:columns});}}this.reorderIndicatorUp.style.display='none';this.reorderIndicatorDown.style.display='none';this.draggedColumn.draggable=false;this.draggedColumn=null;this.dropPosition=null;}}},{key:\"findParentHeader\",value:function findParentHeader(element){if(element.nodeName==='TH'){return element;}else{var parent=element.parentElement;while(parent.nodeName!=='TH'){parent=parent.parentElement;if(!parent)break;}return parent;}}},{key:\"getExpandedKeys\",value:function getExpandedKeys(){return this.props.onToggle?this.props.expandedKeys:this.state.expandedKeys;}},{key:\"getFirst\",value:function getFirst(){return this.props.onPage?this.props.first:this.state.first;}},{key:\"getRows\",value:function getRows(){return this.props.onPage?this.props.rows:this.state.rows;}},{key:\"getSortField\",value:function getSortField(){return this.props.onSort?this.props.sortField:this.state.sortField;}},{key:\"getSortOrder\",value:function getSortOrder(){return this.props.onSort?this.props.sortOrder:this.state.sortOrder;}},{key:\"getMultiSortMeta\",value:function getMultiSortMeta(){return this.props.onSort?this.props.multiSortMeta:this.state.multiSortMeta;}},{key:\"getFilters\",value:function getFilters(){return this.props.onFilter?this.props.filters:this.state.filters;}},{key:\"findColumnByKey\",value:function findColumnByKey(columns,key){if(columns&&columns.length){for(var i=0;i<columns.length;i++){var child=columns[i];if(child.props.columnKey===key||child.props.field===key){return child;}}}return null;}},{key:\"getColumns\",value:function getColumns(){var columns=React.Children.toArray(this.props.children);if(this.props.reorderableColumns&&this.state.columnOrder){var orderedColumns=[];for(var i=0;i<this.state.columnOrder.length;i++){orderedColumns.push(this.findColumnByKey(columns,this.state.columnOrder[i]));}return orderedColumns;}else{return columns;}}},{key:\"getTotalRecords\",value:function getTotalRecords(data){return this.props.lazy?this.props.totalRecords:data?data.length:0;}},{key:\"isSingleSelectionMode\",value:function isSingleSelectionMode(){return this.props.selectionMode&&this.props.selectionMode==='single';}},{key:\"isMultipleSelectionMode\",value:function isMultipleSelectionMode(){return this.props.selectionMode&&this.props.selectionMode==='multiple';}},{key:\"isRowSelectionMode\",value:function isRowSelectionMode(){return this.isSingleSelectionMode()||this.isMultipleSelectionMode();}},{key:\"getFrozenColumns\",value:function getFrozenColumns(columns){var frozenColumns=null;var _iterator2=_createForOfIteratorHelper(columns),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var col=_step2.value;if(col.props.frozen){frozenColumns=frozenColumns||[];frozenColumns.push(col);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return frozenColumns;}},{key:\"getScrollableColumns\",value:function getScrollableColumns(columns){var scrollableColumns=null;var _iterator3=_createForOfIteratorHelper(columns),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var col=_step3.value;if(!col.props.frozen){scrollableColumns=scrollableColumns||[];scrollableColumns.push(col);}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return scrollableColumns;}},{key:\"filterLocal\",value:function filterLocal(value){var filteredNodes=[];var filters=this.getFilters();var columns=React.Children.toArray(this.props.children);var isStrictMode=this.props.filterMode==='strict';var _iterator4=_createForOfIteratorHelper(value),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var node=_step4.value;var copyNode=_objectSpread({},node);var localMatch=true;var globalMatch=false;for(var j=0;j<columns.length;j++){var col=columns[j];var filterMeta=filters?filters[col.props.field]:null;var filterField=col.props.field;var filterValue=void 0,filterConstraint=void 0,paramsWithoutNode=void 0;//local\nif(filterMeta){var filterMatchMode=filterMeta.matchMode||col.props.filterMatchMode;filterValue=filterMeta.value;filterConstraint=filterMatchMode==='custom'?col.props.filterFunction:FilterUtils[filterMatchMode];paramsWithoutNode={filterField:filterField,filterValue:filterValue,filterConstraint:filterConstraint,isStrictMode:isStrictMode};if(isStrictMode&&!(this.findFilteredNodes(copyNode,paramsWithoutNode)||this.isFilterMatched(copyNode,paramsWithoutNode))||!isStrictMode&&!(this.isFilterMatched(copyNode,paramsWithoutNode)||this.findFilteredNodes(copyNode,paramsWithoutNode))){localMatch=false;}if(!localMatch){break;}}//global\nif(this.props.globalFilter&&!globalMatch){var copyNodeForGlobal=_objectSpread({},copyNode);filterValue=this.props.globalFilter;filterConstraint=FilterUtils['contains'];paramsWithoutNode={filterField:filterField,filterValue:filterValue,filterConstraint:filterConstraint,isStrictMode:isStrictMode};if(isStrictMode&&(this.findFilteredNodes(copyNodeForGlobal,paramsWithoutNode)||this.isFilterMatched(copyNodeForGlobal,paramsWithoutNode))||!isStrictMode&&(this.isFilterMatched(copyNodeForGlobal,paramsWithoutNode)||this.findFilteredNodes(copyNodeForGlobal,paramsWithoutNode))){globalMatch=true;copyNode=copyNodeForGlobal;}}}var matches=localMatch;if(this.props.globalFilter){matches=localMatch&&globalMatch;}if(matches){filteredNodes.push(copyNode);}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}return filteredNodes;}},{key:\"findFilteredNodes\",value:function findFilteredNodes(node,paramsWithoutNode){if(node){var matched=false;if(node.children){var childNodes=_toConsumableArray(node.children);node.children=[];var _iterator5=_createForOfIteratorHelper(childNodes),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var childNode=_step5.value;var copyChildNode=_objectSpread({},childNode);if(this.isFilterMatched(copyChildNode,paramsWithoutNode)){matched=true;node.children.push(copyChildNode);}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}if(matched){return true;}}}},{key:\"isFilterMatched\",value:function isFilterMatched(node,_ref){var filterField=_ref.filterField,filterValue=_ref.filterValue,filterConstraint=_ref.filterConstraint,isStrictMode=_ref.isStrictMode;var matched=false;var dataFieldValue=ObjectUtils.resolveFieldData(node.data,filterField);if(filterConstraint(dataFieldValue,filterValue,this.props.filterLocale)){matched=true;}if(!matched||isStrictMode&&!this.isNodeLeaf(node)){matched=this.findFilteredNodes(node,{filterField:filterField,filterValue:filterValue,filterConstraint:filterConstraint,isStrictMode:isStrictMode})||matched;}return matched;}},{key:\"isNodeLeaf\",value:function isNodeLeaf(node){return node.leaf===false?false:!(node.children&&node.children.length);}},{key:\"processValue\",value:function processValue(){var data=this.props.value;if(!this.props.lazy){if(data&&data.length){if(this.getSortField()||this.getMultiSortMeta()){if(this.props.sortMode==='single')data=this.sortSingle(data);else if(this.props.sortMode==='multiple')data=this.sortMultiple(data);}var localFilters=this.getFilters();if(localFilters||this.props.globalFilter){data=this.filterLocal(data,localFilters);}}}return data;}},{key:\"createTableHeader\",value:function createTableHeader(columns,columnGroup){return/*#__PURE__*/React.createElement(TreeTableHeader,{columns:columns,columnGroup:columnGroup,tabIndex:this.props.tabIndex,onSort:this.onSort,sortField:this.getSortField(),sortOrder:this.getSortOrder(),multiSortMeta:this.getMultiSortMeta(),resizableColumns:this.props.resizableColumns,onResizeStart:this.onColumnResizeStart,reorderableColumns:this.props.reorderableColumns,onDragStart:this.onColumnDragStart,onDragOver:this.onColumnDragOver,onDragLeave:this.onColumnDragLeave,onDrop:this.onColumnDrop,onFilter:this.onFilter,filters:this.getFilters()});}},{key:\"createTableFooter\",value:function createTableFooter(columns,columnGroup){return/*#__PURE__*/React.createElement(TreeTableFooter,{columns:columns,columnGroup:columnGroup});}},{key:\"createTableBody\",value:function createTableBody(value,columns){return/*#__PURE__*/React.createElement(TreeTableBody,{value:value,columns:columns,expandedKeys:this.getExpandedKeys(),onToggle:this.onToggle,onExpand:this.props.onExpand,onCollapse:this.props.onCollapse,paginator:this.props.paginator,first:this.getFirst(),rows:this.getRows(),selectionMode:this.props.selectionMode,selectionKeys:this.props.selectionKeys,onSelectionChange:this.props.onSelectionChange,metaKeySelection:this.props.metaKeySelection,onRowClick:this.props.onRowClick,onSelect:this.props.onSelect,onUnselect:this.props.onUnselect,propagateSelectionUp:this.props.propagateSelectionUp,propagateSelectionDown:this.props.propagateSelectionDown,lazy:this.props.lazy,rowClassName:this.props.rowClassName,emptyMessage:this.props.emptyMessage,loading:this.props.loading,contextMenuSelectionKey:this.props.contextMenuSelectionKey,onContextMenuSelectionChange:this.props.onContextMenuSelectionChange,onContextMenu:this.props.onContextMenu});}},{key:\"createPaginator\",value:function createPaginator(position,totalRecords){var className=classNames('p-paginator-'+position,this.props.paginatorClassName);return/*#__PURE__*/React.createElement(Paginator,{first:this.getFirst(),rows:this.getRows(),pageLinkSize:this.props.pageLinkSize,className:className,onPageChange:this.onPageChange,template:this.props.paginatorTemplate,totalRecords:totalRecords,rowsPerPageOptions:this.props.rowsPerPageOptions,currentPageReportTemplate:this.props.currentPageReportTemplate,leftContent:this.props.paginatorLeft,rightContent:this.props.paginatorRight,alwaysShow:this.props.alwaysShowPaginator,dropdownAppendTo:this.props.paginatorDropdownAppendTo});}},{key:\"createScrollableView\",value:function createScrollableView(value,columns,frozen,headerColumnGroup,footerColumnGroup){var header=this.createTableHeader(columns,headerColumnGroup);var footer=this.createTableFooter(columns,footerColumnGroup);var body=this.createTableBody(value,columns);return/*#__PURE__*/React.createElement(TreeTableScrollableView,{columns:columns,header:header,body:body,footer:footer,scrollHeight:this.props.scrollHeight,frozen:frozen,frozenWidth:this.props.frozenWidth});}},{key:\"renderScrollableTable\",value:function renderScrollableTable(value){var columns=this.getColumns();var frozenColumns=this.getFrozenColumns(columns);var scrollableColumns=frozenColumns?this.getScrollableColumns(columns):columns;var frozenView,scrollableView;if(frozenColumns){frozenView=this.createScrollableView(value,frozenColumns,true,this.props.frozenHeaderColumnGroup,this.props.frozenFooterColumnGroup);}scrollableView=this.createScrollableView(value,scrollableColumns,false,this.props.headerColumnGroup,this.props.footerColumnGroup);return/*#__PURE__*/React.createElement(\"div\",{className:\"p-treetable-scrollable-wrapper\"},frozenView,scrollableView);}},{key:\"renderRegularTable\",value:function renderRegularTable(value){var _this5=this;var columns=this.getColumns();var header=this.createTableHeader(columns,this.props.headerColumnGroup);var footer=this.createTableFooter(columns,this.props.footerColumnGroup);var body=this.createTableBody(value,columns);return/*#__PURE__*/React.createElement(\"div\",{className:\"p-treetable-wrapper\"},/*#__PURE__*/React.createElement(\"table\",{style:this.props.tableStyle,className:this.props.tableClassName,ref:function ref(el){return _this5.table=el;}},header,footer,body));}},{key:\"renderTable\",value:function renderTable(value){if(this.props.scrollable)return this.renderScrollableTable(value);else return this.renderRegularTable(value);}},{key:\"renderLoader\",value:function renderLoader(){if(this.props.loading){var iconClassName=classNames('p-treetable-loading-icon pi-spin',this.props.loadingIcon);return/*#__PURE__*/React.createElement(\"div\",{className:\"p-treetable-loading\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-treetable-loading-overlay p-component-overlay\"},/*#__PURE__*/React.createElement(\"i\",{className:iconClassName})));}return null;}},{key:\"render\",value:function render(){var _this6=this;var value=this.processValue();var className=classNames('p-treetable p-component',{'p-treetable-hoverable-rows':this.isRowSelectionMode(),'p-treetable-resizable':this.props.resizableColumns,'p-treetable-resizable-fit':this.props.resizableColumns&&this.props.columnResizeMode==='fit','p-treetable-auto-layout':this.props.autoLayout},this.props.className);var table=this.renderTable(value);var totalRecords=this.getTotalRecords(value);var headerFacet=this.props.header&&/*#__PURE__*/React.createElement(\"div\",{className:\"p-treetable-header\"},this.props.header);var footerFacet=this.props.footer&&/*#__PURE__*/React.createElement(\"div\",{className:\"p-treetable-footer\"},this.props.footer);var paginatorTop=this.props.paginator&&this.props.paginatorPosition!=='bottom'&&this.createPaginator('top',totalRecords);var paginatorBottom=this.props.paginator&&this.props.paginatorPosition!=='top'&&this.createPaginator('bottom',totalRecords);var loader=this.renderLoader();var resizeHelper=this.props.resizableColumns&&/*#__PURE__*/React.createElement(\"div\",{ref:function ref(el){_this6.resizerHelper=el;},className:\"p-column-resizer-helper\",style:{display:'none'}});var reorderIndicatorUp=this.props.reorderableColumns&&/*#__PURE__*/React.createElement(\"span\",{ref:function ref(el){return _this6.reorderIndicatorUp=el;},className:\"pi pi-arrow-down p-datatable-reorder-indicator-up\",style:{position:'absolute',display:'none'}});var reorderIndicatorDown=this.props.reorderableColumns&&/*#__PURE__*/React.createElement(\"span\",{ref:function ref(el){return _this6.reorderIndicatorDown=el;},className:\"pi pi-arrow-up p-datatable-reorder-indicator-down\",style:{position:'absolute',display:'none'}});return/*#__PURE__*/React.createElement(\"div\",{id:this.props.id,className:className,style:this.props.style,ref:function ref(el){return _this6.container=el;},\"data-scrollselectors\":\".p-treetable-scrollable-body\"},loader,headerFacet,paginatorTop,table,paginatorBottom,footerFacet,resizeHelper,reorderIndicatorUp,reorderIndicatorDown);}}]);return TreeTable;}(Component);TreeTable.defaultProps={id:null,value:null,header:null,footer:null,style:null,className:null,tableStyle:null,tableClassName:null,expandedKeys:null,paginator:false,paginatorPosition:'bottom',alwaysShowPaginator:true,paginatorClassName:null,paginatorTemplate:'FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown',paginatorLeft:null,paginatorRight:null,paginatorDropdownAppendTo:null,pageLinkSize:5,rowsPerPageOptions:null,currentPageReportTemplate:'({currentPage} of {totalPages})',first:null,rows:null,totalRecords:null,lazy:false,sortField:null,sortOrder:null,multiSortMeta:null,sortMode:'single',defaultSortOrder:1,selectionMode:null,selectionKeys:null,contextMenuSelectionKey:null,metaKeySelection:true,propagateSelectionUp:true,propagateSelectionDown:true,autoLayout:false,rowClassName:null,loading:false,loadingIcon:'pi pi-spinner',tabIndex:0,scrollable:false,scrollHeight:null,reorderableColumns:false,headerColumnGroup:null,footerColumnGroup:null,frozenHeaderColumnGroup:null,frozenFooterColumnGroup:null,frozenWidth:null,resizableColumns:false,columnResizeMode:'fit',emptyMessage:\"No records found\",filters:null,globalFilter:null,filterMode:'lenient',filterLocale:undefined,onFilter:null,onExpand:null,onCollapse:null,onToggle:null,onPage:null,onSort:null,onSelect:null,onUnselect:null,onRowClick:null,onSelectionChange:null,onContextMenuSelectionChange:null,onColumnResizeEnd:null,onColReorder:null,onContextMenu:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/components/treetable/TreeTable.js"],"names":["React","Component","classNames","ObjectUtils","FilterUtils","DomHandler","Paginator","TreeTableHeader","TreeTableBody","TreeTableFooter","TreeTableScrollableView","TreeTable","props","state","onToggle","expandedKeys","onPage","first","rows","onSort","sortField","sortOrder","multiSortMeta","onFilter","filters","Object","keys","length","bind","onPageChange","onColumnResizeStart","onColumnDragStart","onColumnDragOver","onColumnDragLeave","onColumnDrop","event","setState","value","getSortField","getSortOrder","defaultSortOrder","columnSortable","sortable","columnSortFunction","sortFunction","sortMode","metaKey","originalEvent","ctrlKey","getMultiSortMeta","Array","sortMeta","find","field","getCalculatedSortOrder","order","addSortMeta","currentOrder","meta","index","i","push","data","sortNodes","sort","node1","node2","value1","resolveFieldData","value2","result","localeCompare","undefined","numeric","children","sortMultipleNodes","multisortField","String","mode","matchMode","currentFilters","getFilters","newFilters","isFilterBlank","filter","trim","containerLeft","getOffset","container","left","resizeColumn","columnEl","resizeColumnProps","column","columnResizing","lastResizerHelperX","pageX","scrollLeft","bindColumnResizeEvents","addClass","resizerHelper","style","height","offsetHeight","top","display","delta","offsetLeft","columnWidth","offsetWidth","newColumnWidth","minWidth","parseInt","columnResizeMode","nextColumn","nextElementSibling","nextColumnWidth","scrollable","scrollableView","findParentScrollableView","scrollableBodyTable","findSingle","scrollableHeaderTable","scrollableFooterTable","resizeColumnIndex","resizeColGroup","width","table","onColumnResizeEnd","element","removeClass","unbindColumnResizeEvents","parent","parentElement","hasClass","colGroup","nodeName","col","nextCol","Error","documentColumnResizeListener","document","addEventListener","onColumnResize","documentColumnResizeEndListener","removeEventListener","preventDefault","iconWidth","getHiddenElementOuterWidth","reorderIndicatorUp","iconHeight","getHiddenElementOuterHeight","draggedColumn","findParentHeader","target","dataTransfer","setData","dropHeader","reorderableColumns","containerOffset","dropHeaderOffset","targetLeft","columnCenter","reorderIndicatorDown","Math","ceil","dropPosition","dragIndex","dropIndex","allowDrop","columns","columnOrder","getColumns","Children","toArray","reorderArray","columnKey","onColReorder","draggable","key","child","orderedColumns","findColumnByKey","lazy","totalRecords","selectionMode","isSingleSelectionMode","isMultipleSelectionMode","frozenColumns","frozen","scrollableColumns","filteredNodes","isStrictMode","filterMode","node","copyNode","localMatch","globalMatch","j","filterMeta","filterField","filterValue","filterConstraint","paramsWithoutNode","filterMatchMode","filterFunction","findFilteredNodes","isFilterMatched","globalFilter","copyNodeForGlobal","matches","matched","childNodes","childNode","copyChildNode","dataFieldValue","filterLocale","isNodeLeaf","leaf","sortSingle","sortMultiple","localFilters","filterLocal","columnGroup","tabIndex","resizableColumns","getExpandedKeys","onExpand","onCollapse","paginator","getFirst","getRows","selectionKeys","onSelectionChange","metaKeySelection","onRowClick","onSelect","onUnselect","propagateSelectionUp","propagateSelectionDown","rowClassName","emptyMessage","loading","contextMenuSelectionKey","onContextMenuSelectionChange","onContextMenu","position","className","paginatorClassName","pageLinkSize","paginatorTemplate","rowsPerPageOptions","currentPageReportTemplate","paginatorLeft","paginatorRight","alwaysShowPaginator","paginatorDropdownAppendTo","headerColumnGroup","footerColumnGroup","header","createTableHeader","footer","createTableFooter","body","createTableBody","scrollHeight","frozenWidth","getFrozenColumns","getScrollableColumns","frozenView","createScrollableView","frozenHeaderColumnGroup","frozenFooterColumnGroup","tableStyle","tableClassName","el","renderScrollableTable","renderRegularTable","iconClassName","loadingIcon","processValue","isRowSelectionMode","autoLayout","renderTable","getTotalRecords","headerFacet","footerFacet","paginatorTop","paginatorPosition","createPaginator","paginatorBottom","loader","renderLoader","resizeHelper","id","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport ObjectUtils from '../utils/ObjectUtils';\r\nimport FilterUtils from '../utils/FilterUtils';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport { Paginator } from '../paginator/Paginator';\r\nimport { TreeTableHeader } from './TreeTableHeader';\r\nimport { TreeTableBody } from './TreeTableBody';\r\nimport { TreeTableFooter } from './TreeTableFooter';\r\nimport { TreeTableScrollableView} from './TreeTableScrollableView';\r\n\r\nexport class TreeTable extends Component {\r\n\r\n    static defaultProps = {\r\n        id: null,\r\n        value: null,\r\n        header: null,\r\n        footer: null,\r\n        style: null,\r\n        className: null,\r\n        tableStyle: null,\r\n        tableClassName: null,\r\n        expandedKeys: null,\r\n        paginator: false,\r\n        paginatorPosition: 'bottom',\r\n        alwaysShowPaginator: true,\r\n        paginatorClassName: null,\r\n        paginatorTemplate: 'FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown',\r\n        paginatorLeft:null,\r\n        paginatorRight: null,\r\n        paginatorDropdownAppendTo: null,\r\n        pageLinkSize: 5,\r\n        rowsPerPageOptions: null,\r\n        currentPageReportTemplate: '({currentPage} of {totalPages})',\r\n        first: null,\r\n        rows: null,\r\n        totalRecords: null,\r\n        lazy: false,\r\n        sortField: null,\r\n        sortOrder: null,\r\n        multiSortMeta: null,\r\n        sortMode: 'single',\r\n        defaultSortOrder: 1,\r\n        selectionMode: null,\r\n        selectionKeys: null,\r\n        contextMenuSelectionKey: null,\r\n        metaKeySelection: true,\r\n        propagateSelectionUp: true,\r\n        propagateSelectionDown: true,\r\n        autoLayout: false,\r\n        rowClassName: null,\r\n        loading: false,\r\n        loadingIcon: 'pi pi-spinner',\r\n        tabIndex: 0,\r\n        scrollable: false,\r\n        scrollHeight: null,\r\n        reorderableColumns: false,\r\n        headerColumnGroup: null,\r\n        footerColumnGroup: null,\r\n        frozenHeaderColumnGroup: null,\r\n        frozenFooterColumnGroup: null,\r\n        frozenWidth: null,\r\n        resizableColumns: false,\r\n        columnResizeMode: 'fit',\r\n        emptyMessage: \"No records found\",\r\n        filters: null,\r\n        globalFilter: null,\r\n        filterMode: 'lenient',\r\n        filterLocale: undefined,\r\n        onFilter: null,\r\n        onExpand: null,\r\n        onCollapse: null,\r\n        onToggle: null,\r\n        onPage: null,\r\n        onSort: null,\r\n        onSelect: null,\r\n        onUnselect: null,\r\n        onRowClick: null,\r\n        onSelectionChange: null,\r\n        onContextMenuSelectionChange: null,\r\n        onColumnResizeEnd: null,\r\n        onColReorder: null,\r\n        onContextMenu: null\r\n    }\r\n\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        value: PropTypes.any,\r\n        header: PropTypes.any,\r\n        footer: PropTypes.any,\r\n        style: PropTypes.object,\r\n        className: PropTypes.string,\r\n        tableStyle: PropTypes.any,\r\n        tableClassName: PropTypes.string,\r\n        expandedKeys: PropTypes.object,\r\n        paginator: PropTypes.bool,\r\n        paginatorPosition: PropTypes.string,\r\n        alwaysShowPaginator: PropTypes.bool,\r\n        paginatorClassName: PropTypes.string,\r\n        paginatorTemplate: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n        paginatorLeft: PropTypes.any,\r\n        paginatorRight: PropTypes.any,\r\n        paginatorDropdownAppendTo: PropTypes.any,\r\n        pageLinkSize: PropTypes.number,\r\n        rowsPerPageOptions: PropTypes.array,\r\n        currentPageReportTemplate: PropTypes.string,\r\n        first: PropTypes.number,\r\n        rows: PropTypes.number,\r\n        totalRecords: PropTypes.number,\r\n        lazy: PropTypes.bool,\r\n        sortField: PropTypes.string,\r\n        sortOrder: PropTypes.number,\r\n        multiSortMeta: PropTypes.array,\r\n        sortMode: PropTypes.string,\r\n        defaultSortOrder: PropTypes.number,\r\n        selectionMode: PropTypes.string,\r\n        selectionKeys: PropTypes.any,\r\n        contextMenuSelectionKey: PropTypes.any,\r\n        metaKeySelection: PropTypes.bool,\r\n        propagateSelectionUp: PropTypes.bool,\r\n        propagateSelectionDown: PropTypes.bool,\r\n        autoLayout: PropTypes.bool,\r\n        rowClassName: PropTypes.func,\r\n        loading: PropTypes.bool,\r\n        loadingIcon: PropTypes.string,\r\n        tabIndex: PropTypes.number,\r\n        scrollable: PropTypes.bool,\r\n        scrollHeight: PropTypes.string,\r\n        reorderableColumns: PropTypes.bool,\r\n        headerColumnGroup: PropTypes.any,\r\n        footerColumnGroup: PropTypes.any,\r\n        frozenHeaderColumnGroup: PropTypes.any,\r\n        frozenFooterColumnGroup: PropTypes.any,\r\n        frozenWidth: PropTypes.string,\r\n        resizableColumns: PropTypes.bool,\r\n        columnResizeMode: PropTypes.string,\r\n        emptyMessage: PropTypes.string,\r\n        filters: PropTypes.object,\r\n        globalFilter: PropTypes.any,\r\n        filterMode: PropTypes.string,\r\n        filterLocale: PropTypes.string,\r\n        onFilter: PropTypes.func,\r\n        onExpand: PropTypes.func,\r\n        onCollapse: PropTypes.func,\r\n        onToggle: PropTypes.func,\r\n        onPage: PropTypes.func,\r\n        onSort: PropTypes.func,\r\n        onSelect: PropTypes.func,\r\n        onUnselect: PropTypes.func,\r\n        onRowClick: PropTypes.func,\r\n        onSelectionChange: PropTypes.func,\r\n        onContextMenuSelectionChange: PropTypes.func,\r\n        onColumnResizeEnd: PropTypes.func,\r\n        onColReorder: PropTypes.func,\r\n        onContextMenu: PropTypes.func\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        let state = {};\r\n\r\n        if (!this.props.onToggle) {\r\n            this.state = {\r\n                expandedKeys: this.props.expandedKeys\r\n            };\r\n        }\r\n\r\n        if (!this.props.onPage) {\r\n            state.first = props.first;\r\n            state.rows = props.rows;\r\n        }\r\n\r\n        if (!this.props.onSort) {\r\n            state.sortField = props.sortField;\r\n            state.sortOrder = props.sortOrder;\r\n            state.multiSortMeta = props.multiSortMeta;\r\n        }\r\n\r\n        if (!this.props.onFilter) {\r\n            state.filters = props.filters;\r\n        }\r\n\r\n        if (Object.keys(state).length) {\r\n            this.state = state;\r\n        }\r\n\r\n        this.onToggle = this.onToggle.bind(this);\r\n        this.onPageChange = this.onPageChange.bind(this);\r\n        this.onSort = this.onSort.bind(this);\r\n        this.onFilter = this.onFilter.bind(this);\r\n        this.onColumnResizeStart = this.onColumnResizeStart.bind(this);\r\n        this.onColumnDragStart = this.onColumnDragStart.bind(this);\r\n        this.onColumnDragOver = this.onColumnDragOver.bind(this);\r\n        this.onColumnDragLeave = this.onColumnDragLeave.bind(this);\r\n        this.onColumnDrop = this.onColumnDrop.bind(this);\r\n    }\r\n\r\n    onToggle(event) {\r\n        if (this.props.onToggle) {\r\n            this.props.onToggle(event);\r\n        }\r\n        else {\r\n            this.setState({\r\n                expandedKeys: event.value\r\n            });\r\n        }\r\n    }\r\n\r\n    onPageChange(event) {\r\n        if (this.props.onPage)\r\n            this.props.onPage(event);\r\n        else\r\n            this.setState({first: event.first, rows: event.rows});\r\n    }\r\n\r\n    onSort(event) {\r\n        let sortField = event.sortField;\r\n        let sortOrder = (this.getSortField() === event.sortField) ? this.getSortOrder() * -1 : this.props.defaultSortOrder;\r\n        let multiSortMeta;\r\n\r\n        this.columnSortable = event.sortable;\r\n        this.columnSortFunction = event.sortFunction;\r\n\r\n        if (this.props.sortMode === 'multiple') {\r\n            let metaKey = event.originalEvent.metaKey || event.originalEvent.ctrlKey;\r\n            multiSortMeta = this.getMultiSortMeta();\r\n\r\n            if (multiSortMeta && multiSortMeta instanceof Array) {\r\n                const sortMeta = multiSortMeta.find(sortMeta => sortMeta.field === sortField);\r\n                sortOrder = sortMeta ? this.getCalculatedSortOrder(sortMeta.order) : sortOrder;\r\n            }\r\n\r\n            if (!multiSortMeta || !metaKey) {\r\n                multiSortMeta = [];\r\n            }\r\n\r\n            multiSortMeta = this.addSortMeta({field: sortField, order: sortOrder}, multiSortMeta);\r\n        }\r\n\r\n        if (this.props.onSort) {\r\n            this.props.onSort({\r\n                sortField: sortField,\r\n                sortOrder: sortOrder,\r\n                multiSortMeta: multiSortMeta\r\n            });\r\n        }\r\n        else {\r\n            this.setState({\r\n                sortField: sortField,\r\n                sortOrder: sortOrder,\r\n                first: 0,\r\n                multiSortMeta: multiSortMeta\r\n            });\r\n        }\r\n    }\r\n\r\n    getCalculatedSortOrder(currentOrder) {\r\n        return currentOrder * -1;\r\n    }\r\n\r\n    addSortMeta(meta, multiSortMeta) {\r\n        let index = -1;\r\n        for (let i = 0; i < multiSortMeta.length; i++) {\r\n            if (multiSortMeta[i].field === meta.field) {\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        let value = [...multiSortMeta];\r\n        if(index >= 0)\r\n            value[index] = meta;\r\n        else\r\n            value.push(meta);\r\n\r\n        return value;\r\n    }\r\n\r\n    sortSingle(data) {\r\n        return this.sortNodes(data);\r\n    }\r\n\r\n    sortNodes(data) {\r\n        let value = [...data];\r\n\r\n        if(this.columnSortable && this.columnSortable === 'custom' && this.columnSortFunction) {\r\n            value = this.columnSortFunction({\r\n                field: this.getSortField(),\r\n                order: this.getSortOrder()\r\n            });\r\n        }\r\n        else {\r\n            value.sort((node1, node2) => {\r\n                const sortField = this.getSortField();\r\n                const value1 = ObjectUtils.resolveFieldData(node1.data, sortField);\r\n                const value2 = ObjectUtils.resolveFieldData(node2.data, sortField);\r\n                let result = null;\r\n\r\n                if (value1 == null && value2 != null)\r\n                    result = -1;\r\n                else if (value1 != null && value2 == null)\r\n                    result = 1;\r\n                else if (value1 == null && value2 == null)\r\n                    result = 0;\r\n                else if (typeof value1 === 'string' && typeof value2 === 'string')\r\n                    result = value1.localeCompare(value2, undefined, { numeric: true });\r\n                else\r\n                    result = (value1 < value2) ? -1 : (value1 > value2) ? 1 : 0;\r\n\r\n                return (this.getSortOrder() * result);\r\n            });\r\n\r\n            for (let i = 0; i < value.length; i++) {\r\n                if (value[i].children && value[i].children.length) {\r\n                    value[i].children = this.sortNodes(value[i].children);\r\n                }\r\n            }\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    sortMultiple(data) {\r\n        let multiSortMeta = this.getMultiSortMeta();\r\n\r\n        if (multiSortMeta)\r\n            return this.sortMultipleNodes(data, multiSortMeta);\r\n        else\r\n            return data;\r\n    }\r\n\r\n    sortMultipleNodes(data, multiSortMeta) {\r\n        let value = [...data];\r\n        value.sort((node1, node2) => {\r\n            return this.multisortField(node1, node2, multiSortMeta, 0);\r\n        });\r\n\r\n        for (let i = 0; i < value.length; i++) {\r\n            if (value[i].children && value[i].children.length) {\r\n                value[i].children = this.sortMultipleNodes(value[i].children, multiSortMeta);\r\n            }\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    multisortField(node1, node2, multiSortMeta, index) {\r\n        const value1 = ObjectUtils.resolveFieldData(node1.data, multiSortMeta[index].field);\r\n        const value2 = ObjectUtils.resolveFieldData(node2.data, multiSortMeta[index].field);\r\n        let result = null;\r\n\r\n        if (value1 == null && value2 != null)\r\n            result = -1;\r\n        else if (value1 != null && value2 == null)\r\n            result = 1;\r\n        else if (value1 == null && value2 == null)\r\n            result = 0;\r\n        else {\r\n            if (value1 === value2)  {\r\n                return (multiSortMeta.length - 1) > (index) ? (this.multisortField(node1, node2, multiSortMeta, index + 1)) : 0;\r\n            }\r\n            else {\r\n                if ((typeof value1 === 'string' || value1 instanceof String) && (typeof value2 === 'string' || value2 instanceof String))\r\n                    return (multiSortMeta[index].order * value1.localeCompare(value2, undefined, { numeric: true }));\r\n                else\r\n                    result = (value1 < value2) ? -1 : 1;\r\n            }\r\n        }\r\n\r\n        return (multiSortMeta[index].order * result);\r\n    }\r\n\r\n    filter(value, field, mode) {\r\n        this.onFilter({\r\n            value: value,\r\n            field: field,\r\n            matchMode: mode\r\n        });\r\n    }\r\n\r\n    onFilter(event) {\r\n        let currentFilters = this.getFilters();\r\n        let newFilters = currentFilters ? {...currentFilters} : {};\r\n\r\n        if(!this.isFilterBlank(event.value))\r\n            newFilters[event.field] = {value: event.value, matchMode: event.matchMode};\r\n        else if(newFilters[event.field])\r\n            delete newFilters[event.field];\r\n\r\n        if (this.props.onFilter) {\r\n            this.props.onFilter({\r\n                filters: newFilters\r\n            });\r\n        }\r\n        else {\r\n            this.setState({\r\n                first: 0,\r\n                filters: newFilters\r\n            });\r\n        }\r\n    }\r\n\r\n    hasFilter() {\r\n        let filters = this.getFilters();\r\n\r\n        return filters && Object.keys(filters).length > 0;\r\n    }\r\n\r\n    isFilterBlank(filter) {\r\n        if(filter !== null && filter !== undefined) {\r\n            if((typeof filter === 'string' && filter.trim().length === 0) || (filter instanceof Array && filter.length === 0))\r\n                return true;\r\n            else\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    onColumnResizeStart(event) {\r\n        let containerLeft = DomHandler.getOffset(this.container).left;\r\n        this.resizeColumn = event.columnEl;\r\n        this.resizeColumnProps = event.column;\r\n        this.columnResizing = true;\r\n        this.lastResizerHelperX = (event.originalEvent.pageX - containerLeft + this.container.scrollLeft);\r\n\r\n        this.bindColumnResizeEvents();\r\n    }\r\n\r\n    onColumnResize(event) {\r\n        let containerLeft = DomHandler.getOffset(this.container).left;\r\n        DomHandler.addClass(this.container, 'p-unselectable-text');\r\n        this.resizerHelper.style.height = this.container.offsetHeight + 'px';\r\n        this.resizerHelper.style.top = 0 + 'px';\r\n        this.resizerHelper.style.left = (event.pageX - containerLeft + this.container.scrollLeft) + 'px';\r\n\r\n        this.resizerHelper.style.display = 'block';\r\n    }\r\n\r\n    onColumnResizeEnd(event) {\r\n        let delta = this.resizerHelper.offsetLeft - this.lastResizerHelperX;\r\n        let columnWidth = this.resizeColumn.offsetWidth;\r\n        let newColumnWidth = columnWidth + delta;\r\n        let minWidth = this.resizeColumn.style.minWidth||15;\r\n\r\n        if(columnWidth + delta > parseInt(minWidth, 10)) {\r\n            if(this.props.columnResizeMode === 'fit') {\r\n                let nextColumn = this.resizeColumn.nextElementSibling;\r\n                let nextColumnWidth = nextColumn.offsetWidth - delta;\r\n\r\n                if(newColumnWidth > 15 && nextColumnWidth > 15) {\r\n                    if(this.props.scrollable) {\r\n                        let scrollableView = this.findParentScrollableView(this.resizeColumn);\r\n                        let scrollableBodyTable = DomHandler.findSingle(scrollableView, 'table.p-treetable-scrollable-body-table');\r\n                        let scrollableHeaderTable = DomHandler.findSingle(scrollableView, 'table.p-treetable-scrollable-header-table');\r\n                        let scrollableFooterTable = DomHandler.findSingle(scrollableView, 'table.p-treetable-scrollable-footer-table');\r\n                        let resizeColumnIndex = DomHandler.index(this.resizeColumn);\r\n\r\n                        this.resizeColGroup(scrollableHeaderTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\r\n                        this.resizeColGroup(scrollableBodyTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\r\n                        this.resizeColGroup(scrollableFooterTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\r\n                    }\r\n                    else {\r\n                        this.resizeColumn.style.width = newColumnWidth + 'px';\r\n                        if(nextColumn) {\r\n                            nextColumn.style.width = nextColumnWidth + 'px';\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if(this.props.columnResizeMode === 'expand') {\r\n                if (this.props.scrollable) {\r\n                    let scrollableView = this.findParentScrollableView(this.resizeColumn);\r\n                    let scrollableBodyTable = DomHandler.findSingle(scrollableView, 'table.p-treetable-scrollable-body-table');\r\n                    let scrollableHeaderTable = DomHandler.findSingle(scrollableView, 'table.p-treetable-scrollable-header-table');\r\n                    let scrollableFooterTable = DomHandler.findSingle(scrollableView, 'table.p-treetable-scrollable-footer-table');\r\n                    scrollableBodyTable.style.width = scrollableBodyTable.offsetWidth + delta + 'px';\r\n                    scrollableHeaderTable.style.width = scrollableHeaderTable.offsetWidth + delta + 'px';\r\n                    if(scrollableFooterTable) {\r\n                        scrollableFooterTable.style.width = scrollableHeaderTable.offsetWidth + delta + 'px';\r\n                    }\r\n                    let resizeColumnIndex = DomHandler.index(this.resizeColumn);\r\n\r\n                    this.resizeColGroup(scrollableHeaderTable, resizeColumnIndex, newColumnWidth, null);\r\n                    this.resizeColGroup(scrollableBodyTable, resizeColumnIndex, newColumnWidth, null);\r\n                    this.resizeColGroup(scrollableFooterTable, resizeColumnIndex, newColumnWidth, null);\r\n                }\r\n                else {\r\n                    this.table.style.width = this.table.offsetWidth + delta + 'px';\r\n                    this.resizeColumn.style.width = newColumnWidth + 'px';\r\n                }\r\n            }\r\n\r\n            if(this.props.onColumnResizeEnd) {\r\n                this.props.onColumnResizeEnd({\r\n                    element: this.resizeColumn,\r\n                    column: this.resizeColumnProps,\r\n                    delta: delta\r\n                });\r\n            }\r\n        }\r\n\r\n        this.resizerHelper.style.display = 'none';\r\n        this.resizeColumn = null;\r\n        this.resizeColumnProps = null;\r\n        DomHandler.removeClass(this.container, 'p-unselectable-text');\r\n\r\n        this.unbindColumnResizeEvents();\r\n    }\r\n\r\n    findParentScrollableView(column) {\r\n        if (column) {\r\n            let parent = column.parentElement;\r\n            while (parent && !DomHandler.hasClass(parent, 'p-treetable-scrollable-view')) {\r\n                parent = parent.parentElement;\r\n            }\r\n\r\n            return parent;\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    resizeColGroup(table, resizeColumnIndex, newColumnWidth, nextColumnWidth) {\r\n        if(table) {\r\n            let colGroup = table.children[0].nodeName === 'COLGROUP' ? table.children[0] : null;\r\n\r\n            if(colGroup) {\r\n                let col = colGroup.children[resizeColumnIndex];\r\n                let nextCol = col.nextElementSibling;\r\n                col.style.width = newColumnWidth + 'px';\r\n\r\n                if (nextCol && nextColumnWidth) {\r\n                    nextCol.style.width = nextColumnWidth + 'px';\r\n                }\r\n            }\r\n            else {\r\n                throw new Error(\"Scrollable tables require a colgroup to support resizable columns\");\r\n            }\r\n        }\r\n    }\r\n\r\n    bindColumnResizeEvents() {\r\n        this.documentColumnResizeListener = document.addEventListener('mousemove', (event) => {\r\n            if(this.columnResizing) {\r\n                this.onColumnResize(event);\r\n            }\r\n        });\r\n\r\n        this.documentColumnResizeEndListener = document.addEventListener('mouseup', (event) => {\r\n            if(this.columnResizing) {\r\n                this.columnResizing = false;\r\n                this.onColumnResizeEnd(event);\r\n            }\r\n        });\r\n    }\r\n\r\n    unbindColumnResizeEvents() {\r\n        document.removeEventListener('document', this.documentColumnResizeListener);\r\n        document.removeEventListener('document', this.documentColumnResizeEndListener);\r\n    }\r\n\r\n    onColumnDragStart(event) {\r\n        if(this.columnResizing) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        this.iconWidth = DomHandler.getHiddenElementOuterWidth(this.reorderIndicatorUp);\r\n        this.iconHeight = DomHandler.getHiddenElementOuterHeight(this.reorderIndicatorUp);\r\n\r\n        this.draggedColumn = this.findParentHeader(event.target);\r\n        event.dataTransfer.setData('text', 'b'); // Firefox requires this to make dragging possible\r\n    }\r\n\r\n    onColumnDragOver(event) {\r\n        let dropHeader = this.findParentHeader(event.target);\r\n        if(this.props.reorderableColumns && this.draggedColumn && dropHeader) {\r\n            event.preventDefault();\r\n            let containerOffset = DomHandler.getOffset(this.container);\r\n            let dropHeaderOffset = DomHandler.getOffset(dropHeader);\r\n\r\n            if(this.draggedColumn !== dropHeader) {\r\n                let targetLeft =  dropHeaderOffset.left - containerOffset.left;\r\n                //let targetTop =  containerOffset.top - dropHeaderOffset.top;\r\n                let columnCenter = dropHeaderOffset.left + dropHeader.offsetWidth / 2;\r\n\r\n                this.reorderIndicatorUp.style.top = dropHeaderOffset.top - containerOffset.top - (this.iconHeight - 1) + 'px';\r\n                this.reorderIndicatorDown.style.top = dropHeaderOffset.top - containerOffset.top + dropHeader.offsetHeight + 'px';\r\n\r\n                if(event.pageX > columnCenter) {\r\n                    this.reorderIndicatorUp.style.left = (targetLeft + dropHeader.offsetWidth - Math.ceil(this.iconWidth / 2)) + 'px';\r\n                    this.reorderIndicatorDown.style.left = (targetLeft + dropHeader.offsetWidth - Math.ceil(this.iconWidth / 2))+ 'px';\r\n                    this.dropPosition = 1;\r\n                }\r\n                else {\r\n                    this.reorderIndicatorUp.style.left = (targetLeft - Math.ceil(this.iconWidth / 2)) + 'px';\r\n                    this.reorderIndicatorDown.style.left = (targetLeft - Math.ceil(this.iconWidth / 2))+ 'px';\r\n                    this.dropPosition = -1;\r\n                }\r\n\r\n                this.reorderIndicatorUp.style.display = 'block';\r\n                this.reorderIndicatorDown.style.display = 'block';\r\n            }\r\n        }\r\n    }\r\n\r\n    onColumnDragLeave(event) {\r\n        if(this.props.reorderableColumns && this.draggedColumn) {\r\n            event.preventDefault();\r\n            this.reorderIndicatorUp.style.display = 'none';\r\n            this.reorderIndicatorDown.style.display = 'none';\r\n        }\r\n    }\r\n\r\n    onColumnDrop(event) {\r\n        event.preventDefault();\r\n        if(this.draggedColumn) {\r\n            let dragIndex = DomHandler.index(this.draggedColumn);\r\n            let dropIndex = DomHandler.index(this.findParentHeader(event.target));\r\n            let allowDrop = (dragIndex !== dropIndex);\r\n            if(allowDrop && ((dropIndex - dragIndex === 1 && this.dropPosition === -1) || (dragIndex - dropIndex === 1 && this.dropPosition === 1))) {\r\n                allowDrop = false;\r\n            }\r\n\r\n            if(allowDrop) {\r\n                let columns = this.state.columnOrder ? this.getColumns() : React.Children.toArray(this.props.children);\r\n                ObjectUtils.reorderArray(columns, dragIndex, dropIndex);\r\n                let columnOrder = [];\r\n                for(let column of columns) {\r\n                    columnOrder.push(column.props.columnKey||column.props.field);\r\n                }\r\n\r\n                this.setState({\r\n                    columnOrder: columnOrder\r\n                });\r\n\r\n                if (this.props.onColReorder) {\r\n                    this.props.onColReorder({\r\n                        dragIndex: dragIndex,\r\n                        dropIndex: dropIndex,\r\n                        columns: columns\r\n                    });\r\n                }\r\n            }\r\n\r\n            this.reorderIndicatorUp.style.display = 'none';\r\n            this.reorderIndicatorDown.style.display = 'none';\r\n            this.draggedColumn.draggable = false;\r\n            this.draggedColumn = null;\r\n            this.dropPosition = null;\r\n        }\r\n    }\r\n\r\n    findParentHeader(element) {\r\n        if(element.nodeName === 'TH') {\r\n            return element;\r\n        }\r\n        else {\r\n            let parent = element.parentElement;\r\n            while(parent.nodeName !== 'TH') {\r\n                parent = parent.parentElement;\r\n                if(!parent) break;\r\n            }\r\n            return parent;\r\n        }\r\n    }\r\n\r\n    getExpandedKeys() {\r\n        return this.props.onToggle ? this.props.expandedKeys : this.state.expandedKeys;\r\n    }\r\n\r\n    getFirst() {\r\n        return this.props.onPage ? this.props.first : this.state.first;\r\n    }\r\n\r\n    getRows() {\r\n        return this.props.onPage ? this.props.rows : this.state.rows;\r\n    }\r\n\r\n    getSortField() {\r\n        return this.props.onSort ? this.props.sortField : this.state.sortField;\r\n    }\r\n\r\n    getSortOrder() {\r\n        return this.props.onSort ? this.props.sortOrder : this.state.sortOrder;\r\n    }\r\n\r\n    getMultiSortMeta() {\r\n        return this.props.onSort ? this.props.multiSortMeta : this.state.multiSortMeta;\r\n    }\r\n\r\n    getFilters() {\r\n        return this.props.onFilter ? this.props.filters : this.state.filters;\r\n    }\r\n\r\n    findColumnByKey(columns, key) {\r\n        if(columns && columns.length) {\r\n            for(let i = 0; i < columns.length; i++) {\r\n                let child = columns[i];\r\n                if(child.props.columnKey === key || child.props.field === key) {\r\n                    return child;\r\n                }\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    getColumns() {\r\n        let columns = React.Children.toArray(this.props.children);\r\n\r\n        if(this.props.reorderableColumns && this.state.columnOrder) {\r\n            let orderedColumns = [];\r\n            for(let i = 0; i < this.state.columnOrder.length; i++) {\r\n                orderedColumns.push(this.findColumnByKey(columns, this.state.columnOrder[i]));\r\n            }\r\n\r\n            return orderedColumns;\r\n        }\r\n        else {\r\n            return columns;\r\n        }\r\n    }\r\n\r\n    getTotalRecords(data) {\r\n        return this.props.lazy ? this.props.totalRecords : data ? data.length : 0;\r\n    }\r\n\r\n    isSingleSelectionMode() {\r\n        return this.props.selectionMode && this.props.selectionMode === 'single';\r\n    }\r\n\r\n    isMultipleSelectionMode() {\r\n        return this.props.selectionMode && this.props.selectionMode === 'multiple';\r\n    }\r\n\r\n    isRowSelectionMode() {\r\n        return this.isSingleSelectionMode() || this.isMultipleSelectionMode();\r\n    }\r\n\r\n    getFrozenColumns(columns) {\r\n        let frozenColumns = null;\r\n\r\n        for(let col of columns) {\r\n            if(col.props.frozen) {\r\n                frozenColumns = frozenColumns||[];\r\n                frozenColumns.push(col);\r\n            }\r\n        }\r\n\r\n        return frozenColumns;\r\n    }\r\n\r\n    getScrollableColumns(columns) {\r\n        let scrollableColumns = null;\r\n\r\n        for(let col of columns) {\r\n            if(!col.props.frozen) {\r\n                scrollableColumns = scrollableColumns||[];\r\n                scrollableColumns.push(col);\r\n            }\r\n        }\r\n\r\n        return scrollableColumns;\r\n    }\r\n\r\n    filterLocal(value) {\r\n        let filteredNodes = [];\r\n        let filters = this.getFilters();\r\n        let columns = React.Children.toArray(this.props.children);\r\n        const isStrictMode = this.props.filterMode === 'strict';\r\n\r\n        for (let node of value) {\r\n            let copyNode = {...node};\r\n            let localMatch = true;\r\n            let globalMatch = false;\r\n\r\n            for (let j = 0; j < columns.length; j++) {\r\n                let col = columns[j];\r\n                let filterMeta = filters ? filters[col.props.field] : null;\r\n                let filterField = col.props.field;\r\n                let filterValue, filterConstraint, paramsWithoutNode;\r\n\r\n                //local\r\n                if (filterMeta) {\r\n                    let filterMatchMode = filterMeta.matchMode || col.props.filterMatchMode;\r\n                    filterValue = filterMeta.value;\r\n                    filterConstraint = filterMatchMode === 'custom' ? col.props.filterFunction : FilterUtils[filterMatchMode];\r\n                    paramsWithoutNode = {filterField, filterValue, filterConstraint, isStrictMode};\r\n                    if ((isStrictMode && !(this.findFilteredNodes(copyNode, paramsWithoutNode) || this.isFilterMatched(copyNode, paramsWithoutNode))) ||\r\n                        (!isStrictMode && !(this.isFilterMatched(copyNode, paramsWithoutNode) || this.findFilteredNodes(copyNode, paramsWithoutNode)))) {\r\n                            localMatch = false;\r\n                    }\r\n\r\n                    if (!localMatch) {\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                //global\r\n                if (this.props.globalFilter && !globalMatch) {\r\n                    let copyNodeForGlobal = {...copyNode};\r\n                    filterValue = this.props.globalFilter;\r\n                    filterConstraint = FilterUtils['contains'];\r\n                    paramsWithoutNode = {filterField, filterValue, filterConstraint, isStrictMode};\r\n                    if ((isStrictMode && (this.findFilteredNodes(copyNodeForGlobal, paramsWithoutNode) || this.isFilterMatched(copyNodeForGlobal, paramsWithoutNode))) ||\r\n                        (!isStrictMode && (this.isFilterMatched(copyNodeForGlobal, paramsWithoutNode) || this.findFilteredNodes(copyNodeForGlobal, paramsWithoutNode)))) {\r\n                            globalMatch = true;\r\n                            copyNode = copyNodeForGlobal;\r\n                    }\r\n                }\r\n            }\r\n\r\n            let matches = localMatch;\r\n            if (this.props.globalFilter) {\r\n                matches = localMatch && globalMatch;\r\n            }\r\n\r\n            if (matches) {\r\n                filteredNodes.push(copyNode);\r\n            }\r\n        }\r\n\r\n        return filteredNodes;\r\n    }\r\n\r\n    findFilteredNodes(node, paramsWithoutNode) {\r\n        if (node) {\r\n            let matched = false;\r\n            if (node.children) {\r\n                let childNodes = [...node.children];\r\n                node.children = [];\r\n                for (let childNode of childNodes) {\r\n                    let copyChildNode = {...childNode};\r\n                    if (this.isFilterMatched(copyChildNode, paramsWithoutNode)) {\r\n                        matched = true;\r\n                        node.children.push(copyChildNode);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (matched) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n\r\n    isFilterMatched(node, {filterField, filterValue, filterConstraint, isStrictMode}) {\r\n        let matched = false;\r\n        let dataFieldValue = ObjectUtils.resolveFieldData(node.data, filterField);\r\n        if (filterConstraint(dataFieldValue, filterValue, this.props.filterLocale)) {\r\n            matched = true;\r\n        }\r\n\r\n        if (!matched || (isStrictMode && !this.isNodeLeaf(node))) {\r\n            matched = this.findFilteredNodes(node, {filterField, filterValue, filterConstraint, isStrictMode}) || matched;\r\n        }\r\n\r\n        return matched;\r\n    }\r\n\r\n    isNodeLeaf(node) {\r\n        return node.leaf === false ? false : !(node.children && node.children.length);\r\n    }\r\n\r\n    processValue() {\r\n        let data = this.props.value;\r\n\r\n        if (!this.props.lazy) {\r\n            if(data && data.length) {\r\n                if(this.getSortField() || this.getMultiSortMeta()) {\r\n                    if(this.props.sortMode === 'single')\r\n                        data = this.sortSingle(data);\r\n                    else if(this.props.sortMode === 'multiple')\r\n                        data = this.sortMultiple(data);\r\n                }\r\n\r\n                let localFilters = this.getFilters();\r\n                if (localFilters || this.props.globalFilter) {\r\n                    data = this.filterLocal(data, localFilters);\r\n                }\r\n            }\r\n        }\r\n\r\n        return data;\r\n    }\r\n\r\n    createTableHeader(columns, columnGroup) {\r\n        return (\r\n            <TreeTableHeader columns={columns} columnGroup={columnGroup} tabIndex={this.props.tabIndex}\r\n                        onSort={this.onSort} sortField={this.getSortField()} sortOrder={this.getSortOrder()} multiSortMeta={this.getMultiSortMeta()}\r\n                        resizableColumns={this.props.resizableColumns} onResizeStart={this.onColumnResizeStart}\r\n                        reorderableColumns={this.props.reorderableColumns} onDragStart={this.onColumnDragStart}\r\n                        onDragOver={this.onColumnDragOver} onDragLeave={this.onColumnDragLeave} onDrop={this.onColumnDrop}\r\n                        onFilter={this.onFilter} filters={this.getFilters()}/>\r\n        );\r\n    }\r\n\r\n    createTableFooter(columns, columnGroup) {\r\n        return (\r\n            <TreeTableFooter columns={columns} columnGroup={columnGroup} />\r\n        );\r\n    }\r\n\r\n    createTableBody(value, columns) {\r\n        return (\r\n            <TreeTableBody value={value} columns={columns} expandedKeys={this.getExpandedKeys()}\r\n                        onToggle={this.onToggle} onExpand={this.props.onExpand} onCollapse={this.props.onCollapse}\r\n                        paginator={this.props.paginator} first={this.getFirst()} rows={this.getRows()}\r\n                        selectionMode={this.props.selectionMode} selectionKeys={this.props.selectionKeys} onSelectionChange={this.props.onSelectionChange}\r\n                        metaKeySelection={this.props.metaKeySelection} onRowClick={this.props.onRowClick} onSelect={this.props.onSelect} onUnselect={this.props.onUnselect}\r\n                        propagateSelectionUp={this.props.propagateSelectionUp} propagateSelectionDown={this.props.propagateSelectionDown}\r\n                        lazy={this.props.lazy} rowClassName={this.props.rowClassName} emptyMessage={this.props.emptyMessage} loading={this.props.loading}\r\n                        contextMenuSelectionKey={this.props.contextMenuSelectionKey} onContextMenuSelectionChange={this.props.onContextMenuSelectionChange} onContextMenu={this.props.onContextMenu}/>\r\n        );\r\n    }\r\n\r\n    createPaginator(position, totalRecords) {\r\n        const className = classNames('p-paginator-' + position, this.props.paginatorClassName);\r\n\r\n        return (\r\n            <Paginator first={this.getFirst()} rows={this.getRows()} pageLinkSize={this.props.pageLinkSize} className={className}\r\n                    onPageChange={this.onPageChange} template={this.props.paginatorTemplate}\r\n                    totalRecords={totalRecords} rowsPerPageOptions={this.props.rowsPerPageOptions} currentPageReportTemplate={this.props.currentPageReportTemplate}\r\n                    leftContent={this.props.paginatorLeft} rightContent={this.props.paginatorRight} alwaysShow={this.props.alwaysShowPaginator} dropdownAppendTo={this.props.paginatorDropdownAppendTo} />\r\n        )\r\n    }\r\n\r\n    createScrollableView(value, columns, frozen, headerColumnGroup, footerColumnGroup) {\r\n        const header = this.createTableHeader(columns, headerColumnGroup);\r\n        const footer = this.createTableFooter(columns, footerColumnGroup);\r\n        const body = this.createTableBody(value, columns);\r\n\r\n        return (\r\n            <TreeTableScrollableView columns={columns} header={header} body={body} footer={footer}\r\n                scrollHeight={this.props.scrollHeight} frozen={frozen} frozenWidth={this.props.frozenWidth} />\r\n        );\r\n    }\r\n\r\n    renderScrollableTable(value) {\r\n        const columns = this.getColumns();\r\n        let frozenColumns = this.getFrozenColumns(columns);\r\n        let scrollableColumns = frozenColumns ? this.getScrollableColumns(columns) : columns;\r\n        let frozenView, scrollableView;\r\n        if (frozenColumns) {\r\n            frozenView = this.createScrollableView(value, frozenColumns, true, this.props.frozenHeaderColumnGroup, this.props.frozenFooterColumnGroup);\r\n        }\r\n\r\n        scrollableView = this.createScrollableView(value, scrollableColumns, false, this.props.headerColumnGroup, this.props.footerColumnGroup);\r\n\r\n        return (\r\n            <div className=\"p-treetable-scrollable-wrapper\">\r\n                {frozenView}\r\n                {scrollableView}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderRegularTable(value) {\r\n        const columns = this.getColumns();\r\n        const header = this.createTableHeader(columns, this.props.headerColumnGroup);\r\n        const footer = this.createTableFooter(columns, this.props.footerColumnGroup);\r\n        const body = this.createTableBody(value, columns);\r\n\r\n        return (\r\n            <div className=\"p-treetable-wrapper\">\r\n                <table style={this.props.tableStyle} className={this.props.tableClassName} ref={el => this.table = el}>\r\n                    {header}\r\n                    {footer}\r\n                    {body}\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderTable(value) {\r\n        if (this.props.scrollable)\r\n            return this.renderScrollableTable(value);\r\n        else\r\n            return this.renderRegularTable(value);\r\n    }\r\n\r\n    renderLoader() {\r\n        if (this.props.loading) {\r\n            const iconClassName = classNames('p-treetable-loading-icon pi-spin', this.props.loadingIcon);\r\n\r\n            return (\r\n                <div className=\"p-treetable-loading\">\r\n                    <div className=\"p-treetable-loading-overlay p-component-overlay\">\r\n                        <i className={iconClassName}></i>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n        const value = this.processValue();\r\n        const className = classNames('p-treetable p-component', {\r\n            'p-treetable-hoverable-rows': this.isRowSelectionMode(),\r\n            'p-treetable-resizable': this.props.resizableColumns,\r\n            'p-treetable-resizable-fit': (this.props.resizableColumns && this.props.columnResizeMode === 'fit'),\r\n            'p-treetable-auto-layout': this.props.autoLayout\r\n        }, this.props.className);\r\n        const table = this.renderTable(value);\r\n        const totalRecords = this.getTotalRecords(value);\r\n        const headerFacet = this.props.header && <div className=\"p-treetable-header\">{this.props.header}</div>;\r\n        const footerFacet = this.props.footer && <div className=\"p-treetable-footer\">{this.props.footer}</div>;\r\n        const paginatorTop = this.props.paginator && this.props.paginatorPosition !== 'bottom' && this.createPaginator('top', totalRecords);\r\n        const paginatorBottom = this.props.paginator && this.props.paginatorPosition !== 'top' && this.createPaginator('bottom', totalRecords);\r\n        const loader = this.renderLoader();\r\n        const resizeHelper = this.props.resizableColumns && <div ref={(el) => {this.resizerHelper = el;}} className=\"p-column-resizer-helper\" style={{display:'none'}}></div>;\r\n        const reorderIndicatorUp = this.props.reorderableColumns && <span ref={el => this.reorderIndicatorUp = el} className=\"pi pi-arrow-down p-datatable-reorder-indicator-up\" style={{position: 'absolute', display: 'none'}} />\r\n        const reorderIndicatorDown = this.props.reorderableColumns && <span ref={el => this.reorderIndicatorDown = el} className=\"pi pi-arrow-up p-datatable-reorder-indicator-down\" style={{position: 'absolute', display: 'none'}} />;\r\n\r\n        return (\r\n            <div id={this.props.id} className={className} style={this.props.style} ref={el => this.container = el} data-scrollselectors=\".p-treetable-scrollable-body\">\r\n                {loader}\r\n                {headerFacet}\r\n                {paginatorTop}\r\n                {table}\r\n                {paginatorBottom}\r\n                {footerFacet}\r\n                {resizeHelper}\r\n                {reorderIndicatorUp}\r\n                {reorderIndicatorDown}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}