{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _createForOfIteratorHelper from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";\nimport _classCallCheck from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\src\\\\AppMenu.js\";\nimport React, { Component } from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { NavLink } from 'react-router-dom';\nimport axios from 'axios';\nimport classNames from 'classnames';\nimport { InputText } from './components/inputtext/InputText';\nexport var AppMenu = /*#__PURE__*/function (_Component) {\n  _inherits(AppMenu, _Component);\n\n  var _super = _createSuper(AppMenu);\n\n  function AppMenu(props) {\n    var _this;\n\n    _classCallCheck(this, AppMenu);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      menu: null,\n      filteredMenu: [],\n      activeSubmenus: {}\n    };\n    _this.onSearchInputChange = _this.onSearchInputChange.bind(_assertThisInitialized(_this));\n    _this.resetFilter = _this.resetFilter.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(AppMenu, [{\n    key: \"getMenu\",\n    value: function getMenu() {\n      var _this2 = this;\n\n      if (this.props.demos) {\n        axios.get('showcase/menu/demoMenus.json', {\n          headers: {\n            'Cache-Control': 'no-cache'\n          }\n        }).then(function (res) {\n          return res.data.data;\n        }).then(function (data) {\n          return _this2.setState({\n            menu: data,\n            filteredMenu: data\n          });\n        });\n      } else {\n        axios.get('showcase/menu/menu.json', {\n          headers: {\n            'Cache-Control': 'no-cache'\n          }\n        }).then(function (res) {\n          return res.data.data;\n        }).then(function (data) {\n          return _this2.setState({\n            menu: data,\n            filteredMenu: data\n          });\n        });\n      }\n    }\n  }, {\n    key: \"onSearchInputChange\",\n    value: function onSearchInputChange(event) {\n      if (!this.state.menu) {\n        this.setState({\n          filteredMenu: []\n        });\n      } else if (!event.target.value) {\n        this.setState({\n          filteredMenu: this.state.menu\n        });\n      } else if (this.state.menu) {\n        var searchVal = event.target.value && event.target.value.toLowerCase();\n        var filteredMenu = [];\n\n        var _iterator = _createForOfIteratorHelper(this.state.menu),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var item = _step.value;\n\n            var copyItem = _objectSpread({}, item);\n\n            if (this.findFilteredItems(copyItem, searchVal) || this.isFilterMatched(copyItem, searchVal)) {\n              filteredMenu.push(copyItem);\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        this.setState({\n          filteredMenu: filteredMenu\n        });\n      }\n    }\n  }, {\n    key: \"findFilteredItems\",\n    value: function findFilteredItems(item, searchVal) {\n      if (item) {\n        var matched = false;\n\n        if (item.children) {\n          var childItems = _toConsumableArray(item.children);\n\n          item.children = [];\n\n          var _iterator2 = _createForOfIteratorHelper(childItems),\n              _step2;\n\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var childItem = _step2.value;\n\n              var copyChildItem = _objectSpread({}, childItem);\n\n              if (this.isFilterMatched(copyChildItem, searchVal)) {\n                matched = true;\n                item.children.push(copyChildItem);\n                item.expanded = true;\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n\n        if (matched) {\n          return true;\n        }\n      }\n    }\n  }, {\n    key: \"isFilterMatched\",\n    value: function isFilterMatched(item, searchVal) {\n      var matched = false;\n\n      if (this.onFilterOnOptions(item, searchVal, ['name', 'meta', 'badge'])) {\n        matched = true;\n      }\n\n      if (!matched || !(item.children && item.children.length)) {\n        matched = this.findFilteredItems(item, searchVal) || matched;\n      }\n\n      return matched;\n    }\n  }, {\n    key: \"onFilterOnOptions\",\n    value: function onFilterOnOptions(item, searchVal, optionKeys) {\n      if (item && optionKeys) {\n        return optionKeys.some(function (optionKey) {\n          var value = item[optionKey];\n\n          if (value) {\n            if (typeof value === 'string') return value.toLowerCase().indexOf(searchVal) > -1;else return value.filter(function (meta) {\n              return meta.toLowerCase().indexOf(searchVal) > -1;\n            }).length > 0;\n          }\n\n          return false;\n        });\n      }\n\n      return false;\n    }\n  }, {\n    key: \"toggleSubmenu\",\n    value: function toggleSubmenu(event, name) {\n      var activeSubmenus = _objectSpread({}, this.state.activeSubmenus);\n\n      activeSubmenus[name] = activeSubmenus[name] ? false : true;\n      this.setState({\n        activeSubmenus: activeSubmenus\n      });\n      event.preventDefault();\n    }\n  }, {\n    key: \"isSubmenuActive\",\n    value: function isSubmenuActive(name) {\n      if (this.state.activeSubmenus.hasOwnProperty(name)) {\n        return this.state.activeSubmenus[name];\n      }\n\n      return false;\n    }\n  }, {\n    key: \"showSearchClearIcon\",\n    value: function showSearchClearIcon() {\n      return this.state.filteredMenu && this.state.menu && this.state.filteredMenu.length !== this.state.menu.length;\n    }\n  }, {\n    key: \"resetFilter\",\n    value: function resetFilter() {\n      var _this3 = this;\n\n      this.setState({\n        filteredMenu: this.state.menu\n      }, function () {\n        _this3.searchInput.value = '';\n\n        _this3.searchInput.focus();\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getMenu();\n    }\n  }, {\n    key: \"renderLink\",\n    value: function renderLink(item, props) {\n      var _classNames;\n\n      var name = item.name,\n          to = item.to,\n          href = item.href,\n          badge = item.badge;\n      var content = /*#__PURE__*/React.createElement(React.Fragment, null, name, badge && /*#__PURE__*/React.createElement(\"span\", {\n        className: classNames('layout-menu-badge p-tag p-tag-rounded p-ml-2 p-text-uppercase', (_classNames = {}, _defineProperty(_classNames, \"\".concat(badge), true), _defineProperty(_classNames, 'p-tag-success', badge === 'new'), _defineProperty(_classNames, 'p-tag-info', badge === 'updated'), _classNames)),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 27\n        }\n      }, badge));\n\n      if (href) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          href: href,\n          role: \"menuitem\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          onClick: this.props.onMenuItemClick,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 20\n          }\n        }, content);\n      } else if (!to) {\n        return /*#__PURE__*/React.createElement(\"button\", Object.assign({\n          className: \"p-link\"\n        }, props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 20\n          }\n        }), content);\n      }\n\n      return /*#__PURE__*/React.createElement(NavLink, {\n        to: to,\n        exact: true,\n        role: \"menuitem\",\n        activeClassName: \"router-link-exact-active router-link-active\",\n        onClick: this.props.onMenuItemClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 16\n        }\n      }, content);\n    }\n  }, {\n    key: \"renderCategorySubmenuItems\",\n    value: function renderCategorySubmenuItems(item, submenuKey) {\n      var _this4 = this;\n\n      var cSubmenuRef = React.createRef();\n      return /*#__PURE__*/React.createElement(CSSTransition, {\n        nodeRef: cSubmenuRef,\n        classNames: \"p-toggleable-content\",\n        timeout: {\n          enter: 1000,\n          exit: 450\n        },\n        in: this.isSubmenuActive(item.name) || item.expanded,\n        unmountOnExit: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: cSubmenuRef,\n        className: \"p-toggleable-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        role: \"menu\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }\n      }, item.children.map(function (item, index) {\n        var link = _this4.renderLink(item);\n\n        return /*#__PURE__*/React.createElement(\"li\", {\n          role: \"menuitem\",\n          key: \"menuitem_\".concat(submenuKey, \"_\").concat(index),\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 37\n          }\n        }, link);\n      }))));\n    }\n  }, {\n    key: \"renderCategoryItem\",\n    value: function renderCategoryItem(menuitem, menuitemIndex) {\n      var _this5 = this;\n\n      if (menuitem.children) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, menuitem.children.map(function (item, index) {\n          var submenuKey = \"\".concat(menuitemIndex, \"_\").concat(index);\n\n          var link = _this5.renderLink(item, {\n            onClick: function onClick(e) {\n              return _this5.toggleSubmenu(e, item.name);\n            }\n          });\n\n          return /*#__PURE__*/React.createElement(React.Fragment, {\n            key: \"menuitem_\".concat(submenuKey),\n            __self: _this5,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 33\n            }\n          }, link, item.children && _this5.renderCategorySubmenuItems(item, submenuKey));\n        }));\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderCategoryItems\",\n    value: function renderCategoryItems() {\n      var _this6 = this;\n\n      if (this.state.menu) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.filteredMenu && this.state.filteredMenu.map(function (menuitem, index) {\n          var categoryItem = _this6.renderCategoryItem(menuitem, index);\n\n          return /*#__PURE__*/React.createElement(React.Fragment, {\n            key: \"category_\".concat(index),\n            __self: _this6,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"menu-category\",\n            __self: _this6,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 37\n            }\n          }, menuitem.name), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"menu-items\",\n            __self: _this6,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 37\n            }\n          }, categoryItem));\n        }));\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var menuItems = this.renderCategoryItems();\n      var showClearIcon = this.showSearchClearIcon();\n      var sidebarClassName = classNames('layout-sidebar', {\n        'active': this.props.active\n      });\n      var filterContentClassName = classNames('layout-sidebar-filter-content p-input-filled p-input-icon-left p-fluid', {\n        'p-input-icon-right': showClearIcon\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: sidebarClassName,\n        role: \"navigation\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"layout-sidebar-filter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: filterContentClassName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"pi pi-search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(InputText, {\n        ref: function ref(el) {\n          return _this7.searchInput = el;\n        },\n        type: \"text\",\n        onChange: this.onSearchInputChange,\n        placeholder: \"Search by name, badge...\",\n        \"aria-label\": \"Search input\",\n        autoComplete: \"off\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 25\n        }\n      }), showClearIcon && /*#__PURE__*/React.createElement(\"i\", {\n        className: \"clear-icon pi pi-times\",\n        onClick: this.resetFilter,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 43\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"layout-menu\",\n        role: \"menubar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 17\n        }\n      }, menuItems));\n    }\n  }]);\n\n  return AppMenu;\n}(Component);","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/AppMenu.js"],"names":["React","Component","CSSTransition","NavLink","axios","classNames","InputText","AppMenu","props","state","menu","filteredMenu","activeSubmenus","onSearchInputChange","bind","resetFilter","demos","get","headers","then","res","data","setState","event","target","value","searchVal","toLowerCase","item","copyItem","findFilteredItems","isFilterMatched","push","matched","children","childItems","childItem","copyChildItem","expanded","onFilterOnOptions","length","optionKeys","some","optionKey","indexOf","filter","meta","name","preventDefault","hasOwnProperty","searchInput","focus","getMenu","to","href","badge","content","onMenuItemClick","submenuKey","cSubmenuRef","createRef","enter","exit","isSubmenuActive","map","index","link","renderLink","menuitem","menuitemIndex","onClick","e","toggleSubmenu","renderCategorySubmenuItems","categoryItem","renderCategoryItem","menuItems","renderCategoryItems","showClearIcon","showSearchClearIcon","sidebarClassName","active","filterContentClassName","el"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { NavLink } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport classNames from 'classnames';\r\nimport { InputText } from './components/inputtext/InputText';\r\n\r\nexport class AppMenu extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            menu: null,\r\n            filteredMenu: [],\r\n            activeSubmenus: {}\r\n        };\r\n\r\n        this.onSearchInputChange = this.onSearchInputChange.bind(this);\r\n        this.resetFilter = this.resetFilter.bind(this);\r\n    }\r\n\r\n    getMenu() {\r\n        if(this.props.demos){\r\n            axios.get('showcase/menu/demoMenus.json', { headers: { 'Cache-Control': 'no-cache' } })\r\n                .then(res => res.data.data)\r\n                .then(data => this.setState({ menu: data, filteredMenu: data }));\r\n        }else{\r\n            axios.get('showcase/menu/menu.json', { headers: { 'Cache-Control': 'no-cache' } })\r\n                .then(res => res.data.data)\r\n                .then(data => this.setState({ menu: data, filteredMenu: data }));\r\n        }\r\n\r\n    }\r\n\r\n    onSearchInputChange(event) {\r\n        if (!this.state.menu) {\r\n            this.setState({ filteredMenu: [] });\r\n        }\r\n        else if (!event.target.value) {\r\n            this.setState({ filteredMenu: this.state.menu });\r\n        }\r\n        else if (this.state.menu) {\r\n            const searchVal = event.target.value && event.target.value.toLowerCase();\r\n            let filteredMenu = [];\r\n            for (let item of this.state.menu) {\r\n                let copyItem = { ...item };\r\n                if (this.findFilteredItems(copyItem, searchVal) || this.isFilterMatched(copyItem, searchVal)) {\r\n                    filteredMenu.push(copyItem);\r\n                }\r\n            }\r\n\r\n            this.setState({ filteredMenu });\r\n        }\r\n    }\r\n\r\n    findFilteredItems(item, searchVal) {\r\n        if (item) {\r\n            let matched = false;\r\n            if (item.children) {\r\n                let childItems = [...item.children];\r\n                item.children = [];\r\n                for (let childItem of childItems) {\r\n                    let copyChildItem = { ...childItem };\r\n                    if (this.isFilterMatched(copyChildItem, searchVal)) {\r\n                        matched = true;\r\n                        item.children.push(copyChildItem);\r\n                        item.expanded = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (matched) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n\r\n    isFilterMatched(item, searchVal) {\r\n        let matched = false;\r\n        if (this.onFilterOnOptions(item, searchVal, ['name', 'meta', 'badge'])) {\r\n            matched = true;\r\n        }\r\n\r\n        if (!matched || !(item.children && item.children.length)) {\r\n            matched = this.findFilteredItems(item, searchVal) || matched;\r\n        }\r\n\r\n        return matched;\r\n    }\r\n\r\n    onFilterOnOptions(item, searchVal, optionKeys) {\r\n        if (item && optionKeys) {\r\n            return optionKeys.some(optionKey => {\r\n                let value = item[optionKey];\r\n\r\n                if (value) {\r\n                    if (typeof value === 'string')\r\n                        return value.toLowerCase().indexOf(searchVal) > -1;\r\n                    else\r\n                        return value.filter(meta => meta.toLowerCase().indexOf(searchVal) > -1).length > 0;\r\n                }\r\n\r\n                return false;\r\n            });\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    toggleSubmenu(event, name) {\r\n        let activeSubmenus = { ...this.state.activeSubmenus };\r\n        activeSubmenus[name] = activeSubmenus[name] ? false : true;\r\n        this.setState({ activeSubmenus });\r\n        event.preventDefault();\r\n    }\r\n\r\n    isSubmenuActive(name) {\r\n        if (this.state.activeSubmenus.hasOwnProperty(name)) {\r\n            return this.state.activeSubmenus[name];\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    showSearchClearIcon() {\r\n        return this.state.filteredMenu && this.state.menu && this.state.filteredMenu.length !== this.state.menu.length;\r\n    }\r\n\r\n    resetFilter() {\r\n        this.setState({ filteredMenu: this.state.menu }, () => {\r\n            this.searchInput.value = '';\r\n            this.searchInput.focus();\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getMenu();\r\n    }\r\n\r\n    renderLink(item, props) {\r\n        const { name, to, href, badge } = item;\r\n        const content = (\r\n            <>\r\n                {name}\r\n                {badge && <span className={classNames('layout-menu-badge p-tag p-tag-rounded p-ml-2 p-text-uppercase', { [`${badge}`]: true, 'p-tag-success': badge === 'new', 'p-tag-info': badge === 'updated' })}>{badge}</span>}\r\n            </>\r\n        );\r\n\r\n        if (href) {\r\n            return <a href={href} role=\"menuitem\" target=\"_blank\" rel=\"noopener noreferrer\" onClick={this.props.onMenuItemClick}>{content}</a>\r\n        }\r\n        else if (!to) {\r\n            return <button className=\"p-link\" {...props}>{content}</button>\r\n        }\r\n\r\n        return <NavLink to={to} exact role=\"menuitem\" activeClassName=\"router-link-exact-active router-link-active\" onClick={this.props.onMenuItemClick}>{content}</NavLink>;\r\n    }\r\n\r\n    renderCategorySubmenuItems(item, submenuKey) {\r\n        const cSubmenuRef = React.createRef();\r\n\r\n        return (\r\n            <CSSTransition nodeRef={cSubmenuRef} classNames=\"p-toggleable-content\" timeout={{ enter: 1000, exit: 450 }} in={this.isSubmenuActive(item.name) || item.expanded} unmountOnExit>\r\n                <div ref={cSubmenuRef} className=\"p-toggleable-content\">\r\n                    <ul role=\"menu\">\r\n                        {\r\n                            item.children.map((item, index) => {\r\n                                const link = this.renderLink(item);\r\n                                return (\r\n                                    <li role=\"menuitem\" key={`menuitem_${submenuKey}_${index}`}>\r\n                                        {link}\r\n                                    </li>\r\n                                );\r\n                            })\r\n                        }\r\n                    </ul>\r\n                </div>\r\n            </CSSTransition>\r\n        );\r\n    }\r\n\r\n    renderCategoryItem(menuitem, menuitemIndex) {\r\n        if (menuitem.children) {\r\n            return (\r\n                <>\r\n                    {\r\n                        menuitem.children.map((item, index) => {\r\n                            const submenuKey = `${menuitemIndex}_${index}`;\r\n                            const link = this.renderLink(item, { onClick: (e) => this.toggleSubmenu(e, item.name) });\r\n\r\n                            return (\r\n                                <React.Fragment key={`menuitem_${submenuKey}`}>\r\n                                    {link}\r\n                                    {item.children && this.renderCategorySubmenuItems(item, submenuKey)}\r\n                                </React.Fragment>\r\n                            )\r\n                        })\r\n                    }\r\n                </>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderCategoryItems() {\r\n        if (this.state.menu) {\r\n            return (\r\n\r\n                <>\r\n                    {\r\n                        this.state.filteredMenu && this.state.filteredMenu.map((menuitem, index) => {\r\n\r\n                            const categoryItem = this.renderCategoryItem(menuitem, index);\r\n                            return (\r\n                                <React.Fragment key={`category_${index}`}>\r\n                                    <div className=\"menu-category\">{menuitem.name}</div>\r\n                                    <div className=\"menu-items\">\r\n                                        {categoryItem}\r\n                                    </div>\r\n                                </React.Fragment>\r\n                            )\r\n                        })\r\n                    }\r\n                </>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n        const menuItems = this.renderCategoryItems();\r\n        const showClearIcon = this.showSearchClearIcon();\r\n        const sidebarClassName = classNames('layout-sidebar', { 'active': this.props.active });\r\n        const filterContentClassName = classNames('layout-sidebar-filter-content p-input-filled p-input-icon-left p-fluid', { 'p-input-icon-right': showClearIcon });\r\n\r\n        return (\r\n            <div className={sidebarClassName} role=\"navigation\">\r\n                <div className=\"layout-sidebar-filter\">\r\n                    <div className={filterContentClassName}>\r\n                        <i className=\"pi pi-search\" />\r\n                        <InputText ref={(el) => this.searchInput = el} type=\"text\" onChange={this.onSearchInputChange} placeholder=\"Search by name, badge...\" aria-label=\"Search input\" autoComplete=\"off\" />\r\n                        {showClearIcon && <i className=\"clear-icon pi pi-times\" onClick={this.resetFilter} />}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"layout-menu\" role=\"menubar\">\r\n                    {menuItems}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}