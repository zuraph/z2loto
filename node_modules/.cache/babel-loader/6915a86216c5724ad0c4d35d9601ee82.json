{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{AutoComplete}from\"../../../../components/autocomplete/AutoComplete\";import{Actions}from\"../../../../core\";import{Timeout}from\"../../../../core/utils/timeout\";export var SearchUser=function SearchUser(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),countries=_useState2[0],setCountries=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),value=_useState4[0],setValue=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),filteredCountries=_useState6[0],setFilteredCountries=_useState6[1];var timeout=Timeout;var findByUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(query){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Actions.Users.findBy(query);case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}));return function findByUser(_x){return _ref.apply(this,arguments);};}();//const response =\nvar searchCountry=function searchCountry(event){if(event.query.length>2){timeout.set(function(){findByUser(event.query).then(function(response){setFilteredCountries(response.status?response.data.data:[]);});timeout.clear();},500);}};var itemTemplate=function itemTemplate(item){return/*#__PURE__*/React.createElement(\"div\",{className:\"country-item\"},/*#__PURE__*/React.createElement(\"div\",null,item.id,\" - \"),/*#__PURE__*/React.createElement(\"div\",null,item.username));};return/*#__PURE__*/React.createElement(AutoComplete,{value:value,suggestions:filteredCountries,completeMethod:searchCountry,field:\"username\",dropdown:true,forceSelection:true,placeholder:\"username\",itemTemplate:itemTemplate,onChange:function onChange(e){setValue(e.target.value);}});};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/views/statistics/components/filter/searchUser.js"],"names":["React","useEffect","useState","AutoComplete","Actions","Timeout","SearchUser","countries","setCountries","value","setValue","filteredCountries","setFilteredCountries","timeout","findByUser","query","Users","findBy","searchCountry","event","length","set","then","response","status","data","clear","itemTemplate","item","id","username","e","target"],"mappings":"2fAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,YAAR,KAA2B,kDAA3B,CACA,OAAQC,OAAR,KAAsB,kBAAtB,CACA,OAAQC,OAAR,KAAsB,gCAAtB,CACA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAK,CAC3B,cAA+BJ,QAAQ,CAAC,EAAD,CAAvC,wCAAOK,SAAP,eAAiBC,YAAjB,eACA,eAAuBN,QAAQ,CAAC,IAAD,CAA/B,yCAAOO,KAAP,eAAaC,QAAb,eACA,eAAgDR,QAAQ,CAAC,IAAD,CAAxD,yCAAOS,iBAAP,eAA0BC,oBAA1B,eACA,GAAMC,CAAAA,OAAO,CAAER,OAAf,CACA,GAAMS,CAAAA,UAAU,0FAAG,iBAAOC,KAAP,wIACDX,CAAAA,OAAO,CAACY,KAAR,CAAcC,MAAd,CAAqBF,KAArB,CADC,6GAAH,kBAAVD,CAAAA,UAAU,4CAAhB,CAGA;AACA,GAAMI,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC7B,GAAGA,KAAK,CAACJ,KAAN,CAAYK,MAAZ,CAAmB,CAAtB,CAAwB,CACpBP,OAAO,CAACQ,GAAR,CAAY,UAAI,CACZP,UAAU,CAACK,KAAK,CAACJ,KAAP,CAAV,CAAwBO,IAAxB,CAA6B,SAACC,QAAD,CAAY,CACrCX,oBAAoB,CAACW,QAAQ,CAACC,MAAT,CAAiBD,QAAQ,CAACE,IAAT,CAAcA,IAA/B,CAAoC,EAArC,CAApB,CACH,CAFD,EAGAZ,OAAO,CAACa,KAAR,GACH,CALD,CAKE,GALF,EAMH,CAEJ,CAVD,CAYA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,IAAD,CAAU,CAC3B,mBACI,2BAAK,SAAS,CAAC,cAAf,eAII,+BAAMA,IAAI,CAACC,EAAX,OAJJ,cAKI,+BAAMD,IAAI,CAACE,QAAX,CALJ,CADJ,CASH,CAVD,CAYA,mBACI,oBAAC,YAAD,EACI,KAAK,CAAErB,KADX,CAEI,WAAW,CAAEE,iBAFjB,CAGI,cAAc,CAAEO,aAHpB,CAII,KAAK,CAAC,UAJV,CAKI,QAAQ,KALZ,CAMI,cAAc,KANlB,CAOI,WAAW,CAAE,UAPjB,CAQI,YAAY,CAAES,YARlB,CASI,QAAQ,CAAE,kBAACI,CAAD,CAAO,CACbrB,QAAQ,CAACqB,CAAC,CAACC,MAAF,CAASvB,KAAV,CAAR,CACH,CAXL,EADJ,CAiBH,CAlDM","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {AutoComplete} from \"../../../../components/autocomplete/AutoComplete\";\r\nimport {Actions} from \"../../../../core\";\r\nimport {Timeout} from \"../../../../core/utils/timeout\";\r\nexport const SearchUser = () =>{\r\n    const [countries,setCountries]=useState([])\r\n    const [value,setValue]=useState(null)\r\n    const [filteredCountries, setFilteredCountries]=useState(null)\r\n    const timeout= Timeout;\r\n    const findByUser = async (query)=>{\r\n        return await (Actions.Users.findBy(query))\r\n    }\r\n    //const response =\r\n    const searchCountry = (event) => {\r\n        if(event.query.length>2){\r\n            timeout.set(()=>{\r\n                findByUser(event.query).then((response)=>{\r\n                    setFilteredCountries(response.status? response.data.data:[]);\r\n                })\r\n                timeout.clear()\r\n            },500)\r\n        }\r\n\r\n    }\r\n\r\n    const itemTemplate = (item) => {\r\n        return (\r\n            <div className=\"country-item\">\r\n{/*\r\n                <img awaitlt={item.name} src={`showcase/demo/images/flag_placeholder.png`} onError={(e) => e.target.src='https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png'} className={`flag flag-${item.code.toLowerCase()}`} />\r\n*/}\r\n                <div>{item.id} - </div>\r\n                <div>{item.username}</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <AutoComplete\r\n            value={value}\r\n            suggestions={filteredCountries}\r\n            completeMethod={searchCountry}\r\n            field=\"username\"\r\n            dropdown\r\n            forceSelection\r\n            placeholder={\"username\"}\r\n            itemTemplate={itemTemplate}\r\n            onChange={(e) => {\r\n                setValue(e.target.value)\r\n            }}\r\n        />\r\n\r\n    )\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}