{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from\"react\";import UserFilter from\"../users/components/UserFilter\";import{Column}from\"../../components/column/Column\";import{DataTable}from\"../../components/datatable/DataTable\";import\"./transactions.scss\";import{Actions}from\"../../core\";import _ from'lodash';import{ProgressBar}from\"../../components/progressbar/ProgressBar\";import moment from\"moment\";import{Dropdown}from\"../../components/dropdown/Dropdown\";import{TabPanel,TabView}from\"../../components/tabview/TabView\";var Transactions=function Transactions(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),filter=_useState2[0],setFilter=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),logs=_useState6[0],setLogs=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),connected=_useState8[0],setConnected=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),details=_useState10[0],setDetails=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loader=_useState12[0],setLoader=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),selected=_useState14[0],setSelected=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),activeTab=_useState16[0],setActiveTab=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),expandedRows=_useState18[0],setExpandedRows=_useState18[1];var _useState19=useState({first:0,row:10}),_useState20=_slicedToArray(_useState19,2),paginator=_useState20[0],setPaginator=_useState20[1];var _useState21=useState({first:0,row:10}),_useState22=_slicedToArray(_useState21,2),connectedPaginator=_useState22[0],setConnectedPaginator=_useState22[1];useEffect(function(){loadData();},[]);useEffect(function(){console.log(selected);if(selected){setExpandedRows(null);loadDetails(selected.id);loadLogs(selected.id);loadConnected(selected.id);}},[selected]);var loadData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoader(true);_context.next=3;return Actions.Transactions.filterBy({});case 3:response=_context.sent;setData(response.status?response.data.data:[]);setLoader(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function loadData(){return _ref.apply(this,arguments);};}();var loadDetails=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=\"b644dcd4-37e3-4a35-9950-1b348f1f728a\";_context2.next=3;return Actions.Transactions.details(id);case 3:response=_context2.sent;setDetails(response.status?response.data.data:[]);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function loadDetails(_x){return _ref2.apply(this,arguments);};}();var loadLogs=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:id=\"b644dcd4-37e3-4a35-9950-1b348f1f728a\";_context3.next=3;return Actions.Transactions.logs(id);case 3:response=_context3.sent;setLogs(response.status?response.data.data:[]);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function loadLogs(_x2){return _ref3.apply(this,arguments);};}();var loadConnected=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:id=\"b644dcd4-37e3-4a35-9950-1b348f1f728a\";_context4.next=3;return Actions.Transactions.Connected(id);case 3:response=_context4.sent;setConnected(response.status?response.data.data:[]);case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function loadConnected(_x3){return _ref4.apply(this,arguments);};}();var template2={layout:'RowsPerPageDropdown CurrentPageReport PrevPageLink NextPageLink','RowsPerPageDropdown':function RowsPerPageDropdown(options){var dropdownOptions=[{label:10,value:10},{label:20,value:20},{label:50,value:50}];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"p-mx-1\",style:{color:'var(--text-color)',userSelect:'none'}},\"Items per page: \"),/*#__PURE__*/React.createElement(Dropdown,{value:options.value,options:dropdownOptions,onChange:options.onChange,appendTo:document.body}));},'CurrentPageReport':function CurrentPageReport(options){return/*#__PURE__*/React.createElement(\"span\",{style:{color:'var(--text-color)',userSelect:'none',width:'120px',textAlign:'center'}},options.first,\" - \",options.last,\" of \",options.totalRecords);}};return/*#__PURE__*/React.createElement(\"div\",{className:\"content-section implementation\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-box call \"},/*#__PURE__*/React.createElement(UserFilter,{setData:setFilter}),loader&&/*#__PURE__*/React.createElement(ProgressBar,{mode:\"indeterminate\",style:{height:'6px'}}),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-cont bg tr-grid\",style:{flex:'1'}},/*#__PURE__*/React.createElement(\"div\",{className:\"p-grid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-col-12\"},/*#__PURE__*/React.createElement(DataTable,_defineProperty({paginator:true,paginatorTemplate:template2,resizableColumns:true,columnResizeMode:\"fit\",first:paginator.first,rows:paginator.row,onPage:function onPage(event){setPaginator(_objectSpread(_objectSpread({},paginator),{},{first:event.first,row:event.rows}));},paginatorClassName:\"p-jc-end\",className:\"p-mt-6\",selectionMode:\"single\",onSelectionChange:function onSelectionChange(e){return setSelected(e.value);},selection:selected,dataKey:\"id\",value:data,scrollable:true,scrollHeight:\"500px\",header:\"Transactions\"},\"className\",\"p-datatable-gridlines\"),/*#__PURE__*/React.createElement(Column,{field:\"id\",header:\"ID\",body:function body(e){return e.id.substring(0,8);}}),/*#__PURE__*/React.createElement(Column,{field:\"startDate\",header:\"StartDate\",body:function body(e){return/*#__PURE__*/React.createElement(\"span\",null,moment(e[\"startDate\"]).format(\"YYYY-MM-DD HH:mm\"));}}),/*#__PURE__*/React.createElement(Column,{field:\"finishDate\",header:\"FinishDate\",body:function body(e){return/*#__PURE__*/React.createElement(\"span\",null,moment(e[\"finishDate\"]).format(\"YYYY-MM-DD HH:mm\"));}}),/*#__PURE__*/React.createElement(Column,{field:\"userId\",header:\"User\",body:function body(e){return e.userId+\" \"+e.user.username+\" (\"+e.user.firstName+\" \"+e.user.lastName+\")\";}}),/*#__PURE__*/React.createElement(Column,{field:\"user.userGroup.name\",header:\"User Group\"}),/*#__PURE__*/React.createElement(Column,{field:\"provider\",header:\"Provider\",body:function body(e){return e.provider.providerGroup.name+' - '+e.provider.name;}}),/*#__PURE__*/React.createElement(Column,{field:\"providerTrId\",header:\"Provider Trans.ID\",body:function body(e){return e.providerTrId.substring(0,8);}}),/*#__PURE__*/React.createElement(Column,{field:\"tax\",header:\"Tax\"}),/*#__PURE__*/React.createElement(Column,{field:\"amount\",header:\"Amount\"}),/*#__PURE__*/React.createElement(Column,{field:\"userAccount.currency.iso3\",header:\"Currency\"}),/*#__PURE__*/React.createElement(Column,{field:\"providerAction.name\",header:\"Action\"}),/*#__PURE__*/React.createElement(Column,{field:\"balanceAfter\",header:\"After\"}),/*#__PURE__*/React.createElement(Column,{field:\"note\",header:\"Note\"}),/*#__PURE__*/React.createElement(Column,{field:\"status\",header:\"Status\",body:function body(e){switch(e.status){case 1:return/*#__PURE__*/React.createElement(\"span\",{style:{color:\"green\"}},\"Success\");case 0:return/*#__PURE__*/React.createElement(\"span\",{style:{color:\"gray\"}},\"Progress\");default:return/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"Cancel\");}}}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-cont bg tr-grid\",style:{minHeight:'400px'}},/*#__PURE__*/React.createElement(\"div\",{className:\"p-grid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-col-4\"},/*#__PURE__*/React.createElement(DataTable,{scrollable:true,scrollHeight:\"700px\",value:selected?_.map(selected.user,function(v,k){if(v){switch(k){case\"userGroup\":case\"verifyStatus\":return{key:k,value:v.name};default:return{key:k,value:v};}}}).filter(function(v){return v;}):[],header:\"\\u10DB\\u10DD\\u10DB\\u10EE\\u10DB\\u10D0\\u10E0\\u10D4\\u10D1\\u10D4\\u10DA\\u10D8\\u10E1 \\u10D8\\u10DC\\u10E4\\u10DD\\u10E0\\u10DB\\u10D0\\u10EA\\u10D8\\u10D0\",className:\"p-datatable-gridlines\"},/*#__PURE__*/React.createElement(Column,{field:\"key\"}),/*#__PURE__*/React.createElement(Column,{field:\"value\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"p-col-8\"},/*#__PURE__*/React.createElement(TabView,{activeIndex:activeTab,onTabChange:function onTabChange(e){return setActiveTab(e.index);}},/*#__PURE__*/React.createElement(TabPanel,{header:\"\\u10E2\\u10E0\\u10D0\\u10DC\\u10D6\\u10D0\\u10E5\\u10EA\\u10D8\\u10D8\\u10E1 \\u10DA\\u10DD\\u10D2\\u10D4\\u10D1\\u10D8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-grid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-col-6\"},/*#__PURE__*/React.createElement(DataTable,{scrollable:true,scrollHeight:\"340px\",value:logs,header:\"\\u10E2\\u10E0\\u10D0\\u10DC\\u10D6\\u10D0\\u10E5\\u10EA\\u10D8\\u10D8\\u10E1 \\u10D8\\u10E1\\u10E2\\u10DD\\u10E0\\u10D8\\u10D0\",className:\"p-datatable-gridlines\"},/*#__PURE__*/React.createElement(Column,{field:\"field\",header:\"\\u10D3\\u10D0\\u10E1\\u10D0\\u10EE\\u10D4\\u10DA\\u10D4\\u10D1\\u10D0\"}),/*#__PURE__*/React.createElement(Column,{field:\"oldValue\",header:\"\\u10EB\\u10D5\\u10D4\\u10DA\\u10D8 \\u10DB\\u10DC\\u10D8\\u10E8\\u10D5\\u10DC\\u10D4\\u10DA\\u10DD\\u10D1\\u10D0\"}),/*#__PURE__*/React.createElement(Column,{field:\"newValue\",header:\"\\u10D0\\u10EE\\u10D0\\u10DA\\u10D8 \\u10DB\\u10DC\\u10D8\\u10E8\\u10D5\\u10DC\\u10D4\\u10DA\\u10DD\\u10D1\\u10D0\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"p-col-6\"},/*#__PURE__*/React.createElement(DataTable,{expandedRows:expandedRows,onRowToggle:function onRowToggle(e){return setExpandedRows(e.data);},scrollable:true,scrollHeight:\"340px\",value:details,header:\"\\u10E2\\u10E0\\u10D0\\u10DC\\u10D6\\u10D0\\u10E5\\u10EA\\u10D8\\u10D8\\u10E1 \\u10D3\\u10D4\\u10E2\\u10D0\\u10DA\\u10D4\\u10D1\\u10D8\",className:\"p-datatable-gridlines\",rowExpansionTemplate:function rowExpansionTemplate(data){return/*#__PURE__*/React.createElement(\"div\",{className:\"orders-subtable\"},JSON.stringify(data.value));},dataKey:\"id\"},/*#__PURE__*/React.createElement(Column,{expander:true,style:{width:'3em'}}),/*#__PURE__*/React.createElement(Column,{field:\"entryDate\",header:\"Date\",body:function body(e){return moment(e.entryDate).format(\"YYYY-MM-DD HH:mm\");}}),/*#__PURE__*/React.createElement(Column,{field:\"key\",header:\"Name\"}),/*#__PURE__*/React.createElement(Column,{field:\"result\",header:\"Result\"}))))),/*#__PURE__*/React.createElement(TabPanel,{header:\"\\u10D3\\u10D0\\u10D9\\u10D0\\u10D5\\u10E8\\u10D8\\u10E0\\u10D4\\u10D1\\u10E3\\u10DA\\u10D8 \\u10E2\\u10E0\\u10D0\\u10DC\\u10D6\\u10D0\\u10E5\\u10EA\\u10D8\\u10D4\\u10D1\\u10D8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-grid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-col-12\"},/*#__PURE__*/React.createElement(DataTable,_defineProperty({paginator:true,paginatorTemplate:template2,resizableColumns:true,columnResizeMode:\"fit\",first:connectedPaginator.first,rows:connectedPaginator.row,onPage:function onPage(event){setConnectedPaginator({first:event.first,row:event.rows});},paginatorClassName:\"p-jc-end\",className:\"p-mt-6\",dataKey:\"id\",value:connected,scrollable:true,scrollHeight:\"340px\",header:\"Transactions\"},\"className\",\"p-datatable-gridlines\"),/*#__PURE__*/React.createElement(Column,{field:\"id\",header:\"ID\",body:function body(e){return e.id.substring(0,8);}}),/*#__PURE__*/React.createElement(Column,{field:\"startDate\",header:\"StartDate\",body:function body(e){return/*#__PURE__*/React.createElement(\"span\",null,moment(e[\"startDate\"]).format(\"YYYY-MM-DD HH:mm\"));}}),/*#__PURE__*/React.createElement(Column,{field:\"finishDate\",header:\"FinishDate\",body:function body(e){return/*#__PURE__*/React.createElement(\"span\",null,moment(e[\"finishDate\"]).format(\"YYYY-MM-DD HH:mm\"));}}),/*#__PURE__*/React.createElement(Column,{field:\"providerTrId\",header:\"Provider Trans.ID\",body:function body(e){return e.providerTrId.substring(0,8);}}),/*#__PURE__*/React.createElement(Column,{field:\"tax\",header:\"Tax\"}),/*#__PURE__*/React.createElement(Column,{field:\"amount\",header:\"Amount\"}),/*#__PURE__*/React.createElement(Column,{field:\"userAccount.currency.iso3\",header:\"Currency\"}),/*#__PURE__*/React.createElement(Column,{field:\"providerAction.name\",header:\"Action\"}),/*#__PURE__*/React.createElement(Column,{field:\"balanceAfter\",header:\"After\"}),/*#__PURE__*/React.createElement(Column,{field:\"note\",header:\"Note\"}),/*#__PURE__*/React.createElement(Column,{field:\"status\",header:\"Status\",body:function body(e){switch(e.status){case 1:return/*#__PURE__*/React.createElement(\"span\",{style:{color:\"green\"}},\"Success\");case 0:return/*#__PURE__*/React.createElement(\"span\",{style:{color:\"gray\"}},\"Progress\");default:return/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"Cancel\");}}})))))))))));};export default Transactions;","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/slotmaster-dashboard/src/views/transaction/transaction.js"],"names":["React","useEffect","useRef","useState","UserFilter","Column","DataTable","Actions","_","ProgressBar","moment","Dropdown","TabPanel","TabView","Transactions","filter","setFilter","data","setData","logs","setLogs","connected","setConnected","details","setDetails","loader","setLoader","selected","setSelected","activeTab","setActiveTab","expandedRows","setExpandedRows","first","row","paginator","setPaginator","connectedPaginator","setConnectedPaginator","loadData","console","log","loadDetails","id","loadLogs","loadConnected","filterBy","response","status","Connected","template2","layout","options","dropdownOptions","label","value","color","userSelect","onChange","document","body","width","textAlign","last","totalRecords","height","flex","event","rows","e","substring","format","userId","user","username","firstName","lastName","provider","providerGroup","name","providerTrId","minHeight","map","v","k","key","index","JSON","stringify","entryDate"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\r\nimport UserFilter from \"../users/components/UserFilter\";\r\nimport {Column} from \"../../components/column/Column\";\r\nimport {DataTable} from \"../../components/datatable/DataTable\";\r\nimport \"./transactions.scss\"\r\nimport {Actions} from \"../../core\";\r\nimport _ from 'lodash'\r\nimport {ProgressBar} from \"../../components/progressbar/ProgressBar\";\r\nimport moment from \"moment\";\r\nimport {Dropdown} from \"../../components/dropdown/Dropdown\";\r\nimport {TabPanel, TabView} from \"../../components/tabview/TabView\";\r\nconst Transactions = ()=>{\r\n    const [filter,setFilter]=useState([])\r\n    const [data,setData]=useState([])\r\n    const [logs,setLogs]=useState([])\r\n    const [connected,setConnected]=useState([])\r\n    const [details,setDetails]=useState([])\r\n    const [loader,setLoader] = useState(false);\r\n    const [selected,setSelected]= useState(null)\r\n    const [activeTab,setActiveTab]=useState(0)\r\n    const [expandedRows, setExpandedRows] = useState(null);\r\n    const [paginator,setPaginator]=useState({\r\n        first: 0,\r\n        row: 10\r\n    })\r\n    const [connectedPaginator,setConnectedPaginator]=useState({\r\n        first: 0,\r\n        row: 10\r\n    })\r\n    useEffect(()=>{\r\n            loadData()\r\n    },[])\r\n    useEffect(()=>{\r\n        console.log(selected)\r\n        if(selected){\r\n            setExpandedRows(null)\r\n            loadDetails(selected.id)\r\n            loadLogs(selected.id)\r\n            loadConnected(selected.id)\r\n        }\r\n\r\n    },[selected])\r\n    const loadData = async () => {\r\n        setLoader(true)\r\n        const response = await Actions.Transactions.filterBy({});\r\n        setData(response.status?response.data.data:[])\r\n        setLoader(false)\r\n    }\r\n    const loadDetails=async (id) => {\r\n        id=\"b644dcd4-37e3-4a35-9950-1b348f1f728a\";\r\n        const response = await Actions.Transactions.details(id)\r\n        setDetails(response.status?response.data.data:[])\r\n    }\r\n    const loadLogs=async (id) => {\r\n        id=\"b644dcd4-37e3-4a35-9950-1b348f1f728a\";\r\n        const response = await Actions.Transactions.logs(id)\r\n        setLogs(response.status?response.data.data:[])\r\n    }\r\n    const loadConnected=async (id) => {\r\n        id=\"b644dcd4-37e3-4a35-9950-1b348f1f728a\";\r\n        const response = await Actions.Transactions.Connected(id)\r\n        setConnected(response.status?response.data.data:[])\r\n    }\r\n    const template2 = {\r\n        layout: 'RowsPerPageDropdown CurrentPageReport PrevPageLink NextPageLink',\r\n        'RowsPerPageDropdown': (options) => {\r\n            const dropdownOptions = [\r\n                { label: 10, value: 10 },\r\n                { label: 20, value: 20 },\r\n                { label: 50, value: 50 }\r\n            ];\r\n\r\n            return (\r\n                <>\r\n                    <span className=\"p-mx-1\" style={{ color: 'var(--text-color)', userSelect: 'none' }}>Items per page: </span>\r\n                    <Dropdown value={options.value} options={dropdownOptions} onChange={options.onChange} appendTo={document.body} />\r\n                </>\r\n            );\r\n        },\r\n        'CurrentPageReport': (options) => {\r\n            return (\r\n                <span style={{ color: 'var(--text-color)', userSelect: 'none', width: '120px', textAlign: 'center' }}>\r\n                        {options.first} - {options.last} of {options.totalRecords}\r\n                    </span>\r\n            )\r\n        }\r\n    };\r\n    return (\r\n        <div className=\"content-section implementation\">\r\n\r\n            <div className=\"flex-box call \">\r\n                <UserFilter setData={setFilter}/>\r\n                {loader && <ProgressBar mode=\"indeterminate\"  style={{ height: '6px' }}/>}\r\n\r\n                <div className=\"flex-cont bg tr-grid\" style={{flex:'1'}}>\r\n                    <div className=\"p-grid\">\r\n                        <div className=\"p-col-12\">\r\n                            <DataTable\r\n                                paginator\r\n                                paginatorTemplate={template2}\r\n                                resizableColumns\r\n                                columnResizeMode=\"fit\"\r\n                                first={paginator.first}\r\n                                rows={paginator.row}\r\n                                onPage={(event)=>{\r\n                                    setPaginator({\r\n                                        ...paginator,\r\n                                        first: event.first,\r\n                                        row:event.rows\r\n                                    })\r\n                                }}\r\n                                paginatorClassName=\"p-jc-end\" className=\"p-mt-6\"\r\n                                selectionMode=\"single\"\r\n                                onSelectionChange={e => setSelected(e.value)}\r\n                                selection={selected}\r\n                                dataKey=\"id\"\r\n                                value={data} scrollable={true}  scrollHeight={\"500px\"} header=\"Transactions\"  className=\"p-datatable-gridlines\">\r\n                                <Column field=\"id\" header=\"ID\" body={e=>e.id.substring(0,8)}/>\r\n                                <Column field=\"startDate\" header=\"StartDate\" body={e=><span>{moment(e[\"startDate\"]).format(\"YYYY-MM-DD HH:mm\")}</span>}/>\r\n                                <Column field=\"finishDate\" header=\"FinishDate\" body={e=><span>{moment(e[\"finishDate\"]).format(\"YYYY-MM-DD HH:mm\")}</span>}/>\r\n                                <Column field=\"userId\" header=\"User\" body={ e=>(e.userId+\" \"+e.user.username+\" (\"+e.user.firstName+\" \"+e.user.lastName+\")\") }/>\r\n                                <Column field=\"user.userGroup.name\" header=\"User Group\"/>\r\n                                <Column field=\"provider\" header=\"Provider\" body={e=>e.provider.providerGroup.name+' - '+e.provider.name}/>\r\n                                <Column field=\"providerTrId\" header=\"Provider Trans.ID\" body={e=>e.providerTrId.substring(0,8)}/>\r\n                                <Column field=\"tax\" header=\"Tax\"/>\r\n                                <Column field=\"amount\" header=\"Amount\"/>\r\n                                <Column field=\"userAccount.currency.iso3\" header=\"Currency\"/>\r\n                                <Column field=\"providerAction.name\" header=\"Action\"/>\r\n                                <Column field=\"balanceAfter\" header=\"After\"/>\r\n                                <Column field=\"note\" header=\"Note\" />\r\n                                <Column field=\"status\" header=\"Status\" body={e=>{\r\n                                    switch (e.status){\r\n                                        case 1:   return <span style={{color:`green`}}>Success</span>\r\n                                        case 0:   return <span style={{color:`gray`}}>Progress</span>\r\n                                        default:   return <span style={{color:`red`}}>Cancel</span>\r\n                                }}}/>\r\n                            </DataTable>\r\n                        </div>\r\n                        {/*<div className=\"p-col-2\">\r\n                            <DataTable value={[]} header=\"მოქმედებები\"  className=\"p-datatable-gridlines\">\r\n                                <Column field=\"oldValue\" header=\"name\"  body={(e)=><span style={{color:'red'}}>{e.oldValue}</span>}/>\r\n                                <Column field=\"newValue\" header=\"value\" body={(e)=><span style={{color:'green'}}>{e.newValue}</span>}/>\r\n                            </DataTable>\r\n                        </div>*/}\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex-cont bg tr-grid\" style={{minHeight:'400px'}}>\r\n                    <div className=\"p-grid\">\r\n                        <div className=\"p-col-4\">\r\n\r\n                            <DataTable scrollable={true} scrollHeight={\"700px\"} value={selected?_.map(selected.user,(v,k)=>{\r\n                               if(v){\r\n                                   switch (k){\r\n                                       case \"userGroup\":\r\n                                       case \"verifyStatus\":return {\r\n                                           key:k,\r\n                                           value:v.name\r\n                                       }\r\n                                       default: return {\r\n                                           key:k,\r\n                                           value:v\r\n                                       }\r\n                                   }\r\n                               }\r\n                            }).filter(v=>v):[]} header=\"მომხმარებელის ინფორმაცია\"  className=\"p-datatable-gridlines\">\r\n                                <Column field=\"key\" />\r\n                                <Column field=\"value\"/>\r\n                            </DataTable>\r\n                        </div>\r\n                        <div className={\"p-col-8\"}>\r\n\r\n                            <TabView activeIndex={activeTab} onTabChange={(e) => setActiveTab( e.index )}>\r\n                                <TabPanel header=\"ტრანზაქციის ლოგები\">\r\n                                    <div className=\"p-grid\" >\r\n                                        <div className=\"p-col-6\">\r\n                                            <DataTable scrollable={true} scrollHeight={\"340px\"} value={logs} header=\"ტრანზაქციის ისტორია\"  className=\"p-datatable-gridlines\">\r\n                                                <Column field=\"field\" header=\"დასახელება\"/>\r\n                                                <Column field=\"oldValue\" header=\"ძველი მნიშვნელობა\"  />\r\n                                                <Column field=\"newValue\" header=\"ახალი მნიშვნელობა\" />\r\n                                            </DataTable>\r\n                                        </div>\r\n                                        <div className=\"p-col-6\">\r\n                                            <DataTable\r\n                                                expandedRows={expandedRows}\r\n                                                onRowToggle={(e) => setExpandedRows(e.data)}\r\n                                                scrollable={true}\r\n                                                scrollHeight={\"340px\"}\r\n                                                value={details}\r\n                                                header=\"ტრანზაქციის დეტალები\"\r\n                                                className=\"p-datatable-gridlines\"\r\n                                                rowExpansionTemplate={(data)=>{\r\n                                                        return (\r\n                                                            <div className=\"orders-subtable\">\r\n                                                                {JSON.stringify(data.value)}\r\n                                                            </div>\r\n                                                        );\r\n\r\n                                                }}\r\n                                                dataKey=\"id\"\r\n                                            >\r\n                                                <Column expander style={{ width: '3em' }} />\r\n                                                <Column field=\"entryDate\" header=\"Date\"  body={e=>moment(e.entryDate).format(\"YYYY-MM-DD HH:mm\")}/>\r\n                                                <Column field=\"key\" header=\"Name\" />\r\n                                                <Column field=\"result\" header=\"Result\" />\r\n                                            </DataTable>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </TabPanel>\r\n                                <TabPanel header=\"დაკავშირებული ტრანზაქციები\">\r\n                                    <div className=\"p-grid\">\r\n                                        <div className=\"p-col-12\">\r\n                                            <DataTable\r\n                                                paginator\r\n                                                paginatorTemplate={template2}\r\n                                                resizableColumns\r\n                                                columnResizeMode=\"fit\"\r\n                                                first={connectedPaginator.first}\r\n                                                rows={connectedPaginator.row}\r\n                                                onPage={(event)=>{\r\n                                                    setConnectedPaginator({\r\n                                                        first: event.first,\r\n                                                        row:event.rows\r\n                                                    })\r\n                                                }}\r\n                                                paginatorClassName=\"p-jc-end\" className=\"p-mt-6\"\r\n                                                dataKey=\"id\"\r\n                                                value={connected} scrollable={true}  scrollHeight={\"340px\"} header=\"Transactions\"  className=\"p-datatable-gridlines\">\r\n                                                <Column field=\"id\" header=\"ID\" body={e=>e.id.substring(0,8)}/>\r\n                                                <Column field=\"startDate\" header=\"StartDate\" body={e=><span>{moment(e[\"startDate\"]).format(\"YYYY-MM-DD HH:mm\")}</span>}/>\r\n                                                <Column field=\"finishDate\" header=\"FinishDate\" body={e=><span>{moment(e[\"finishDate\"]).format(\"YYYY-MM-DD HH:mm\")}</span>}/>\r\n                                                <Column field=\"providerTrId\" header=\"Provider Trans.ID\" body={e=>e.providerTrId.substring(0,8)}/>\r\n                                                <Column field=\"tax\" header=\"Tax\"/>\r\n                                                <Column field=\"amount\" header=\"Amount\"/>\r\n                                                <Column field=\"userAccount.currency.iso3\" header=\"Currency\"/>\r\n                                                <Column field=\"providerAction.name\" header=\"Action\"/>\r\n                                                <Column field=\"balanceAfter\" header=\"After\"/>\r\n                                                <Column field=\"note\" header=\"Note\" />\r\n                                                <Column field=\"status\" header=\"Status\" body={e=>{\r\n                                                    switch (e.status){\r\n                                                        case 1:   return <span style={{color:`green`}}>Success</span>\r\n                                                        case 0:   return <span style={{color:`gray`}}>Progress</span>\r\n                                                        default:   return <span style={{color:`red`}}>Cancel</span>\r\n                                                    }}}/>\r\n                                            </DataTable>\r\n                                        </div>\r\n                                    </div>\r\n                                </TabPanel>\r\n                            </TabView>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Transactions;\r\n"]},"metadata":{},"sourceType":"module"}