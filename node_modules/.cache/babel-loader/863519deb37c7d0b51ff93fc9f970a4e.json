{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button}from'../button/Button';import{classNames}from'../utils/ClassNames';import DomHandler from'../utils/DomHandler';import{SplitButtonItem}from'./SplitButtonItem';import{SplitButtonPanel}from'./SplitButtonPanel';import{tip}from'../tooltip/Tooltip';import UniqueComponentId from'../utils/UniqueComponentId';import ObjectUtils from'../utils/ObjectUtils';import ConnectedOverlayScrollHandler from'../utils/ConnectedOverlayScrollHandler';import OverlayEventBus from'../overlayeventbus/OverlayEventBus';export var SplitButton=/*#__PURE__*/function(_Component){_inherits(SplitButton,_Component);var _super=_createSuper(SplitButton);function SplitButton(props){var _this;_classCallCheck(this,SplitButton);_this=_super.call(this,props);_this.state={overlayVisible:false};_this.onDropdownButtonClick=_this.onDropdownButtonClick.bind(_assertThisInitialized(_this));_this.onItemClick=_this.onItemClick.bind(_assertThisInitialized(_this));_this.onOverlayEnter=_this.onOverlayEnter.bind(_assertThisInitialized(_this));_this.onOverlayEntered=_this.onOverlayEntered.bind(_assertThisInitialized(_this));_this.onOverlayExit=_this.onOverlayExit.bind(_assertThisInitialized(_this));_this.onPanelClick=_this.onPanelClick.bind(_assertThisInitialized(_this));_this.id=_this.props.id||UniqueComponentId();_this.overlayRef=React.createRef();return _this;}_createClass(SplitButton,[{key:\"onPanelClick\",value:function onPanelClick(event){OverlayEventBus.emit('overlay-click',{originalEvent:event,target:this.container});}},{key:\"onDropdownButtonClick\",value:function onDropdownButtonClick(){if(this.state.overlayVisible)this.hide();else this.show();}},{key:\"onItemClick\",value:function onItemClick(){this.hide();}},{key:\"show\",value:function show(){this.setState({overlayVisible:true});}},{key:\"hide\",value:function hide(){this.setState({overlayVisible:false});}},{key:\"onOverlayEnter\",value:function onOverlayEnter(){this.overlayRef.current.style.zIndex=String(DomHandler.generateZIndex());this.alignPanel();}},{key:\"onOverlayEntered\",value:function onOverlayEntered(){this.bindDocumentClickListener();this.bindScrollListener();this.bindResizeListener();}},{key:\"onOverlayExit\",value:function onOverlayExit(){this.unbindDocumentClickListener();this.unbindScrollListener();this.unbindResizeListener();}},{key:\"alignPanel\",value:function alignPanel(){var container=this.defaultButton.parentElement;if(this.props.appendTo){this.overlayRef.current.style.minWidth=DomHandler.getWidth(container)+'px';DomHandler.absolutePosition(this.overlayRef.current,container);}else{DomHandler.relativePosition(this.overlayRef.current,container);}}},{key:\"bindDocumentClickListener\",value:function bindDocumentClickListener(){var _this2=this;if(!this.documentClickListener){this.documentClickListener=function(event){if(_this2.state.overlayVisible&&_this2.isOutsideClicked(event)){_this2.hide();}};document.addEventListener('click',this.documentClickListener);}}},{key:\"bindScrollListener\",value:function bindScrollListener(){var _this3=this;if(!this.scrollHandler){this.scrollHandler=new ConnectedOverlayScrollHandler(this.container,function(){if(_this3.state.overlayVisible){_this3.hide();}});}this.scrollHandler.bindScrollListener();}},{key:\"unbindScrollListener\",value:function unbindScrollListener(){if(this.scrollHandler){this.scrollHandler.unbindScrollListener();}}},{key:\"bindResizeListener\",value:function bindResizeListener(){var _this4=this;if(!this.resizeListener){this.resizeListener=function(){if(_this4.state.overlayVisible){_this4.hide();}};window.addEventListener('resize',this.resizeListener);}}},{key:\"unbindResizeListener\",value:function unbindResizeListener(){if(this.resizeListener){window.removeEventListener('resize',this.resizeListener);this.resizeListener=null;}}},{key:\"isOutsideClicked\",value:function isOutsideClicked(event){return this.container&&this.overlayRef&&this.overlayRef.current&&!this.overlayRef.current.contains(event.target);}},{key:\"unbindDocumentClickListener\",value:function unbindDocumentClickListener(){if(this.documentClickListener){document.removeEventListener('click',this.documentClickListener);this.documentClickListener=null;}}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.tooltip){this.renderTooltip();}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.tooltip!==this.props.tooltip||prevProps.tooltipOptions!==this.props.tooltipOptions){if(this.tooltip)this.tooltip.update(_objectSpread({content:this.props.tooltip},this.props.tooltipOptions||{}));else this.renderTooltip();}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.unbindDocumentClickListener();this.unbindResizeListener();if(this.scrollHandler){this.scrollHandler.destroy();this.scrollHandler=null;}if(this.tooltip){this.tooltip.destroy();this.tooltip=null;}}},{key:\"renderTooltip\",value:function renderTooltip(){this.tooltip=tip({target:this.container,content:this.props.tooltip,options:this.props.tooltipOptions});}},{key:\"renderItems\",value:function renderItems(){var _this5=this;if(this.props.model){return this.props.model.map(function(menuitem,index){return/*#__PURE__*/React.createElement(SplitButtonItem,{menuitem:menuitem,key:index,onItemClick:_this5.onItemClick});});}return null;}},{key:\"render\",value:function render(){var _this6=this;var className=classNames('p-splitbutton p-component',this.props.className,{'p-disabled':this.props.disabled});var items=this.renderItems();var buttonContent=this.props.buttonTemplate?ObjectUtils.getJSXElement(this.props.buttonTemplate,this.props):null;return/*#__PURE__*/React.createElement(\"div\",{id:this.id,className:className,style:this.props.style,ref:function ref(el){return _this6.container=el;}},/*#__PURE__*/React.createElement(Button,{ref:function ref(el){return _this6.defaultButton=el;},type:\"button\",className:\"p-splitbutton-defaultbutton\",icon:this.props.icon,label:this.props.label,onClick:this.props.onClick,disabled:this.props.disabled,tabIndex:this.props.tabIndex},buttonContent),/*#__PURE__*/React.createElement(Button,{type:\"button\",className:\"p-splitbutton-menubutton\",icon:\"pi pi-chevron-down\",onClick:this.onDropdownButtonClick,disabled:this.props.disabled,\"aria-expanded\":this.state.overlayVisible,\"aria-haspopup\":true,\"aria-owns\":this.id+'_overlay'}),/*#__PURE__*/React.createElement(SplitButtonPanel,{ref:this.overlayRef,appendTo:this.props.appendTo,id:this.id+'_overlay',menuStyle:this.props.menuStyle,menuClassName:this.props.menuClassName,onClick:this.onPanelClick,in:this.state.overlayVisible,onEnter:this.onOverlayEnter,onEntered:this.onOverlayEntered,onExit:this.onOverlayExit},items));}}]);return SplitButton;}(Component);SplitButton.defaultProps={id:null,label:null,icon:null,model:null,disabled:null,style:null,className:null,menuStyle:null,menuClassName:null,tabIndex:null,onClick:null,appendTo:null,tooltip:null,tooltipOptions:null,buttonTemplate:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/slotmaster-dashboard/src/components/splitbutton/SplitButton.js"],"names":["React","Component","Button","classNames","DomHandler","SplitButtonItem","SplitButtonPanel","tip","UniqueComponentId","ObjectUtils","ConnectedOverlayScrollHandler","OverlayEventBus","SplitButton","props","state","overlayVisible","onDropdownButtonClick","bind","onItemClick","onOverlayEnter","onOverlayEntered","onOverlayExit","onPanelClick","id","overlayRef","createRef","event","emit","originalEvent","target","container","hide","show","setState","current","style","zIndex","String","generateZIndex","alignPanel","bindDocumentClickListener","bindScrollListener","bindResizeListener","unbindDocumentClickListener","unbindScrollListener","unbindResizeListener","defaultButton","parentElement","appendTo","minWidth","getWidth","absolutePosition","relativePosition","documentClickListener","isOutsideClicked","document","addEventListener","scrollHandler","resizeListener","window","removeEventListener","contains","tooltip","renderTooltip","prevProps","tooltipOptions","update","content","destroy","options","model","map","menuitem","index","className","disabled","items","renderItems","buttonContent","buttonTemplate","getJSXElement","el","icon","label","onClick","tabIndex","menuStyle","menuClassName","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from '../button/Button';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport { SplitButtonItem } from './SplitButtonItem';\r\nimport { SplitButtonPanel } from './SplitButtonPanel';\r\nimport { tip } from '../tooltip/Tooltip';\r\nimport UniqueComponentId from '../utils/UniqueComponentId';\r\nimport ObjectUtils from '../utils/ObjectUtils';\r\nimport ConnectedOverlayScrollHandler from '../utils/ConnectedOverlayScrollHandler';\r\nimport OverlayEventBus from '../overlayeventbus/OverlayEventBus';\r\n\r\nexport class SplitButton extends Component {\r\n\r\n    static defaultProps = {\r\n        id: null,\r\n        label: null,\r\n        icon: null,\r\n        model: null,\r\n        disabled: null,\r\n        style: null,\r\n        className: null,\r\n        menuStyle: null,\r\n        menuClassName: null,\r\n        tabIndex: null,\r\n        onClick: null,\r\n        appendTo: null,\r\n        tooltip: null,\r\n        tooltipOptions: null,\r\n        buttonTemplate: null\r\n    }\r\n\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        label: PropTypes.string,\r\n        icon: PropTypes.string,\r\n        model: PropTypes.array,\r\n        disabled: PropTypes.bool,\r\n        style: PropTypes.object,\r\n        className: PropTypes.string,\r\n        menustyle: PropTypes.object,\r\n        menuClassName: PropTypes.string,\r\n        tabIndex: PropTypes.number,\r\n        onClick: PropTypes.func,\r\n        appendTo: PropTypes.object,\r\n        tooltip: PropTypes.string,\r\n        tooltipOptions: PropTypes.object,\r\n        buttonTemplate: PropTypes.any\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            overlayVisible: false\r\n        };\r\n\r\n        this.onDropdownButtonClick = this.onDropdownButtonClick.bind(this);\r\n        this.onItemClick = this.onItemClick.bind(this);\r\n        this.onOverlayEnter = this.onOverlayEnter.bind(this);\r\n        this.onOverlayEntered = this.onOverlayEntered.bind(this);\r\n        this.onOverlayExit = this.onOverlayExit.bind(this);\r\n        this.onPanelClick = this.onPanelClick.bind(this);\r\n\r\n        this.id = this.props.id || UniqueComponentId();\r\n        this.overlayRef = React.createRef();\r\n    }\r\n\r\n    onPanelClick(event) {\r\n        OverlayEventBus.emit('overlay-click', {\r\n            originalEvent: event,\r\n            target: this.container\r\n        });\r\n    }\r\n\r\n    onDropdownButtonClick() {\r\n        if (this.state.overlayVisible)\r\n            this.hide();\r\n        else\r\n            this.show();\r\n    }\r\n\r\n    onItemClick() {\r\n        this.hide();\r\n    }\r\n\r\n    show() {\r\n        this.setState({ overlayVisible: true });\r\n    }\r\n\r\n    hide() {\r\n        this.setState({ overlayVisible: false });\r\n    }\r\n\r\n    onOverlayEnter() {\r\n        this.overlayRef.current.style.zIndex = String(DomHandler.generateZIndex());\r\n        this.alignPanel();\r\n    }\r\n\r\n    onOverlayEntered() {\r\n        this.bindDocumentClickListener();\r\n        this.bindScrollListener();\r\n        this.bindResizeListener();\r\n    }\r\n\r\n    onOverlayExit() {\r\n        this.unbindDocumentClickListener();\r\n        this.unbindScrollListener();\r\n        this.unbindResizeListener();\r\n    }\r\n\r\n    alignPanel() {\r\n        const container = this.defaultButton.parentElement;\r\n        if (this.props.appendTo) {\r\n            this.overlayRef.current.style.minWidth = DomHandler.getWidth(container) + 'px';\r\n            DomHandler.absolutePosition(this.overlayRef.current, container);\r\n        }\r\n        else {\r\n            DomHandler.relativePosition(this.overlayRef.current, container);\r\n        }\r\n    }\r\n\r\n    bindDocumentClickListener() {\r\n        if (!this.documentClickListener) {\r\n            this.documentClickListener = (event) => {\r\n                if (this.state.overlayVisible && this.isOutsideClicked(event)) {\r\n                    this.hide();\r\n                }\r\n            };\r\n\r\n            document.addEventListener('click', this.documentClickListener);\r\n        }\r\n    }\r\n\r\n    bindScrollListener() {\r\n        if (!this.scrollHandler) {\r\n            this.scrollHandler = new ConnectedOverlayScrollHandler(this.container, () => {\r\n                if (this.state.overlayVisible) {\r\n                    this.hide();\r\n                }\r\n            });\r\n        }\r\n\r\n        this.scrollHandler.bindScrollListener();\r\n    }\r\n\r\n    unbindScrollListener() {\r\n        if (this.scrollHandler) {\r\n            this.scrollHandler.unbindScrollListener();\r\n        }\r\n    }\r\n\r\n    bindResizeListener() {\r\n        if (!this.resizeListener) {\r\n            this.resizeListener = () => {\r\n                if (this.state.overlayVisible) {\r\n                    this.hide();\r\n                }\r\n            };\r\n            window.addEventListener('resize', this.resizeListener);\r\n        }\r\n    }\r\n\r\n    unbindResizeListener() {\r\n        if (this.resizeListener) {\r\n            window.removeEventListener('resize', this.resizeListener);\r\n            this.resizeListener = null;\r\n        }\r\n    }\r\n\r\n    isOutsideClicked(event) {\r\n        return this.container && (this.overlayRef && this.overlayRef.current && !this.overlayRef.current.contains(event.target));\r\n    }\r\n\r\n    unbindDocumentClickListener() {\r\n        if (this.documentClickListener) {\r\n            document.removeEventListener('click', this.documentClickListener);\r\n            this.documentClickListener = null;\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.tooltip) {\r\n            this.renderTooltip();\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.tooltip !== this.props.tooltip || prevProps.tooltipOptions !== this.props.tooltipOptions) {\r\n            if (this.tooltip)\r\n                this.tooltip.update({ content: this.props.tooltip, ...(this.props.tooltipOptions || {}) });\r\n            else\r\n                this.renderTooltip();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.unbindDocumentClickListener();\r\n        this.unbindResizeListener();\r\n        if (this.scrollHandler) {\r\n            this.scrollHandler.destroy();\r\n            this.scrollHandler = null;\r\n        }\r\n\r\n        if (this.tooltip) {\r\n            this.tooltip.destroy();\r\n            this.tooltip = null;\r\n        }\r\n    }\r\n\r\n    renderTooltip() {\r\n        this.tooltip = tip({\r\n            target: this.container,\r\n            content: this.props.tooltip,\r\n            options: this.props.tooltipOptions\r\n        });\r\n    }\r\n\r\n    renderItems() {\r\n        if (this.props.model) {\r\n            return this.props.model.map((menuitem, index) => {\r\n                return <SplitButtonItem menuitem={menuitem} key={index} onItemClick={this.onItemClick} />\r\n            });\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n        let className = classNames('p-splitbutton p-component', this.props.className, { 'p-disabled': this.props.disabled });\r\n        let items = this.renderItems();\r\n        const buttonContent = this.props.buttonTemplate ? ObjectUtils.getJSXElement(this.props.buttonTemplate, this.props) : null;\r\n\r\n        return (\r\n            <div id={this.id} className={className} style={this.props.style} ref={el => this.container = el}>\r\n                <Button ref={(el) => this.defaultButton = el} type=\"button\" className=\"p-splitbutton-defaultbutton\" icon={this.props.icon} label={this.props.label} onClick={this.props.onClick} disabled={this.props.disabled} tabIndex={this.props.tabIndex}>\r\n                    {buttonContent}\r\n                </Button>\r\n                <Button type=\"button\" className=\"p-splitbutton-menubutton\" icon=\"pi pi-chevron-down\" onClick={this.onDropdownButtonClick} disabled={this.props.disabled}\r\n                    aria-expanded={this.state.overlayVisible} aria-haspopup aria-owns={this.id + '_overlay'} />\r\n                <SplitButtonPanel ref={this.overlayRef} appendTo={this.props.appendTo} id={this.id + '_overlay'}\r\n                    menuStyle={this.props.menuStyle} menuClassName={this.props.menuClassName} onClick={this.onPanelClick}\r\n                    in={this.state.overlayVisible} onEnter={this.onOverlayEnter} onEntered={this.onOverlayEntered} onExit={this.onOverlayExit}>\r\n                    {items}\r\n                </SplitButtonPanel>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}