{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\src\\\\components\\\\orderlist\\\\OrderListSubList.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { classNames } from '../utils/ClassNames';\nimport ObjectUtils from '../utils/ObjectUtils';\nimport DomHandler from '../utils/DomHandler';\nimport { Ripple } from '../ripple/Ripple';\nexport var OrderListSubList = /*#__PURE__*/function (_Component) {\n  _inherits(OrderListSubList, _Component);\n\n  var _super = _createSuper(OrderListSubList);\n\n  function OrderListSubList(props) {\n    var _this;\n\n    _classCallCheck(this, OrderListSubList);\n\n    _this = _super.call(this, props);\n    _this.onDragEnd = _this.onDragEnd.bind(_assertThisInitialized(_this));\n    _this.onDragLeave = _this.onDragLeave.bind(_assertThisInitialized(_this));\n    _this.onDrop = _this.onDrop.bind(_assertThisInitialized(_this));\n    _this.onListMouseMove = _this.onListMouseMove.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(OrderListSubList, [{\n    key: \"isSelected\",\n    value: function isSelected(item) {\n      return ObjectUtils.findIndexInList(item, this.props.selection) !== -1;\n    }\n  }, {\n    key: \"onDragStart\",\n    value: function onDragStart(event, index) {\n      this.dragging = true;\n      this.draggedItemIndex = index;\n\n      if (this.props.dragdropScope) {\n        event.dataTransfer.setData('text', 'orderlist');\n      }\n    }\n  }, {\n    key: \"onDragOver\",\n    value: function onDragOver(event, index) {\n      if (this.draggedItemIndex !== index && this.draggedItemIndex + 1 !== index) {\n        this.dragOverItemIndex = index;\n        DomHandler.addClass(event.target, 'p-orderlist-droppoint-highlight');\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"onDragLeave\",\n    value: function onDragLeave(event) {\n      this.dragOverItemIndex = null;\n      DomHandler.removeClass(event.target, 'p-orderlist-droppoint-highlight');\n    }\n  }, {\n    key: \"onDrop\",\n    value: function onDrop(event) {\n      var dropIndex = this.draggedItemIndex > this.dragOverItemIndex ? this.dragOverItemIndex : this.dragOverItemIndex === 0 ? 0 : this.dragOverItemIndex - 1;\n\n      var value = _toConsumableArray(this.props.value);\n\n      ObjectUtils.reorderArray(value, this.draggedItemIndex, dropIndex);\n      this.dragOverItemIndex = null;\n      DomHandler.removeClass(event.target, 'p-orderlist-droppoint-highlight');\n\n      if (this.props.onChange) {\n        this.props.onChange({\n          originalEvent: event,\n          value: value\n        });\n      }\n    }\n  }, {\n    key: \"onDragEnd\",\n    value: function onDragEnd(event) {\n      this.dragging = false;\n    }\n  }, {\n    key: \"onListMouseMove\",\n    value: function onListMouseMove(event) {\n      if (this.dragging) {\n        var offsetY = this.listElement.getBoundingClientRect().top + DomHandler.getWindowScrollTop();\n        var bottomDiff = offsetY + this.listElement.clientHeight - event.pageY;\n        var topDiff = event.pageY - offsetY;\n        if (bottomDiff < 25 && bottomDiff > 0) this.listElement.scrollTop += 15;else if (topDiff < 25 && topDiff > 0) this.listElement.scrollTop -= 15;\n      }\n    }\n  }, {\n    key: \"renderDropPoint\",\n    value: function renderDropPoint(index, key) {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: key,\n        className: \"p-orderlist-droppoint\",\n        onDragOver: function onDragOver(e) {\n          return _this2.onDragOver(e, index + 1);\n        },\n        onDragLeave: this.onDragLeave,\n        onDrop: this.onDrop,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var header = null;\n      var items = null;\n\n      if (this.props.header) {\n        header = /*#__PURE__*/React.createElement(\"div\", {\n          className: \"p-orderlist-header\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 22\n          }\n        }, this.props.header);\n      }\n\n      if (this.props.value) {\n        items = this.props.value.map(function (item, i) {\n          var content = _this3.props.itemTemplate ? _this3.props.itemTemplate(item) : item;\n          var itemClassName = classNames('p-orderlist-item', {\n            'p-highlight': _this3.isSelected(item)\n          }, _this3.props.className);\n          var key = JSON.stringify(item);\n\n          if (_this3.props.dragdrop) {\n            var _items = [_this3.renderDropPoint(i, key + '_droppoint'), /*#__PURE__*/React.createElement(\"li\", {\n              key: key,\n              className: itemClassName,\n              onClick: function onClick(e) {\n                return _this3.props.onItemClick({\n                  originalEvent: e,\n                  value: item,\n                  index: i\n                });\n              },\n              onKeyDown: function onKeyDown(e) {\n                return _this3.props.onItemKeyDown({\n                  originalEvent: e,\n                  value: item,\n                  index: i\n                });\n              },\n              role: \"option\",\n              \"aria-selected\": _this3.isSelected(item),\n              draggable: \"true\",\n              onDragStart: function onDragStart(e) {\n                return _this3.onDragStart(e, i);\n              },\n              onDragEnd: _this3.onDragEnd,\n              tabIndex: _this3.props.tabIndex,\n              __self: _this3,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 25\n              }\n            }, content, /*#__PURE__*/React.createElement(Ripple, {\n              __self: _this3,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 29\n              }\n            }))];\n\n            if (i === _this3.props.value.length - 1) {\n              _items.push(_this3.renderDropPoint(item, i, key + '_droppoint_end'));\n            }\n\n            return _items;\n          } else {\n            return /*#__PURE__*/React.createElement(\"li\", {\n              key: JSON.stringify(item),\n              className: itemClassName,\n              role: \"option\",\n              \"aria-selected\": _this3.isSelected(item),\n              onClick: function onClick(e) {\n                return _this3.props.onItemClick({\n                  originalEvent: e,\n                  value: item,\n                  index: i\n                });\n              },\n              onKeyDown: function onKeyDown(e) {\n                return _this3.props.onItemKeyDown({\n                  originalEvent: e,\n                  value: item,\n                  index: i\n                });\n              },\n              tabIndex: _this3.props.tabIndex,\n              __self: _this3,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 25\n              }\n            }, content);\n          }\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-orderlist-list-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }\n      }, header, /*#__PURE__*/React.createElement(\"ul\", {\n        ref: function ref(el) {\n          return _this3.listElement = el;\n        },\n        className: \"p-orderlist-list\",\n        style: this.props.listStyle,\n        onDragOver: this.onListMouseMove,\n        role: \"listbox\",\n        \"aria-multiselectable\": true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 17\n        }\n      }, items));\n    }\n  }]);\n\n  return OrderListSubList;\n}(Component);\nOrderListSubList.defaultProps = {\n  value: null,\n  selection: null,\n  header: null,\n  listStyle: null,\n  itemTemplate: null,\n  dragdrop: false,\n  tabIndex: null,\n  onItemClick: null,\n  onItemKeyDown: null,\n  onChange: null\n};\nOrderListSubList.propTypes = {\n  value: PropTypes.array,\n  selection: PropTypes.array,\n  header: PropTypes.string,\n  listStyle: PropTypes.object,\n  itemTemplate: PropTypes.func,\n  dragdrop: PropTypes.bool,\n  tabIndex: PropTypes.number,\n  onItemClick: PropTypes.func,\n  onItemKeyDown: PropTypes.func,\n  onChange: PropTypes.func\n};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/slotmaster-dashboard/src/components/orderlist/OrderListSubList.js"],"names":["React","Component","PropTypes","classNames","ObjectUtils","DomHandler","Ripple","OrderListSubList","props","onDragEnd","bind","onDragLeave","onDrop","onListMouseMove","item","findIndexInList","selection","event","index","dragging","draggedItemIndex","dragdropScope","dataTransfer","setData","dragOverItemIndex","addClass","target","preventDefault","removeClass","dropIndex","value","reorderArray","onChange","originalEvent","offsetY","listElement","getBoundingClientRect","top","getWindowScrollTop","bottomDiff","clientHeight","pageY","topDiff","scrollTop","key","e","onDragOver","header","items","map","i","content","itemTemplate","itemClassName","isSelected","className","JSON","stringify","dragdrop","renderDropPoint","onItemClick","onItemKeyDown","onDragStart","tabIndex","length","push","el","listStyle","defaultProps","propTypes","array","string","object","func","bool","number"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport ObjectUtils from '../utils/ObjectUtils';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport { Ripple } from '../ripple/Ripple';\r\n\r\nexport class OrderListSubList extends Component {\r\n\r\n    static defaultProps = {\r\n        value: null,\r\n        selection: null,\r\n        header: null,\r\n        listStyle: null,\r\n        itemTemplate: null,\r\n        dragdrop: false,\r\n        tabIndex: null,\r\n        onItemClick: null,\r\n        onItemKeyDown: null,\r\n        onChange: null\r\n    }\r\n\r\n    static propTypes = {\r\n        value: PropTypes.array,\r\n        selection: PropTypes.array,\r\n        header: PropTypes.string,\r\n        listStyle: PropTypes.object,\r\n        itemTemplate: PropTypes.func,\r\n        dragdrop: PropTypes.bool,\r\n        tabIndex: PropTypes.number,\r\n        onItemClick: PropTypes.func,\r\n        onItemKeyDown: PropTypes.func,\r\n        onChange: PropTypes.func\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onDragEnd = this.onDragEnd.bind(this);\r\n        this.onDragLeave = this.onDragLeave.bind(this);\r\n        this.onDrop = this.onDrop.bind(this);\r\n        this.onListMouseMove = this.onListMouseMove.bind(this);\r\n    }\r\n\r\n    isSelected(item) {\r\n        return ObjectUtils.findIndexInList(item, this.props.selection) !== -1;\r\n    }\r\n\r\n    onDragStart(event, index) {\r\n        this.dragging = true;\r\n        this.draggedItemIndex = index;\r\n        if(this.props.dragdropScope) {\r\n            event.dataTransfer.setData('text', 'orderlist');\r\n        }\r\n    }\r\n\r\n    onDragOver(event, index) {\r\n        if(this.draggedItemIndex !== index && this.draggedItemIndex + 1 !== index) {\r\n            this.dragOverItemIndex = index;\r\n            DomHandler.addClass(event.target, 'p-orderlist-droppoint-highlight');\r\n            event.preventDefault();\r\n        }\r\n    }\r\n\r\n    onDragLeave(event) {\r\n        this.dragOverItemIndex = null;\r\n        DomHandler.removeClass(event.target, 'p-orderlist-droppoint-highlight');\r\n    }\r\n\r\n    onDrop(event) {\r\n        let dropIndex = (this.draggedItemIndex > this.dragOverItemIndex) ? this.dragOverItemIndex : (this.dragOverItemIndex === 0) ? 0 : this.dragOverItemIndex - 1;\r\n        let value = [...this.props.value];\r\n        ObjectUtils.reorderArray(value, this.draggedItemIndex, dropIndex);\r\n        this.dragOverItemIndex = null;\r\n        DomHandler.removeClass(event.target, 'p-orderlist-droppoint-highlight');\r\n\r\n        if(this.props.onChange) {\r\n            this.props.onChange({\r\n                originalEvent: event,\r\n                value: value\r\n            })\r\n        }\r\n    }\r\n\r\n    onDragEnd(event) {\r\n        this.dragging = false;\r\n    }\r\n\r\n    onListMouseMove(event) {\r\n        if(this.dragging) {\r\n            let offsetY = this.listElement.getBoundingClientRect().top + DomHandler.getWindowScrollTop();\r\n            let bottomDiff = (offsetY + this.listElement.clientHeight) - event.pageY;\r\n            let topDiff = (event.pageY - offsetY);\r\n\r\n            if(bottomDiff < 25 && bottomDiff > 0)\r\n                this.listElement.scrollTop += 15;\r\n            else if(topDiff < 25 && topDiff > 0)\r\n                this.listElement.scrollTop -= 15;\r\n        }\r\n    }\r\n\r\n    renderDropPoint(index, key) {\r\n        return (\r\n            <li key={key} className=\"p-orderlist-droppoint\"\r\n                            onDragOver={(e) => this.onDragOver(e, index + 1)} onDragLeave={this.onDragLeave} onDrop={this.onDrop}></li>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        let header = null;\r\n        let items = null;\r\n\r\n        if (this.props.header) {\r\n            header = <div className=\"p-orderlist-header\">{this.props.header}</div>\r\n        }\r\n\r\n        if (this.props.value) {\r\n            items = this.props.value.map((item, i) => {\r\n                let content = this.props.itemTemplate ? this.props.itemTemplate(item) : item;\r\n                let itemClassName = classNames('p-orderlist-item', {'p-highlight': this.isSelected(item)}, this.props.className);\r\n                let key = JSON.stringify(item);\r\n\r\n                if (this.props.dragdrop) {\r\n                    let items = [\r\n                        this.renderDropPoint(i, key + '_droppoint'),\r\n                        <li key={key} className={itemClassName} onClick={(e) => this.props.onItemClick({originalEvent: e, value: item, index: i})}\r\n                            onKeyDown={(e) => this.props.onItemKeyDown({originalEvent: e, value: item, index: i})} role=\"option\" aria-selected={this.isSelected(item)}\r\n                            draggable=\"true\" onDragStart={(e) => this.onDragStart(e, i)} onDragEnd={this.onDragEnd} tabIndex={this.props.tabIndex}>\r\n                            {content}\r\n                            <Ripple />\r\n                        </li>\r\n                    ];\r\n\r\n                    if (i === this.props.value.length - 1) {\r\n                        items.push(this.renderDropPoint(item, i, key + '_droppoint_end'));\r\n                    }\r\n\r\n                    return items;\r\n                }\r\n                else {\r\n                    return (\r\n                        <li key={JSON.stringify(item)} className={itemClassName} role=\"option\" aria-selected={this.isSelected(item)}\r\n                            onClick={(e) => this.props.onItemClick({originalEvent: e, value: item, index: i})}\r\n                            onKeyDown={(e) => this.props.onItemKeyDown({originalEvent: e, value: item, index: i})}\r\n                            tabIndex={this.props.tabIndex}>{content}</li>\r\n                    );\r\n                }\r\n            });\r\n        }\r\n\r\n        return (\r\n            <div className=\"p-orderlist-list-container\">\r\n                {header}\r\n                <ul ref={(el) => this.listElement = el} className=\"p-orderlist-list\" style={this.props.listStyle} onDragOver={this.onListMouseMove} role=\"listbox\" aria-multiselectable>\r\n                    {items}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}