{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{Column}from\"../../../components/column/Column\";import{DataTable}from\"../../../components/datatable/DataTable\";import React,{useEffect,useState}from\"react\";import{Actions}from\"../../../core\";import{ProgressBar}from\"../../../components/progressbar/ProgressBar\";import{confirmDialog}from\"../../../components/confirmdialog/ConfirmDialog\";import{Dialog}from\"../../../components/dialog/Dialog\";import{Button}from\"../../../components/button/Button\";import{InputText}from\"../../../components/inputtext/InputText\";import{Dropdown}from\"../../../components/dropdown/Dropdown\";export var ProviderGroups=function ProviderGroups(_ref){var onSelect=_ref.onSelect,onEvent=_ref.onEvent;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selected=_useState4[0],setSelected=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),type=_useState6[0],setType=_useState6[1];var _useState7=useState({name:\"\",note:\"\",disabled:0}),_useState8=_slicedToArray(_useState7,2),current=_useState8[0],setCurrent=_useState8[1];useEffect(function(){loadData();},[]);useEffect(function(){if(selected){setCurrent(_objectSpread({},selected));onSelect(selected);}else{setCurrent({name:\"\",note:\"\",disabled:0});}},[selected]);var loadData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Actions.Providers.ProviderGroups();case 2:response=_context.sent;setData(response.status?response.data.data:[]);case 4:case\"end\":return _context.stop();}}},_callee);}));return function loadData(){return _ref2.apply(this,arguments);};}();var onDelete=function onDelete(){if(selected){confirmDialog({message:'Do you want to delete this record?',header:'Delete Confirmation',icon:'pi pi-info-circle',acceptClassName:'p-button-danger',accept:function(){var _accept=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Actions.Providers.DeleteProviderGroup(selected.id);case 2:response=_context2.sent;parseResponse(response);case 4:case\"end\":return _context2.stop();}}},_callee2);}));function accept(){return _accept.apply(this,arguments);}return accept;}(),reject:function reject(){return console.log(\"reject\");}});}};var parseResponse=function parseResponse(response){if(response.status){if(response.data.data===1){loadData();onEvent({severity:'success',summary:'Success Message',detail:'Message Content',life:3000});}else{onEvent({severity:'info',summary:'Rejected',detail:'Maybe this already deleted',life:3000});}}else{onEvent({severity:'error',summary:'Rejected',detail:'You have rejected',life:3000});}};var onAction=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(type===\"insert\")){_context3.next=7;break;}_context3.next=3;return Actions.Providers.InsertProviderGroup(current);case 3:response=_context3.sent;parseResponse({status:response.status,data:response.status?{data:1}:{data:0}});_context3.next=11;break;case 7:_context3.next=9;return Actions.Providers.UpdateProviderGroup({id:current.id,data:{name:current.name,note:current.note,disabled:current.disabled}});case 9:response=_context3.sent;parseResponse({status:response.status,data:response.status?{data:1}:{data:0}});case 11:if(response.status){setType(null);}case 12:case\"end\":return _context3.stop();}}},_callee3);}));return function onAction(){return _ref3.apply(this,arguments);};}();var renderFooter=function renderFooter(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{label:\"No\",icon:\"pi pi-times\",onClick:function onClick(){setType(null);},className:\"p-button-text\"}),/*#__PURE__*/React.createElement(Button,{label:\"Yes\",icon:\"pi pi-check\",onClick:function onClick(){return onAction();},autoFocus:true}));};var renderHeader=function renderHeader(){return type===\"insert\"?\"New Group\":\"Update Group\";};var visible=function visible(){if(type===\"insert\"){return true;}else if(type===\"update\"&&selected){return true;}return false;};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Dialog,{header:renderHeader,visible:visible(),style:{width:'50vw'},footer:renderFooter,onHide:function onHide(){return setType(null);}},/*#__PURE__*/React.createElement(\"div\",{className:\"p-fluid\",style:{height:\"270px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"p-field\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"gName\"},\"Group Name\"),/*#__PURE__*/React.createElement(InputText,{id:\"gName\",type:\"text\",value:current.name,onChange:function onChange(event){return setCurrent(_objectSpread(_objectSpread({},current),{},{name:event.target.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"p-field\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"note\"},\"Note\"),/*#__PURE__*/React.createElement(InputText,{id:\"note\",type:\"text\",value:current.note,onChange:function onChange(event){return setCurrent(_objectSpread(_objectSpread({},current),{},{note:event.target.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"p-field\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"disabled\"},\"On/Off\"),/*#__PURE__*/React.createElement(Dropdown,{inputId:\"disabled\",optionValue:\"id\",value:current.disabled,options:[{id:1,name:\"On\"},{id:0,name:\"Off\"}],onChange:function onChange(event){return setCurrent(_objectSpread(_objectSpread({},current),{},{disabled:event.value}));},placeholder:\"Select\",optionLabel:\"name\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-box call\",style:{flex:'1'}},/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},/*#__PURE__*/React.createElement(\"div\",null,\"Provider Groups\"),/*#__PURE__*/React.createElement(\"i\",{className:\"pi pi-plus\",onClick:function onClick(){setSelected(null);setType(\"insert\");}}),/*#__PURE__*/React.createElement(\"i\",{className:\"pi pi-pencil\",onClick:function onClick(){return setType(\"update\");}}),/*#__PURE__*/React.createElement(\"i\",{className:\"pi pi-trash\",onClick:onDelete})),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-cont grid bg\"},!data&&/*#__PURE__*/React.createElement(ProgressBar,{style:{height:'6px'},mode:\"indeterminate\"}),/*#__PURE__*/React.createElement(DataTable,{selection:selected,onSelectionChange:function onSelectionChange(e){return setSelected(e.value);},selectionMode:\"single\",dataKey:\"id\",scrollable:true,value:data,className:\"p-datatable-gridlines\",rowClassName:function rowClassName(data){return{'bg-red':data.disabled===1};}},/*#__PURE__*/React.createElement(Column,{field:\"id\",header:\"ID\"}),/*#__PURE__*/React.createElement(Column,{field:\"name\",header:\"Group Name\",filter:true,filterPlaceholder:\"Search by name\"}),/*#__PURE__*/React.createElement(Column,{field:\"disabled\",header:\"On/Off\"})))));};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/views/transferProviders/components/providerGroups.js"],"names":["Column","DataTable","React","useEffect","useState","Actions","ProgressBar","confirmDialog","Dialog","Button","InputText","Dropdown","ProviderGroups","onSelect","onEvent","data","setData","selected","setSelected","type","setType","name","note","disabled","current","setCurrent","loadData","Providers","response","status","onDelete","message","header","icon","acceptClassName","accept","DeleteProviderGroup","id","parseResponse","reject","console","log","severity","summary","detail","life","onAction","InsertProviderGroup","UpdateProviderGroup","renderFooter","renderHeader","visible","width","height","event","target","value","flex","e"],"mappings":"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","sourcesContent":["import {Column} from \"../../../components/column/Column\";\r\nimport {DataTable} from \"../../../components/datatable/DataTable\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {Actions} from \"../../../core\";\r\nimport {ProgressBar} from \"../../../components/progressbar/ProgressBar\";\r\nimport {confirmDialog} from \"../../../components/confirmdialog/ConfirmDialog\";\r\nimport {Dialog} from \"../../../components/dialog/Dialog\";\r\nimport {Button} from \"../../../components/button/Button\";\r\nimport {InputText} from \"../../../components/inputtext/InputText\";\r\nimport {Dropdown} from \"../../../components/dropdown/Dropdown\";\r\n\r\nexport const ProviderGroups = ({onSelect,onEvent}) =>{\r\n    const [data,setData]=useState(null)\r\n    const [selected,setSelected]=useState(null)\r\n    const [type,setType]=useState(null)\r\n    const [current,setCurrent]=useState({\r\n        name:\"\",\r\n        note:\"\",\r\n        disabled:0\r\n    })\r\n    useEffect(()=>{\r\n        loadData()\r\n    },[])\r\n    useEffect(()=>{\r\n        if(selected){\r\n            setCurrent({...selected})\r\n            onSelect(selected)\r\n        }else{\r\n            setCurrent({\r\n                name:\"\",\r\n                note:\"\",\r\n                disabled:0\r\n            })\r\n        }\r\n    },[selected])\r\n    const loadData = async () => {\r\n        const response = await Actions.Providers.ProviderGroups();\r\n        setData(response.status?response.data.data:[])\r\n    }\r\n    const onDelete=()=>{\r\n        if(selected){\r\n            confirmDialog({\r\n                message: 'Do you want to delete this record?',\r\n                header: 'Delete Confirmation',\r\n                icon: 'pi pi-info-circle',\r\n                acceptClassName: 'p-button-danger',\r\n                accept: async () => {\r\n                    const response = await Actions.Providers.DeleteProviderGroup(selected.id)\r\n                    parseResponse(response)\r\n                },\r\n                reject: ()=>console.log(\"reject\")\r\n            });\r\n        }\r\n\r\n    }\r\n    const parseResponse = (response) =>{\r\n        if(response.status){\r\n            if(response.data.data===1){\r\n                loadData();\r\n                onEvent({severity:'success', summary: 'Success Message', detail:'Message Content', life: 3000})\r\n            }else{\r\n                onEvent({ severity: 'info', summary: 'Rejected', detail: 'Maybe this already deleted', life: 3000 })\r\n            }\r\n        }else{\r\n            onEvent({ severity: 'error', summary: 'Rejected', detail: 'You have rejected', life: 3000 })\r\n        }\r\n    }\r\n    const onAction=async () => {\r\n        let response;\r\n        if (type === \"insert\") {\r\n            response = await Actions.Providers.InsertProviderGroup(current)\r\n            parseResponse({\r\n                status:response.status,\r\n                data:response.status? {data:1}:{data:0}\r\n            })\r\n        } else {\r\n            response = await Actions.Providers.UpdateProviderGroup({id:current.id,data:{ name:current.name,note:current.note,disabled:current.disabled}})\r\n            parseResponse({\r\n                status:response.status,\r\n                data:response.status? {data:1}:{data:0}\r\n            })\r\n        }\r\n        if(response.status){\r\n            setType(null)\r\n        }\r\n    }\r\n    const renderFooter=()=>{\r\n        return (\r\n            <div>\r\n                <Button label=\"No\" icon=\"pi pi-times\" onClick={() => {\r\n                    setType(null);\r\n                }} className=\"p-button-text\" />\r\n                <Button label=\"Yes\" icon=\"pi pi-check\" onClick={() =>onAction()} autoFocus />\r\n            </div>\r\n        );\r\n    }\r\n    const renderHeader=()=>{\r\n        return  type===\"insert\"? \"New Group\":\"Update Group\"\r\n    };\r\n    const visible=()=>{\r\n        if(type===\"insert\"){\r\n            return true;\r\n        }else if(type===\"update\" && selected){\r\n            return true;\r\n        }\r\n        return false\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Dialog header={renderHeader} visible={visible()} style={{ width: '50vw' }} footer={renderFooter} onHide={() => setType(null)}>\r\n                 <div className=\"p-fluid\" style={{height:\"270px\"}}>\r\n                    <div className=\"p-field\">\r\n                        <label htmlFor=\"gName\">Group Name</label>\r\n                        <InputText id=\"gName\" type=\"text\"  value={current.name} onChange={event => setCurrent({...current,name:event.target.value})}/>\r\n                    </div>\r\n                    <div className=\"p-field\">\r\n                        <label htmlFor=\"note\">Note</label>\r\n                        <InputText id=\"note\" type=\"text\" value={current.note} onChange={event => setCurrent({...current,note:event.target.value})} />\r\n                    </div>\r\n                    <div className=\"p-field\">\r\n                        <label htmlFor=\"disabled\">On/Off</label>\r\n                        <Dropdown inputId=\"disabled\" optionValue={\"id\"} value={current.disabled} options={[{id:1,name:\"On\"},{id:0,name: \"Off\"}]} onChange={event=>setCurrent({...current,disabled:event.value})} placeholder=\"Select\" optionLabel=\"name\"/>\r\n                    </div>\r\n                </div>\r\n            </Dialog>\r\n            <div className=\"flex-box call\" style={{flex:'1'}}>\r\n                <div className=\"title\">\r\n                    <div>Provider Groups</div>\r\n                    <i className=\"pi pi-plus\" onClick={()=>{\r\n                        setSelected(null)\r\n                        setType(\"insert\")}\r\n                    }/>\r\n                    <i className=\"pi pi-pencil\" onClick={()=>setType(\"update\")}/>\r\n                    <i className=\"pi pi-trash\" onClick={onDelete}/>\r\n                </div>\r\n                <div className=\"flex-cont grid bg\">\r\n                    {!data && <ProgressBar style={{ height: '6px' }} mode=\"indeterminate\" />}\r\n                    <DataTable\r\n                        selection={selected} onSelectionChange={e => setSelected(e.value)} selectionMode=\"single\" dataKey=\"id\"\r\n                        scrollable value={data}  className=\"p-datatable-gridlines\" rowClassName={data => {\r\n                        return {\r\n                            'bg-red': data.disabled === 1\r\n                        }\r\n                    }}>\r\n                        <Column field=\"id\" header=\"ID\" />\r\n                        <Column field=\"name\" header=\"Group Name\" filter  filterPlaceholder=\"Search by name\"/>\r\n                        <Column field=\"disabled\" header=\"On/Off\"/>\r\n                    </DataTable>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}