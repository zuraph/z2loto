{"ast":null,"code":"import _createForOfIteratorHelper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{classNames}from'../utils/ClassNames';import DomHandler from'../utils/DomHandler';import ObjectUtils from'../utils/ObjectUtils';import{Ripple}from'../ripple/Ripple';export var CascadeSelectSub=/*#__PURE__*/function(_Component){_inherits(CascadeSelectSub,_Component);var _super=_createSuper(CascadeSelectSub);function CascadeSelectSub(props){var _this;_classCallCheck(this,CascadeSelectSub);_this=_super.call(this,props);_this.state={activeOption:null};_this.onOptionSelect=_this.onOptionSelect.bind(_assertThisInitialized(_this));_this.onOptionGroupSelect=_this.onOptionGroupSelect.bind(_assertThisInitialized(_this));return _this;}_createClass(CascadeSelectSub,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.selectionPath&&this.props.options&&!this.props.dirty){var _iterator=_createForOfIteratorHelper(this.props.options),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var option=_step.value;if(this.props.selectionPath.includes(option)){this.setState({activeOption:option});break;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}if(!this.props.root){this.position();}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.parentActive!==this.props.parentActive){this.setState({activeOption:null});}}},{key:\"position\",value:function position(){var parentItem=this.element.parentElement;var containerOffset=DomHandler.getOffset(parentItem);var viewport=DomHandler.getViewport();var sublistWidth=this.element.offsetParent?this.element.offsetWidth:DomHandler.getHiddenElementOuterWidth(this.element);var itemOuterWidth=DomHandler.getOuterWidth(parentItem.children[0]);if(parseInt(containerOffset.left,10)+itemOuterWidth+sublistWidth>viewport.width-DomHandler.calculateScrollbarWidth()){this.element.style.left='-100%';}}},{key:\"onOptionSelect\",value:function onOptionSelect(event){if(this.props.onOptionSelect){this.props.onOptionSelect(event);}}},{key:\"onKeyDown\",value:function onKeyDown(event,option){var listItem=event.currentTarget.parentElement;switch(event.key){case'Down':case'ArrowDown':var nextItem=this.findNextItem(listItem);if(nextItem){nextItem.children[0].focus();}break;case'Up':case'ArrowUp':var prevItem=this.findPrevItem(listItem);if(prevItem){prevItem.children[0].focus();}break;case'Right':case'ArrowRight':if(this.isOptionGroup(option)){if(this.state.activeOption===option){listItem.children[1].children[0].children[0].focus();}else{this.setState({activeOption:option});}}break;case'Left':case'ArrowLeft':this.setState({activeOption:null});var parentList=event.currentTarget.parentElement.parentElement.previousElementSibling;if(parentList){parentList.focus();}break;case'Enter':this.onOptionClick(event,option);break;default:break;}event.preventDefault();}},{key:\"findNextItem\",value:function findNextItem(item){var nextItem=item.nextElementSibling;if(nextItem)return DomHandler.hasClass(nextItem,'p-disabled')||!DomHandler.hasClass(nextItem,'p-cascadeselect-item')?this.findNextItem(nextItem):nextItem;else return null;}},{key:\"findPrevItem\",value:function findPrevItem(item){var prevItem=item.previousElementSibling;if(prevItem)return DomHandler.hasClass(prevItem,'p-disabled')||!DomHandler.hasClass(prevItem,'p-cascadeselect-item')?this.findPrevItem(prevItem):prevItem;else return null;}},{key:\"onOptionClick\",value:function onOptionClick(event,option){if(this.isOptionGroup(option)){this.setState({activeOption:this.state.activeOption===option?null:option});if(this.props.onOptionGroupSelect){this.props.onOptionGroupSelect({originalEvent:event,value:option});}}else{if(this.props.onOptionSelect){this.props.onOptionSelect({originalEvent:event,value:this.getOptionValue(option)});}}}},{key:\"onOptionGroupSelect\",value:function onOptionGroupSelect(event){if(this.props.onOptionGroupSelect){this.props.onOptionGroupSelect(event);}}},{key:\"getOptionLabel\",value:function getOptionLabel(option){return this.props.optionLabel?ObjectUtils.resolveFieldData(option,this.props.optionLabel):option;}},{key:\"getOptionValue\",value:function getOptionValue(option){return this.props.optionValue?ObjectUtils.resolveFieldData(option,this.props.optionValue):option;}},{key:\"getOptionGroupLabel\",value:function getOptionGroupLabel(optionGroup){return this.props.optionGroupLabel?ObjectUtils.resolveFieldData(optionGroup,this.props.optionGroupLabel):null;}},{key:\"getOptionGroupChildren\",value:function getOptionGroupChildren(optionGroup){return ObjectUtils.resolveFieldData(optionGroup,this.props.optionGroupChildren[this.props.level]);}},{key:\"isOptionGroup\",value:function isOptionGroup(option){return Object.prototype.hasOwnProperty.call(option,this.props.optionGroupChildren[this.props.level]);}},{key:\"getOptionLabelToRender\",value:function getOptionLabelToRender(option){return this.isOptionGroup(option)?this.getOptionGroupLabel(option):this.getOptionLabel(option);}},{key:\"renderSubmenu\",value:function renderSubmenu(option){if(this.isOptionGroup(option)&&this.state.activeOption===option){return/*#__PURE__*/React.createElement(CascadeSelectSub,{options:this.getOptionGroupChildren(option),className:\"p-cascadeselect-sublist\",selectionPath:this.props.selectionPath,optionLabel:this.props.optionLabel,optionValue:this.props.optionValue,level:this.props.level+1,onOptionSelect:this.onOptionSelect,onOptionGroupSelect:this.onOptionGroupSelect,parentActive:this.state.activeOption===option,optionGroupLabel:this.props.optionGroupLabel,optionGroupChildren:this.props.optionGroupChildren,dirty:this.props.dirty,template:this.props.template});}return null;}},{key:\"renderOption\",value:function renderOption(option,index){var _this2=this;var className=classNames('p-cascadeselect-item',{'p-cascadeselect-item-group':this.isOptionGroup(option),'p-cascadeselect-item-active p-highlight':this.state.activeOption===option},option.className);var submenu=this.renderSubmenu(option);var content=this.props.template?ObjectUtils.getJSXElement(this.props.template,this.getOptionValue(option)):/*#__PURE__*/React.createElement(\"span\",{className:\"p-cascadeselect-item-text\"},this.getOptionLabelToRender(option));var optionGroup=this.isOptionGroup(option)&&/*#__PURE__*/React.createElement(\"span\",{className:\"p-cascadeselect-group-icon pi pi-angle-right\"});return/*#__PURE__*/React.createElement(\"li\",{key:this.getOptionLabelToRender(option)+'_'+index,className:className,style:option.style,role:\"none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-cascadeselect-item-content\",onClick:function onClick(event){return _this2.onOptionClick(event,option);},tabIndex:0,onKeyDown:function onKeyDown(event){return _this2.onKeyDown(event,option);}},content,optionGroup,/*#__PURE__*/React.createElement(Ripple,null)),submenu);}},{key:\"renderMenu\",value:function renderMenu(){var _this3=this;if(this.props.options){return this.props.options.map(function(option,index){return _this3.renderOption(option,index);});}return null;}},{key:\"render\",value:function render(){var _this4=this;var className=classNames('p-cascadeselect-panel p-cascadeselect-items',this.props.className);var submenu=this.renderMenu();return/*#__PURE__*/React.createElement(\"ul\",{ref:function ref(el){return _this4.element=el;},className:className,role:\"listbox\",\"aria-orientation\":\"horizontal\"},submenu);}}]);return CascadeSelectSub;}(Component);CascadeSelectSub.defaultProps={options:null,selectionPath:false,className:null,optionLabel:null,optionValue:null,level:null,optionGroupLabel:null,optionGroupChildren:null,parentActive:null,dirty:null,root:null,template:null,onOptionSelect:null,onOptionGroupSelect:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/slotmaster-dashboard/src/components/cascadeselect/CascadeSelectSub.js"],"names":["React","Component","classNames","DomHandler","ObjectUtils","Ripple","CascadeSelectSub","props","state","activeOption","onOptionSelect","bind","onOptionGroupSelect","selectionPath","options","dirty","option","includes","setState","root","position","prevProps","parentActive","parentItem","element","parentElement","containerOffset","getOffset","viewport","getViewport","sublistWidth","offsetParent","offsetWidth","getHiddenElementOuterWidth","itemOuterWidth","getOuterWidth","children","parseInt","left","width","calculateScrollbarWidth","style","event","listItem","currentTarget","key","nextItem","findNextItem","focus","prevItem","findPrevItem","isOptionGroup","parentList","previousElementSibling","onOptionClick","preventDefault","item","nextElementSibling","hasClass","originalEvent","value","getOptionValue","optionLabel","resolveFieldData","optionValue","optionGroup","optionGroupLabel","optionGroupChildren","level","Object","prototype","hasOwnProperty","call","getOptionGroupLabel","getOptionLabel","getOptionGroupChildren","template","index","className","submenu","renderSubmenu","content","getJSXElement","getOptionLabelToRender","onKeyDown","map","renderOption","renderMenu","el","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport ObjectUtils from '../utils/ObjectUtils';\r\nimport { Ripple } from '../ripple/Ripple';\r\n\r\nexport class CascadeSelectSub extends Component {\r\n\r\n    static defaultProps = {\r\n        options: null,\r\n        selectionPath: false,\r\n        className: null,\r\n        optionLabel: null,\r\n        optionValue: null,\r\n        level: null,\r\n        optionGroupLabel: null,\r\n        optionGroupChildren: null,\r\n        parentActive: null,\r\n        dirty: null,\r\n        root: null,\r\n        template: null,\r\n        onOptionSelect: null,\r\n        onOptionGroupSelect: null\r\n    };\r\n\r\n    static propTypes = {\r\n        options: PropTypes.array,\r\n        selectionPath: PropTypes.any,\r\n        className: PropTypes.string,\r\n        optionLabel: PropTypes.string,\r\n        optionValue: PropTypes.string,\r\n        level: PropTypes.number,\r\n        optionGroupLabel: PropTypes.string,\r\n        optionGroupChildren: PropTypes.array,\r\n        parentActive: PropTypes.bool,\r\n        dirty: PropTypes.bool,\r\n        root: PropTypes.bool,\r\n        template: PropTypes.any,\r\n        onOptionSelect: PropTypes.func,\r\n        onOptionGroupSelect: PropTypes.func\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeOption: null\r\n        };\r\n\r\n        this.onOptionSelect = this.onOptionSelect.bind(this);\r\n        this.onOptionGroupSelect = this.onOptionGroupSelect.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.selectionPath && this.props.options && !this.props.dirty) {\r\n            for (let option of this.props.options) {\r\n                if (this.props.selectionPath.includes(option)) {\r\n                    this.setState({ activeOption: option });\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!this.props.root) {\r\n            this.position();\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.parentActive !== this.props.parentActive) {\r\n            this.setState({ activeOption: null })\r\n        }\r\n    }\r\n\r\n    position() {\r\n        const parentItem = this.element.parentElement;\r\n        const containerOffset = DomHandler.getOffset(parentItem);\r\n        const viewport = DomHandler.getViewport();\r\n        const sublistWidth = this.element.offsetParent ? this.element.offsetWidth : DomHandler.getHiddenElementOuterWidth(this.element);\r\n        const itemOuterWidth = DomHandler.getOuterWidth(parentItem.children[0]);\r\n\r\n        if ((parseInt(containerOffset.left, 10) + itemOuterWidth + sublistWidth) > (viewport.width - DomHandler.calculateScrollbarWidth())) {\r\n            this.element.style.left = '-100%';\r\n        }\r\n    }\r\n\r\n    onOptionSelect(event) {\r\n        if (this.props.onOptionSelect) {\r\n            this.props.onOptionSelect(event);\r\n        }\r\n    }\r\n\r\n    onKeyDown(event, option) {\r\n        let listItem = event.currentTarget.parentElement;\r\n\r\n        switch (event.key) {\r\n            case 'Down':\r\n            case 'ArrowDown':\r\n                let nextItem = this.findNextItem(listItem);\r\n                if (nextItem) {\r\n                    nextItem.children[0].focus();\r\n                }\r\n                break;\r\n\r\n            case 'Up':\r\n            case 'ArrowUp':\r\n                let prevItem = this.findPrevItem(listItem);\r\n                if (prevItem) {\r\n                    prevItem.children[0].focus();\r\n                }\r\n                break;\r\n\r\n            case 'Right':\r\n            case 'ArrowRight':\r\n                if (this.isOptionGroup(option)) {\r\n                    if (this.state.activeOption === option) {\r\n                        listItem.children[1].children[0].children[0].focus();\r\n                    }\r\n                    else {\r\n                        this.setState({ activeOption: option });\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case 'Left':\r\n            case 'ArrowLeft':\r\n                this.setState({ activeOption: null });\r\n\r\n                let parentList = event.currentTarget.parentElement.parentElement.previousElementSibling;\r\n                if (parentList) {\r\n                    parentList.focus();\r\n                }\r\n                break;\r\n\r\n            case 'Enter':\r\n                this.onOptionClick(event, option);\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    findNextItem(item) {\r\n        let nextItem = item.nextElementSibling;\r\n\r\n        if (nextItem)\r\n            return DomHandler.hasClass(nextItem, 'p-disabled') || !DomHandler.hasClass(nextItem, 'p-cascadeselect-item') ? this.findNextItem(nextItem) : nextItem;\r\n        else\r\n            return null;\r\n    }\r\n\r\n    findPrevItem(item) {\r\n        let prevItem = item.previousElementSibling;\r\n\r\n        if (prevItem)\r\n            return DomHandler.hasClass(prevItem, 'p-disabled') || !DomHandler.hasClass(prevItem, 'p-cascadeselect-item') ? this.findPrevItem(prevItem) : prevItem;\r\n        else\r\n            return null;\r\n    }\r\n\r\n    onOptionClick(event, option) {\r\n        if (this.isOptionGroup(option)) {\r\n            this.setState({ activeOption: (this.state.activeOption === option) ? null : option });\r\n\r\n            if (this.props.onOptionGroupSelect) {\r\n                this.props.onOptionGroupSelect({\r\n                    originalEvent: event,\r\n                    value: option\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            if (this.props.onOptionSelect) {\r\n                this.props.onOptionSelect({\r\n                    originalEvent: event,\r\n                    value: this.getOptionValue(option),\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    onOptionGroupSelect(event) {\r\n        if (this.props.onOptionGroupSelect) {\r\n            this.props.onOptionGroupSelect(event);\r\n        }\r\n    }\r\n\r\n    getOptionLabel(option) {\r\n        return this.props.optionLabel ? ObjectUtils.resolveFieldData(option, this.props.optionLabel) : option;\r\n    }\r\n\r\n    getOptionValue(option) {\r\n        return this.props.optionValue ? ObjectUtils.resolveFieldData(option, this.props.optionValue) : option;\r\n    }\r\n\r\n    getOptionGroupLabel(optionGroup) {\r\n        return this.props.optionGroupLabel ? ObjectUtils.resolveFieldData(optionGroup, this.props.optionGroupLabel) : null;\r\n    }\r\n\r\n    getOptionGroupChildren(optionGroup) {\r\n        return ObjectUtils.resolveFieldData(optionGroup, this.props.optionGroupChildren[this.props.level]);\r\n    }\r\n\r\n    isOptionGroup(option) {\r\n        return Object.prototype.hasOwnProperty.call(option, this.props.optionGroupChildren[this.props.level]);\r\n    }\r\n\r\n    getOptionLabelToRender(option) {\r\n        return this.isOptionGroup(option) ? this.getOptionGroupLabel(option) : this.getOptionLabel(option);\r\n    }\r\n\r\n    renderSubmenu(option) {\r\n        if (this.isOptionGroup(option) && this.state.activeOption === option) {\r\n            return (\r\n                <CascadeSelectSub options={this.getOptionGroupChildren(option)} className={\"p-cascadeselect-sublist\"} selectionPath={this.props.selectionPath} optionLabel={this.props.optionLabel}\r\n                    optionValue={this.props.optionValue} level={this.props.level + 1} onOptionSelect={this.onOptionSelect} onOptionGroupSelect={this.onOptionGroupSelect}\r\n                    parentActive={this.state.activeOption === option} optionGroupLabel={this.props.optionGroupLabel} optionGroupChildren={this.props.optionGroupChildren}\r\n                    dirty={this.props.dirty} template={this.props.template} />\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderOption(option, index) {\r\n        const className = classNames('p-cascadeselect-item', {\r\n            'p-cascadeselect-item-group': this.isOptionGroup(option),\r\n            'p-cascadeselect-item-active p-highlight': this.state.activeOption === option\r\n        }, option.className);\r\n        const submenu = this.renderSubmenu(option);\r\n        const content = this.props.template ? ObjectUtils.getJSXElement(this.props.template, this.getOptionValue(option)) :\r\n            <span className=\"p-cascadeselect-item-text\">{this.getOptionLabelToRender(option)}</span>;\r\n        const optionGroup = this.isOptionGroup(option) && <span className=\"p-cascadeselect-group-icon pi pi-angle-right\" />\r\n\r\n        return (\r\n            <li key={this.getOptionLabelToRender(option) + '_' + index} className={className} style={option.style} role=\"none\">\r\n                <div className={\"p-cascadeselect-item-content\"} onClick={event => this.onOptionClick(event, option)} tabIndex={0} onKeyDown={event => this.onKeyDown(event, option)}>\r\n                    {content}\r\n                    {optionGroup}\r\n                    <Ripple />\r\n                </div>\r\n                {submenu}\r\n            </li>\r\n        );\r\n    }\r\n\r\n    renderMenu() {\r\n        if (this.props.options) {\r\n            return (\r\n                this.props.options.map((option, index) => {\r\n                    return this.renderOption(option, index);\r\n                })\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n        const className = classNames('p-cascadeselect-panel p-cascadeselect-items', this.props.className)\r\n        const submenu = this.renderMenu();\r\n\r\n        return (\r\n            <ul ref={el => this.element = el} className={className} role=\"listbox\" aria-orientation=\"horizontal\">\r\n                {submenu}\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}