{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{classNames}from'../utils/ClassNames';import{ToastMessage}from'./ToastMessage';import DomHandler from'../utils/DomHandler';import{CSSTransition,TransitionGroup}from'react-transition-group';var messageIdx=0;export var Toast=/*#__PURE__*/function(_Component){_inherits(Toast,_Component);var _super=_createSuper(Toast);function Toast(props){var _this;_classCallCheck(this,Toast);_this=_super.call(this,props);_this.state={messages:[]};_this.onClose=_this.onClose.bind(_assertThisInitialized(_this));return _this;}_createClass(Toast,[{key:\"show\",value:function show(value){if(value){var newMessages;if(Array.isArray(value)){for(var i=0;i<value.length;i++){value[i].id=messageIdx++;newMessages=[].concat(_toConsumableArray(this.state.messages),_toConsumableArray(value));}}else{value.id=messageIdx++;newMessages=this.state.messages?[].concat(_toConsumableArray(this.state.messages),[value]):[value];}this.setState({messages:newMessages});this.container.style.zIndex=String(this.props.baseZIndex+DomHandler.generateZIndex());}}},{key:\"clear\",value:function clear(){this.setState({messages:[]});}},{key:\"onClose\",value:function onClose(message){var newMessages=this.state.messages.filter(function(msg){return msg.id!==message.id;});this.setState({messages:newMessages});if(this.props.onRemove){this.props.onRemove(message);}}},{key:\"render\",value:function render(){var _this2=this;var className=classNames('p-toast p-component p-toast-'+this.props.position,this.props.className);return/*#__PURE__*/React.createElement(\"div\",{ref:function ref(el){_this2.container=el;},id:this.props.id,className:className,style:this.props.style},/*#__PURE__*/React.createElement(TransitionGroup,null,this.state.messages.map(function(message){var messageRef=React.createRef();return/*#__PURE__*/React.createElement(CSSTransition,{nodeRef:messageRef,key:message.id,classNames:\"p-toast-message\",unmountOnExit:true,timeout:{enter:300,exit:300}},/*#__PURE__*/React.createElement(ToastMessage,{ref:messageRef,message:message,onClick:_this2.props.onClick,onClose:_this2.onClose}));})));}}]);return Toast;}(Component);Toast.defaultProps={id:null,className:null,style:null,baseZIndex:0,position:'top-right',onClick:null,onRemove:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/components/toast/Toast.js"],"names":["React","Component","classNames","ToastMessage","DomHandler","CSSTransition","TransitionGroup","messageIdx","Toast","props","state","messages","onClose","bind","value","newMessages","Array","isArray","i","length","id","setState","container","style","zIndex","String","baseZIndex","generateZIndex","message","filter","msg","onRemove","className","position","el","map","messageRef","createRef","enter","exit","onClick","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport { ToastMessage } from './ToastMessage';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\n\r\nlet messageIdx = 0;\r\n\r\nexport class Toast extends Component {\r\n\r\n    static defaultProps = {\r\n        id: null,\r\n        className: null,\r\n        style: null,\r\n        baseZIndex: 0,\r\n        position: 'top-right',\r\n        onClick: null,\r\n        onRemove: null\r\n    }\r\n\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        className: PropTypes.string,\r\n        style: PropTypes.object,\r\n        baseZIndex: PropTypes.number,\r\n        position: PropTypes.string,\r\n        onClick: PropTypes.func,\r\n        onRemove: PropTypes.func\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            messages: []\r\n        };\r\n\r\n        this.onClose = this.onClose.bind(this);\r\n    }\r\n\r\n    show(value) {\r\n        if (value) {\r\n            let newMessages;\r\n\r\n            if (Array.isArray(value)) {\r\n                for (let i = 0; i < value.length; i++) {\r\n                    value[i].id = messageIdx++;\r\n                    newMessages = [...this.state.messages, ...value];\r\n                }\r\n            }\r\n            else {\r\n                value.id = messageIdx++;\r\n                newMessages = this.state.messages ? [...this.state.messages, value] : [value];\r\n            }\r\n\r\n            this.setState({\r\n                messages: newMessages\r\n            });\r\n\r\n            this.container.style.zIndex = String(this.props.baseZIndex + DomHandler.generateZIndex());\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.setState({\r\n            messages: []\r\n        })\r\n    }\r\n\r\n    onClose(message) {\r\n        let newMessages = this.state.messages.filter(msg => msg.id !== message.id);\r\n        this.setState({\r\n            messages: newMessages\r\n        });\r\n\r\n        if (this.props.onRemove) {\r\n            this.props.onRemove(message);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let className = classNames('p-toast p-component p-toast-' + this.props.position, this.props.className);\r\n\r\n        return (\r\n            <div ref={(el) => { this.container = el; }} id={this.props.id} className={className} style={this.props.style}>\r\n                <TransitionGroup>\r\n                    {\r\n                        this.state.messages.map((message) => {\r\n                            const messageRef = React.createRef();\r\n\r\n                            return (\r\n                                <CSSTransition nodeRef={messageRef} key={message.id} classNames=\"p-toast-message\" unmountOnExit timeout={{ enter: 300, exit: 300 }}>\r\n                                    <ToastMessage ref={messageRef} message={message} onClick={this.props.onClick} onClose={this.onClose} />\r\n                                </CSSTransition>\r\n                            )\r\n                        })\r\n                    }\r\n                </TransitionGroup>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}