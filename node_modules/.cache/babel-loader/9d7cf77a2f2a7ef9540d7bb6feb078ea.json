{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import{classNames}from'../utils/ClassNames';import React,{Component}from'react';import ObjectUtils from'../utils/ObjectUtils';import{PickListItem}from'./PickListItem';import DomHandler from'../utils/DomHandler';var PickListSubListComponent=/*#__PURE__*/function(_Component){_inherits(PickListSubListComponent,_Component);var _super=_createSuper(PickListSubListComponent);function PickListSubListComponent(props){var _this;_classCallCheck(this,PickListSubListComponent);_this=_super.call(this,props);_this.onItemClick=_this.onItemClick.bind(_assertThisInitialized(_this));_this.onItemKeyDown=_this.onItemKeyDown.bind(_assertThisInitialized(_this));return _this;}_createClass(PickListSubListComponent,[{key:\"onItemClick\",value:function onItemClick(event){var originalEvent=event.originalEvent;var item=event.value;var selection=_toConsumableArray(this.props.selection);var index=ObjectUtils.findIndexInList(item,selection);var selected=index!==-1;var metaSelection=this.props.metaKeySelection;if(metaSelection){var metaKey=originalEvent.metaKey||originalEvent.ctrlKey;if(selected&&metaKey){selection.splice(index,1);}else{if(!metaKey){selection.length=0;}selection.push(item);}}else{if(selected)selection.splice(index,1);else selection.push(item);}if(this.props.onSelectionChange){this.props.onSelectionChange({event:originalEvent,value:selection});}}},{key:\"onItemKeyDown\",value:function onItemKeyDown(event){var listItem=event.originalEvent.currentTarget;switch(event.originalEvent.which){//down\ncase 40:var nextItem=this.findNextItem(listItem);if(nextItem){nextItem.focus();}event.originalEvent.preventDefault();break;//up\ncase 38:var prevItem=this.findPrevItem(listItem);if(prevItem){prevItem.focus();}event.originalEvent.preventDefault();break;//enter\ncase 13:this.onItemClick(event);event.originalEvent.preventDefault();break;default:break;}}},{key:\"findNextItem\",value:function findNextItem(item){var nextItem=item.nextElementSibling;if(nextItem)return!DomHandler.hasClass(nextItem,'p-picklist-item')?this.findNextItem(nextItem):nextItem;else return null;}},{key:\"findPrevItem\",value:function findPrevItem(item){var prevItem=item.previousElementSibling;if(prevItem)return!DomHandler.hasClass(prevItem,'p-picklist-item')?this.findPrevItem(prevItem):prevItem;else return null;}},{key:\"isSelected\",value:function isSelected(item){return ObjectUtils.findIndexInList(item,this.props.selection)!==-1;}},{key:\"render\",value:function render(){var _this2=this;var header=null;var items=null;var wrapperClassName=classNames('p-picklist-list-wrapper',this.props.className);var listClassName=classNames('p-picklist-list',this.props.listClassName);if(this.props.header){header=/*#__PURE__*/React.createElement(\"div\",{className:\"p-picklist-header\"},this.props.header);}if(this.props.list){items=this.props.list.map(function(item,i){return/*#__PURE__*/React.createElement(PickListItem,{key:JSON.stringify(item),value:item,template:_this2.props.itemTemplate,selected:_this2.isSelected(item),onClick:_this2.onItemClick,onKeyDown:_this2.onItemKeyDown,tabIndex:_this2.props.tabIndex});});}return/*#__PURE__*/React.createElement(\"div\",{ref:this.props.forwardRef,className:wrapperClassName},header,/*#__PURE__*/React.createElement(\"ul\",{className:listClassName,style:this.props.style,role:\"listbox\",\"aria-multiselectable\":true},items));}}]);return PickListSubListComponent;}(Component);PickListSubListComponent.defaultProps={forwardRef:null,list:null,selection:null,header:null,className:null,listClassName:null,style:null,showControls:true,metaKeySelection:true,tabIndex:null,itemTemplate:null,onItemClick:null,onSelectionChange:null};export var PickListSubList=React.forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(PickListSubListComponent,Object.assign({forwardRef:ref},props));});","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/slotmaster-dashboard/src/components/picklist/PickListSubList.js"],"names":["classNames","React","Component","ObjectUtils","PickListItem","DomHandler","PickListSubListComponent","props","onItemClick","bind","onItemKeyDown","event","originalEvent","item","value","selection","index","findIndexInList","selected","metaSelection","metaKeySelection","metaKey","ctrlKey","splice","length","push","onSelectionChange","listItem","currentTarget","which","nextItem","findNextItem","focus","preventDefault","prevItem","findPrevItem","nextElementSibling","hasClass","previousElementSibling","header","items","wrapperClassName","className","listClassName","list","map","i","JSON","stringify","itemTemplate","isSelected","tabIndex","forwardRef","style","defaultProps","showControls","PickListSubList","ref"],"mappings":"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","sourcesContent":["import { classNames } from '../utils/ClassNames';\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport ObjectUtils from '../utils/ObjectUtils';\r\nimport { PickListItem } from './PickListItem';\r\nimport DomHandler from '../utils/DomHandler';\r\n\r\nclass PickListSubListComponent extends Component {\r\n\r\n    static defaultProps = {\r\n        forwardRef: null,\r\n        list: null,\r\n        selection: null,\r\n        header: null,\r\n        className: null,\r\n        listClassName: null,\r\n        style: null,\r\n        showControls: true,\r\n        metaKeySelection: true,\r\n        tabIndex: null,\r\n        itemTemplate: null,\r\n        onItemClick: null,\r\n        onSelectionChange: null\r\n    }\r\n\r\n    static propTypes = {\r\n        forwardRef: PropTypes.any,\r\n        list: PropTypes.array,\r\n        selection: PropTypes.array,\r\n        header: PropTypes.string,\r\n        className: PropTypes.string,\r\n        listClassName: PropTypes.string,\r\n        style: PropTypes.object,\r\n        showControls: PropTypes.bool,\r\n        metaKeySelection: PropTypes.bool,\r\n        tabIndex: PropTypes.number,\r\n        itemTemplate: PropTypes.func,\r\n        onItemClick: PropTypes.func,\r\n        onSelectionChange: PropTypes.func\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onItemClick = this.onItemClick.bind(this);\r\n        this.onItemKeyDown = this.onItemKeyDown.bind(this);\r\n    }\r\n\r\n    onItemClick(event) {\r\n        let originalEvent = event.originalEvent;\r\n        let item = event.value;\r\n        let selection = [...this.props.selection];\r\n        let index = ObjectUtils.findIndexInList(item, selection);\r\n        let selected = (index !== -1);\r\n        let metaSelection = this.props.metaKeySelection;\r\n\r\n        if(metaSelection) {\r\n            let metaKey = (originalEvent.metaKey||originalEvent.ctrlKey);\r\n\r\n            if(selected && metaKey) {\r\n                selection.splice(index, 1);\r\n            }\r\n            else {\r\n                if(!metaKey) {\r\n                    selection.length = 0;\r\n                }\r\n                selection.push(item);\r\n            }\r\n        }\r\n        else {\r\n            if(selected)\r\n                selection.splice(index, 1);\r\n            else\r\n                selection.push(item);\r\n        }\r\n\r\n        if(this.props.onSelectionChange) {\r\n            this.props.onSelectionChange({\r\n                event: originalEvent,\r\n                value: selection\r\n            })\r\n        }\r\n    }\r\n\r\n    onItemKeyDown(event) {\r\n        let listItem = event.originalEvent.currentTarget;\r\n\r\n        switch(event.originalEvent.which) {\r\n            //down\r\n            case 40:\r\n                let nextItem = this.findNextItem(listItem);\r\n                if (nextItem) {\r\n                    nextItem.focus();\r\n                }\r\n\r\n                event.originalEvent.preventDefault();\r\n            break;\r\n\r\n            //up\r\n            case 38:\r\n                let prevItem = this.findPrevItem(listItem);\r\n                if (prevItem) {\r\n                    prevItem.focus();\r\n                }\r\n\r\n                event.originalEvent.preventDefault();\r\n            break;\r\n\r\n            //enter\r\n            case 13:\r\n                this.onItemClick(event);\r\n                event.originalEvent.preventDefault();\r\n            break;\r\n\r\n            default:\r\n            break;\r\n        }\r\n    }\r\n\r\n    findNextItem(item) {\r\n        let nextItem = item.nextElementSibling;\r\n\r\n        if (nextItem)\r\n            return !DomHandler.hasClass(nextItem, 'p-picklist-item') ? this.findNextItem(nextItem) : nextItem;\r\n        else\r\n            return null;\r\n    }\r\n\r\n    findPrevItem(item) {\r\n        let prevItem = item.previousElementSibling;\r\n\r\n        if (prevItem)\r\n            return !DomHandler.hasClass(prevItem, 'p-picklist-item') ? this.findPrevItem(prevItem) : prevItem;\r\n        else\r\n            return null;\r\n    }\r\n\r\n    isSelected(item) {\r\n        return ObjectUtils.findIndexInList(item, this.props.selection) !== -1;\r\n    }\r\n\r\n    render() {\r\n        let header = null;\r\n        let items = null;\r\n        let wrapperClassName = classNames('p-picklist-list-wrapper', this.props.className);\r\n        let listClassName = classNames('p-picklist-list', this.props.listClassName);\r\n\r\n        if(this.props.header) {\r\n            header = <div className=\"p-picklist-header\">{this.props.header}</div>\r\n        }\r\n\r\n        if(this.props.list) {\r\n            items = this.props.list.map((item, i) => {\r\n                return <PickListItem key={JSON.stringify(item)} value={item} template={this.props.itemTemplate}\r\n                    selected={this.isSelected(item)} onClick={this.onItemClick} onKeyDown={this.onItemKeyDown} tabIndex={this.props.tabIndex} />\r\n            });\r\n        }\r\n\r\n        return <div ref={this.props.forwardRef} className={wrapperClassName}>\r\n                    {header}\r\n                    <ul className={listClassName} style={this.props.style} role=\"listbox\" aria-multiselectable>\r\n                        {items}\r\n                    </ul>\r\n                 </div>;\r\n    }\r\n}\r\n\r\nexport const PickListSubList = React.forwardRef((props, ref) => <PickListSubListComponent forwardRef={ref} {...props} />);\r\n"]},"metadata":{},"sourceType":"module"}