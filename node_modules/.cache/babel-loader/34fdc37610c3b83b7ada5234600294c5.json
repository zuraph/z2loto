{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\zz-regul\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ReactDOM from'react-dom';import{classNames}from'../utils/ClassNames';import DomHandler from'../utils/DomHandler';import{CSSTransition}from'react-transition-group';import{Ripple}from'../ripple/Ripple';import UniqueComponentId from'../utils/UniqueComponentId';import ConnectedOverlayScrollHandler from'../utils/ConnectedOverlayScrollHandler';import OverlayEventBus from'../overlayeventbus/OverlayEventBus';export var OverlayPanel=/*#__PURE__*/function(_Component){_inherits(OverlayPanel,_Component);var _super=_createSuper(OverlayPanel);function OverlayPanel(props){var _this;_classCallCheck(this,OverlayPanel);_this=_super.call(this,props);_this.state={visible:false};_this.onCloseClick=_this.onCloseClick.bind(_assertThisInitialized(_this));_this.onPanelClick=_this.onPanelClick.bind(_assertThisInitialized(_this));_this.onEnter=_this.onEnter.bind(_assertThisInitialized(_this));_this.onEntered=_this.onEntered.bind(_assertThisInitialized(_this));_this.onExit=_this.onExit.bind(_assertThisInitialized(_this));_this.id=_this.props.id||UniqueComponentId();_this.overlayRef=React.createRef();return _this;}_createClass(OverlayPanel,[{key:\"bindDocumentClickListener\",value:function bindDocumentClickListener(){var _this2=this;if(!this.documentClickListener&&this.props.dismissable){this.documentClickListener=function(event){if(!_this2.isPanelClicked&&_this2.isOutsideClicked(event.target)){_this2.hide();}_this2.isPanelClicked=false;};document.addEventListener('click',this.documentClickListener);}}},{key:\"unbindDocumentClickListener\",value:function unbindDocumentClickListener(){if(this.documentClickListener){document.removeEventListener('click',this.documentClickListener);this.documentClickListener=null;}}},{key:\"bindScrollListener\",value:function bindScrollListener(){var _this3=this;if(!this.scrollHandler){this.scrollHandler=new ConnectedOverlayScrollHandler(this.target,function(){if(_this3.state.visible){_this3.hide();}});}this.scrollHandler.bindScrollListener();}},{key:\"unbindScrollListener\",value:function unbindScrollListener(){if(this.scrollHandler){this.scrollHandler.unbindScrollListener();}}},{key:\"bindResizeListener\",value:function bindResizeListener(){var _this4=this;if(!this.resizeListener){this.resizeListener=function(){if(_this4.state.visible){_this4.hide();}};window.addEventListener('resize',this.resizeListener);}}},{key:\"unbindResizeListener\",value:function unbindResizeListener(){if(this.resizeListener){window.removeEventListener('resize',this.resizeListener);this.resizeListener=null;}}},{key:\"isOutsideClicked\",value:function isOutsideClicked(target){return this.overlayRef&&this.overlayRef.current&&!(this.overlayRef.current.isSameNode(target)||this.overlayRef.current.contains(target));}},{key:\"hasTargetChanged\",value:function hasTargetChanged(event,target){return this.target!=null&&this.target!==(target||event.currentTarget||event.target);}},{key:\"onCloseClick\",value:function onCloseClick(event){this.hide();event.preventDefault();}},{key:\"onPanelClick\",value:function onPanelClick(event){this.isPanelClicked=true;OverlayEventBus.emit('overlay-click',{originalEvent:event,target:this.target});}},{key:\"toggle\",value:function toggle(event,target){var _this5=this;if(this.state.visible){this.hide();if(this.hasTargetChanged(event,target)){this.target=target||event.currentTarget||event.target;setTimeout(function(){_this5.show(event,_this5.target);},200);}}else{this.show(event,target);}}},{key:\"show\",value:function show(event,target){var _this6=this;this.target=target||event.currentTarget||event.target;if(this.state.visible){this.align();}else{this.setState({visible:true},function(){OverlayEventBus.on('overlay-click',function(e){if(!_this6.isOutsideClicked(e.target)){_this6.isPanelClicked=true;}});});}}},{key:\"hide\",value:function hide(){var _this7=this;this.setState({visible:false},function(){OverlayEventBus.off('overlay-click');if(_this7.props.onHide){_this7.props.onHide();}});}},{key:\"onEnter\",value:function onEnter(){this.overlayRef.current.style.zIndex=String(DomHandler.generateZIndex());this.align();}},{key:\"onEntered\",value:function onEntered(){this.bindDocumentClickListener();this.bindScrollListener();this.bindResizeListener();}},{key:\"onExit\",value:function onExit(){this.unbindDocumentClickListener();this.unbindScrollListener();this.unbindResizeListener();}},{key:\"align\",value:function align(){if(this.target){DomHandler.absolutePosition(this.overlayRef.current,this.target);var containerOffset=DomHandler.getOffset(this.overlayRef.current);var targetOffset=DomHandler.getOffset(this.target);var arrowLeft=0;if(containerOffset.left<targetOffset.left){arrowLeft=targetOffset.left-containerOffset.left;}this.overlayRef.current.style.setProperty('--overlayArrowLeft',\"\".concat(arrowLeft,\"px\"));if(containerOffset.top<targetOffset.top){DomHandler.addClass(this.overlayRef.current,'p-overlaypanel-flipped');}}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.unbindDocumentClickListener();this.unbindResizeListener();if(this.scrollHandler){this.scrollHandler.destroy();this.scrollHandler=null;}}},{key:\"renderCloseIcon\",value:function renderCloseIcon(){if(this.props.showCloseIcon){return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"p-overlaypanel-close p-link\",onClick:this.onCloseClick,\"aria-label\":this.props.ariaCloseLabel},/*#__PURE__*/React.createElement(\"span\",{className:\"p-overlaypanel-close-icon pi pi-times\"}),/*#__PURE__*/React.createElement(Ripple,null));}return null;}},{key:\"renderElement\",value:function renderElement(){var className=classNames('p-overlaypanel p-component',this.props.className);var closeIcon=this.renderCloseIcon();return/*#__PURE__*/React.createElement(CSSTransition,{nodeRef:this.overlayRef,classNames:\"p-overlaypanel\",in:this.state.visible,timeout:{enter:120,exit:100},unmountOnExit:true,onEnter:this.onEnter,onEntered:this.onEntered,onExit:this.onExit},/*#__PURE__*/React.createElement(\"div\",{ref:this.overlayRef,id:this.id,className:className,style:this.props.style,onClick:this.onPanelClick},/*#__PURE__*/React.createElement(\"div\",{className:\"p-overlaypanel-content\"},this.props.children),closeIcon));}},{key:\"render\",value:function render(){var element=this.renderElement();if(this.props.appendTo){return ReactDOM.createPortal(element,this.props.appendTo);}else{return element;}}}]);return OverlayPanel;}(Component);OverlayPanel.defaultProps={id:null,dismissable:true,showCloseIcon:false,style:null,className:null,appendTo:null,ariaCloseLabel:'close',onHide:null};","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/zz-regul/src/components/overlaypanel/OverlayPanel.js"],"names":["React","Component","ReactDOM","classNames","DomHandler","CSSTransition","Ripple","UniqueComponentId","ConnectedOverlayScrollHandler","OverlayEventBus","OverlayPanel","props","state","visible","onCloseClick","bind","onPanelClick","onEnter","onEntered","onExit","id","overlayRef","createRef","documentClickListener","dismissable","event","isPanelClicked","isOutsideClicked","target","hide","document","addEventListener","removeEventListener","scrollHandler","bindScrollListener","unbindScrollListener","resizeListener","window","current","isSameNode","contains","currentTarget","preventDefault","emit","originalEvent","hasTargetChanged","setTimeout","show","align","setState","on","e","off","onHide","style","zIndex","String","generateZIndex","bindDocumentClickListener","bindResizeListener","unbindDocumentClickListener","unbindResizeListener","absolutePosition","containerOffset","getOffset","targetOffset","arrowLeft","left","setProperty","top","addClass","destroy","showCloseIcon","ariaCloseLabel","className","closeIcon","renderCloseIcon","enter","exit","children","element","renderElement","appendTo","createPortal","defaultProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactDOM from 'react-dom';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { Ripple } from '../ripple/Ripple';\r\nimport UniqueComponentId from '../utils/UniqueComponentId';\r\nimport ConnectedOverlayScrollHandler from '../utils/ConnectedOverlayScrollHandler';\r\nimport OverlayEventBus from '../overlayeventbus/OverlayEventBus';\r\n\r\nexport class OverlayPanel extends Component {\r\n\r\n    static defaultProps = {\r\n        id: null,\r\n        dismissable: true,\r\n        showCloseIcon: false,\r\n        style: null,\r\n        className: null,\r\n        appendTo: null,\r\n        ariaCloseLabel: 'close',\r\n        onHide: null\r\n    }\r\n\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        dismissable: PropTypes.bool,\r\n        showCloseIcon: PropTypes.bool,\r\n        style: PropTypes.object,\r\n        className: PropTypes.string,\r\n        appendTo: PropTypes.any,\r\n        ariaCloseLabel: PropTypes.string,\r\n        onHide: PropTypes.func\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            visible: false\r\n        };\r\n\r\n        this.onCloseClick = this.onCloseClick.bind(this);\r\n        this.onPanelClick = this.onPanelClick.bind(this);\r\n        this.onEnter = this.onEnter.bind(this);\r\n        this.onEntered = this.onEntered.bind(this);\r\n        this.onExit = this.onExit.bind(this);\r\n\r\n        this.id = this.props.id || UniqueComponentId();\r\n        this.overlayRef = React.createRef();\r\n    }\r\n\r\n    bindDocumentClickListener() {\r\n        if(!this.documentClickListener && this.props.dismissable) {\r\n            this.documentClickListener = (event) => {\r\n                if (!this.isPanelClicked && this.isOutsideClicked(event.target)) {\r\n                    this.hide();\r\n                }\r\n\r\n                this.isPanelClicked = false;\r\n            };\r\n\r\n            document.addEventListener('click', this.documentClickListener);\r\n        }\r\n    }\r\n\r\n    unbindDocumentClickListener() {\r\n        if(this.documentClickListener) {\r\n            document.removeEventListener('click', this.documentClickListener);\r\n            this.documentClickListener = null;\r\n        }\r\n    }\r\n\r\n    bindScrollListener() {\r\n        if (!this.scrollHandler) {\r\n            this.scrollHandler = new ConnectedOverlayScrollHandler(this.target, () => {\r\n                if (this.state.visible) {\r\n                    this.hide();\r\n                }\r\n            });\r\n        }\r\n\r\n        this.scrollHandler.bindScrollListener();\r\n    }\r\n\r\n    unbindScrollListener() {\r\n        if (this.scrollHandler) {\r\n            this.scrollHandler.unbindScrollListener();\r\n        }\r\n    }\r\n\r\n    bindResizeListener() {\r\n        if (!this.resizeListener) {\r\n            this.resizeListener = () => {\r\n                if (this.state.visible) {\r\n                    this.hide();\r\n                }\r\n            };\r\n            window.addEventListener('resize', this.resizeListener);\r\n        }\r\n    }\r\n\r\n    unbindResizeListener() {\r\n        if (this.resizeListener) {\r\n            window.removeEventListener('resize', this.resizeListener);\r\n            this.resizeListener = null;\r\n        }\r\n    }\r\n\r\n    isOutsideClicked(target) {\r\n        return this.overlayRef && this.overlayRef.current && !(this.overlayRef.current.isSameNode(target) || this.overlayRef.current.contains(target));\r\n    }\r\n\r\n    hasTargetChanged(event, target) {\r\n        return this.target != null && this.target !== (target||event.currentTarget||event.target);\r\n    }\r\n\r\n    onCloseClick(event) {\r\n        this.hide();\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    onPanelClick(event) {\r\n        this.isPanelClicked = true;\r\n\r\n        OverlayEventBus.emit('overlay-click', {\r\n            originalEvent: event,\r\n            target: this.target\r\n        });\r\n    }\r\n\r\n    toggle(event, target) {\r\n        if (this.state.visible) {\r\n            this.hide();\r\n\r\n            if (this.hasTargetChanged(event, target)) {\r\n                this.target = target||event.currentTarget||event.target;\r\n\r\n                setTimeout(() => {\r\n                    this.show(event, this.target);\r\n                }, 200);\r\n            }\r\n        }\r\n        else {\r\n            this.show(event, target);\r\n        }\r\n    }\r\n\r\n    show(event, target) {\r\n        this.target = target||event.currentTarget||event.target;\r\n\r\n        if (this.state.visible) {\r\n            this.align();\r\n        }\r\n        else {\r\n            this.setState({ visible: true }, () => {\r\n                OverlayEventBus.on('overlay-click', (e) => {\r\n                    if (!this.isOutsideClicked(e.target)) {\r\n                        this.isPanelClicked = true;\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    hide() {\r\n        this.setState({ visible: false }, () => {\r\n            OverlayEventBus.off('overlay-click');\r\n\r\n            if (this.props.onHide) {\r\n                this.props.onHide();\r\n            }\r\n        });\r\n    }\r\n\r\n    onEnter() {\r\n        this.overlayRef.current.style.zIndex = String(DomHandler.generateZIndex());\r\n        this.align();\r\n    }\r\n\r\n    onEntered() {\r\n        this.bindDocumentClickListener();\r\n        this.bindScrollListener();\r\n        this.bindResizeListener();\r\n    }\r\n\r\n    onExit() {\r\n        this.unbindDocumentClickListener();\r\n        this.unbindScrollListener();\r\n        this.unbindResizeListener();\r\n    }\r\n\r\n    align() {\r\n        if (this.target) {\r\n            DomHandler.absolutePosition(this.overlayRef.current, this.target);\r\n\r\n            const containerOffset = DomHandler.getOffset(this.overlayRef.current);\r\n            const targetOffset = DomHandler.getOffset(this.target);\r\n            let arrowLeft = 0;\r\n\r\n            if (containerOffset.left < targetOffset.left) {\r\n                arrowLeft = targetOffset.left - containerOffset.left;\r\n            }\r\n            this.overlayRef.current.style.setProperty('--overlayArrowLeft', `${arrowLeft}px`);\r\n\r\n            if (containerOffset.top < targetOffset.top) {\r\n                DomHandler.addClass(this.overlayRef.current, 'p-overlaypanel-flipped');\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.unbindDocumentClickListener();\r\n        this.unbindResizeListener();\r\n        if (this.scrollHandler) {\r\n            this.scrollHandler.destroy();\r\n            this.scrollHandler = null;\r\n        }\r\n    }\r\n\r\n    renderCloseIcon() {\r\n        if(this.props.showCloseIcon) {\r\n            return (\r\n                <button type=\"button\" className=\"p-overlaypanel-close p-link\" onClick={this.onCloseClick} aria-label={this.props.ariaCloseLabel}>\r\n                    <span className=\"p-overlaypanel-close-icon pi pi-times\"></span>\r\n                    <Ripple />\r\n                </button>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderElement() {\r\n        let className = classNames('p-overlaypanel p-component', this.props.className);\r\n        let closeIcon = this.renderCloseIcon();\r\n\r\n        return (\r\n            <CSSTransition nodeRef={this.overlayRef} classNames=\"p-overlaypanel\" in={this.state.visible} timeout={{ enter: 120, exit: 100 }}\r\n                unmountOnExit onEnter={this.onEnter} onEntered={this.onEntered} onExit={this.onExit}>\r\n                <div ref={this.overlayRef} id={this.id} className={className} style={this.props.style} onClick={this.onPanelClick}>\r\n                    <div className=\"p-overlaypanel-content\">\r\n                        {this.props.children}\r\n                    </div>\r\n                    {closeIcon}\r\n                </div>\r\n            </CSSTransition>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        let element = this.renderElement();\r\n\r\n        if (this.props.appendTo) {\r\n            return ReactDOM.createPortal(element, this.props.appendTo);\r\n        }\r\n        else {\r\n            return element;\r\n        }\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}