{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\zura.ph\\\\WebstormProjects\\\\slotmaster-dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{classNames}from'../utils/ClassNames';import DomHandler from'../utils/DomHandler';import{Ripple}from'../ripple/Ripple';import ObjectUtils from'../utils/ObjectUtils';export var MenubarSubComponent=/*#__PURE__*/function(_Component){_inherits(MenubarSubComponent,_Component);var _super=_createSuper(MenubarSubComponent);function MenubarSubComponent(props){var _this;_classCallCheck(this,MenubarSubComponent);_this=_super.call(this,props);_this.state={activeItem:null};_this.onLeafClick=_this.onLeafClick.bind(_assertThisInitialized(_this));_this.onChildItemKeyDown=_this.onChildItemKeyDown.bind(_assertThisInitialized(_this));return _this;}_createClass(MenubarSubComponent,[{key:\"getElementRef\",value:function getElementRef(el){this.element=el;if(this.props.forwardRef){return this.props.forwardRef(el);}return this.element;}},{key:\"onItemMouseEnter\",value:function onItemMouseEnter(event,item){if(item.disabled||this.props.mobileActive){event.preventDefault();return;}if(this.props.root){if(this.state.activeItem||this.props.popup){this.setState({activeItem:item});}}else{this.setState({activeItem:item});}}},{key:\"onItemClick\",value:function onItemClick(event,item){if(item.disabled){event.preventDefault();return;}if(!item.url){event.preventDefault();}if(item.command){item.command({originalEvent:event,item:item});}if(item.items){if(this.state.activeItem&&item===this.state.activeItem){this.setState({activeItem:null});}else{this.setState({activeItem:item});}}else{this.onLeafClick();}}},{key:\"onItemKeyDown\",value:function onItemKeyDown(event,item){var listItem=event.currentTarget.parentElement;switch(event.which){//down\ncase 40:if(this.props.root){if(item.items){this.expandSubmenu(item,listItem);}}else{this.navigateToNextItem(listItem);}event.preventDefault();break;//up\ncase 38:if(!this.props.root){this.navigateToPrevItem(listItem);}event.preventDefault();break;//right\ncase 39:if(this.props.root){var nextItem=this.findNextItem(listItem);if(nextItem){nextItem.children[0].focus();}}else{if(item.items){this.expandSubmenu(item,listItem);}}event.preventDefault();break;//left\ncase 37:if(this.props.root){this.navigateToPrevItem(listItem);}event.preventDefault();break;default:break;}if(this.props.onKeyDown){this.props.onKeyDown(event,listItem);}}},{key:\"onChildItemKeyDown\",value:function onChildItemKeyDown(event,childListItem){if(this.props.root){//up\nif(event.which===38&&childListItem.previousElementSibling==null){this.collapseMenu(childListItem);}}else{//left\nif(event.which===37){this.collapseMenu(childListItem);}}}},{key:\"expandSubmenu\",value:function expandSubmenu(item,listItem){this.setState({activeItem:item});setTimeout(function(){listItem.children[1].children[0].children[0].focus();},50);}},{key:\"collapseMenu\",value:function collapseMenu(listItem){this.setState({activeItem:null});listItem.parentElement.previousElementSibling.focus();}},{key:\"navigateToNextItem\",value:function navigateToNextItem(listItem){var nextItem=this.findNextItem(listItem);if(nextItem){nextItem.children[0].focus();}}},{key:\"navigateToPrevItem\",value:function navigateToPrevItem(listItem){var prevItem=this.findPrevItem(listItem);if(prevItem){prevItem.children[0].focus();}}},{key:\"findNextItem\",value:function findNextItem(item){var nextItem=item.nextElementSibling;if(nextItem)return DomHandler.hasClass(nextItem,'p-disabled')||!DomHandler.hasClass(nextItem,'p-menuitem')?this.findNextItem(nextItem):nextItem;else return null;}},{key:\"findPrevItem\",value:function findPrevItem(item){var prevItem=item.previousElementSibling;if(prevItem)return DomHandler.hasClass(prevItem,'p-disabled')||!DomHandler.hasClass(prevItem,'p-menuitem')?this.findPrevItem(prevItem):prevItem;else return null;}},{key:\"onLeafClick\",value:function onLeafClick(){this.setState({activeItem:null});if(this.props.onLeafClick){this.props.onLeafClick();}}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(!this.documentClickListener){this.documentClickListener=function(event){if(_this2.element&&!_this2.element.contains(event.target)){_this2.setState({activeItem:null});}};document.addEventListener('click',this.documentClickListener);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.parentActive&&!this.props.parentActive){this.setState({activeItem:null});}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.documentClickListener){document.removeEventListener('click',this.documentClickListener);this.documentClickListener=null;}}},{key:\"renderSeparator\",value:function renderSeparator(index){return/*#__PURE__*/React.createElement(\"li\",{key:'separator_'+index,className:\"p-menu-separator\",role:\"separator\"});}},{key:\"renderSubmenu\",value:function renderSubmenu(item){if(item.items){return/*#__PURE__*/React.createElement(MenubarSub,{model:item.items,mobileActive:this.props.mobileActive,onLeafClick:this.onLeafClick,onKeyDown:this.onChildItemKeyDown,parentActive:item===this.state.activeItem});}return null;}},{key:\"renderMenuitem\",value:function renderMenuitem(item,index){var _this3=this;var className=classNames('p-menuitem',{'p-menuitem-active':this.state.activeItem===item},item.className);var linkClassName=classNames('p-menuitem-link',{'p-disabled':item.disabled});var iconClassName=classNames('p-menuitem-icon',item.icon);var submenuIconClassName=classNames('p-submenu-icon pi',{'pi-angle-down':this.props.root,'pi-angle-right':!this.props.root});var icon=item.icon&&/*#__PURE__*/React.createElement(\"span\",{className:iconClassName});var label=item.label&&/*#__PURE__*/React.createElement(\"span\",{className:\"p-menuitem-text\"},item.label);var submenuIcon=item.items&&/*#__PURE__*/React.createElement(\"span\",{className:submenuIconClassName});var submenu=this.renderSubmenu(item);var content=/*#__PURE__*/React.createElement(\"a\",{href:item.url||'#',role:\"menuitem\",className:linkClassName,target:item.target,\"aria-haspopup\":item.items!=null,onClick:function onClick(event){return _this3.onItemClick(event,item);},onKeyDown:function onKeyDown(event){return _this3.onItemKeyDown(event,item);}},icon,label,submenuIcon,/*#__PURE__*/React.createElement(Ripple,null));if(item.template){var defaultContentOptions={onClick:function onClick(event){return _this3.onItemClick(event,item);},onKeyDown:function onKeyDown(event){return _this3.onItemKeyDown(event,item);},className:linkClassName,labelClassName:'p-menuitem-text',iconClassName:iconClassName,submenuIconClassName:submenuIconClassName,element:content,props:this.props};content=ObjectUtils.getJSXElement(item.template,item,defaultContentOptions);}return/*#__PURE__*/React.createElement(\"li\",{key:item.label+'_'+index,role:\"none\",className:className,style:item.style,onMouseEnter:function onMouseEnter(event){return _this3.onItemMouseEnter(event,item);}},content,submenu);}},{key:\"renderItem\",value:function renderItem(item,index){if(item.separator)return this.renderSeparator(index);else return this.renderMenuitem(item,index);}},{key:\"renderMenu\",value:function renderMenu(){var _this4=this;if(this.props.model){return this.props.model.map(function(item,index){return _this4.renderItem(item,index);});}return null;}},{key:\"render\",value:function render(){var _this5=this;var className=classNames({'p-submenu-list':!this.props.root,'p-menubar-root-list':this.props.root});var submenu=this.renderMenu();return/*#__PURE__*/React.createElement(\"ul\",{ref:function ref(el){return _this5.getElementRef(el);},className:className,role:this.props.root?'menubar':'menu'},submenu);}}]);return MenubarSubComponent;}(Component);MenubarSubComponent.defaultProps={model:null,root:false,className:null,popup:false,onLeafClick:null,onKeyDown:null,parentActive:false,mobileActive:false,forwardRef:null};export var MenubarSub=React.forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(MenubarSubComponent,Object.assign({forwardRef:ref},props));});","map":{"version":3,"sources":["C:/Users/zura.ph/WebstormProjects/slotmaster-dashboard/src/components/menubar/MenubarSub.js"],"names":["React","Component","classNames","DomHandler","Ripple","ObjectUtils","MenubarSubComponent","props","state","activeItem","onLeafClick","bind","onChildItemKeyDown","el","element","forwardRef","event","item","disabled","mobileActive","preventDefault","root","popup","setState","url","command","originalEvent","items","listItem","currentTarget","parentElement","which","expandSubmenu","navigateToNextItem","navigateToPrevItem","nextItem","findNextItem","children","focus","onKeyDown","childListItem","previousElementSibling","collapseMenu","setTimeout","prevItem","findPrevItem","nextElementSibling","hasClass","documentClickListener","contains","target","document","addEventListener","prevProps","parentActive","removeEventListener","index","className","linkClassName","iconClassName","icon","submenuIconClassName","label","submenuIcon","submenu","renderSubmenu","content","onItemClick","onItemKeyDown","template","defaultContentOptions","onClick","labelClassName","getJSXElement","style","onItemMouseEnter","separator","renderSeparator","renderMenuitem","model","map","renderItem","renderMenu","getElementRef","defaultProps","MenubarSub","ref"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../utils/ClassNames';\r\nimport DomHandler from '../utils/DomHandler';\r\nimport { Ripple } from '../ripple/Ripple';\r\nimport ObjectUtils from '../utils/ObjectUtils';\r\n\r\nexport class MenubarSubComponent extends Component {\r\n\r\n    static defaultProps = {\r\n        model: null,\r\n        root: false,\r\n        className: null,\r\n        popup: false,\r\n        onLeafClick: null,\r\n        onKeyDown: null,\r\n        parentActive: false,\r\n        mobileActive: false,\r\n        forwardRef: null\r\n    };\r\n\r\n    static propTypes = {\r\n        model: PropTypes.any,\r\n        root: PropTypes.bool,\r\n        className: PropTypes.string,\r\n        popup: PropTypes.bool,\r\n        onLeafClick: PropTypes.func,\r\n        onKeyDown: PropTypes.func,\r\n        parentActive: PropTypes.bool,\r\n        mobileActive: PropTypes.bool,\r\n        forwardRef: PropTypes.any\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeItem: null\r\n        };\r\n\r\n        this.onLeafClick = this.onLeafClick.bind(this);\r\n        this.onChildItemKeyDown = this.onChildItemKeyDown.bind(this);\r\n    }\r\n\r\n    getElementRef(el) {\r\n        this.element = el;\r\n\r\n        if (this.props.forwardRef) {\r\n            return this.props.forwardRef(el);\r\n        }\r\n\r\n        return this.element;\r\n    }\r\n\r\n    onItemMouseEnter(event, item) {\r\n        if (item.disabled || this.props.mobileActive) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        if (this.props.root) {\r\n            if (this.state.activeItem || this.props.popup) {\r\n                this.setState({\r\n                    activeItem: item\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            this.setState({\r\n                activeItem: item\r\n            });\r\n        }\r\n    }\r\n\r\n    onItemClick(event, item) {\r\n        if (item.disabled) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        if (!item.url) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        if (item.command) {\r\n            item.command({\r\n                originalEvent: event,\r\n                item: item\r\n            });\r\n        }\r\n\r\n\r\n        if (item.items) {\r\n            if (this.state.activeItem && item === this.state.activeItem) {\r\n                this.setState({\r\n                    activeItem: null\r\n                });\r\n            }\r\n            else {\r\n                this.setState({\r\n                    activeItem: item\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            this.onLeafClick();\r\n        }\r\n    }\r\n\r\n    onItemKeyDown(event, item) {\r\n        let listItem = event.currentTarget.parentElement;\r\n\r\n        switch(event.which) {\r\n            //down\r\n            case 40:\r\n                if (this.props.root) {\r\n                    if (item.items) {\r\n                        this.expandSubmenu(item, listItem);\r\n                    }\r\n                }\r\n                else {\r\n                    this.navigateToNextItem(listItem);\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            //up\r\n            case 38:\r\n                if (!this.props.root) {\r\n                    this.navigateToPrevItem(listItem);\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            //right\r\n            case 39:\r\n                if (this.props.root) {\r\n                    let nextItem = this.findNextItem(listItem);\r\n                    if (nextItem) {\r\n                        nextItem.children[0].focus();\r\n                    }\r\n                }\r\n                else {\r\n                    if (item.items) {\r\n                        this.expandSubmenu(item, listItem);\r\n                    }\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            //left\r\n            case 37:\r\n                if (this.props.root) {\r\n                    this.navigateToPrevItem(listItem);\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            default:\r\n            break;\r\n        }\r\n\r\n        if (this.props.onKeyDown) {\r\n            this.props.onKeyDown(event, listItem);\r\n        }\r\n    }\r\n\r\n    onChildItemKeyDown(event, childListItem) {\r\n        if (this.props.root) {\r\n            //up\r\n            if (event.which === 38 && childListItem.previousElementSibling == null) {\r\n                this.collapseMenu(childListItem);\r\n            }\r\n        }\r\n        else {\r\n            //left\r\n            if (event.which === 37) {\r\n                this.collapseMenu(childListItem);\r\n            }\r\n        }\r\n    }\r\n\r\n    expandSubmenu(item, listItem) {\r\n        this.setState({\r\n            activeItem: item\r\n        });\r\n\r\n        setTimeout(() => {\r\n            listItem.children[1].children[0].children[0].focus();\r\n        }, 50);\r\n    }\r\n\r\n    collapseMenu(listItem) {\r\n        this.setState({activeItem: null});\r\n        listItem.parentElement.previousElementSibling.focus();\r\n    }\r\n\r\n    navigateToNextItem(listItem) {\r\n        let nextItem = this.findNextItem(listItem);\r\n        if (nextItem) {\r\n            nextItem.children[0].focus();\r\n        }\r\n    }\r\n\r\n    navigateToPrevItem(listItem) {\r\n        let prevItem = this.findPrevItem(listItem);\r\n        if (prevItem) {\r\n            prevItem.children[0].focus();\r\n        }\r\n    }\r\n\r\n    findNextItem(item) {\r\n        let nextItem = item.nextElementSibling;\r\n\r\n        if (nextItem)\r\n            return DomHandler.hasClass(nextItem, 'p-disabled') || !DomHandler.hasClass(nextItem, 'p-menuitem') ? this.findNextItem(nextItem) : nextItem;\r\n        else\r\n            return null;\r\n    }\r\n\r\n    findPrevItem(item) {\r\n        let prevItem = item.previousElementSibling;\r\n\r\n        if (prevItem)\r\n            return DomHandler.hasClass(prevItem, 'p-disabled') || !DomHandler.hasClass(prevItem, 'p-menuitem') ? this.findPrevItem(prevItem) : prevItem;\r\n        else\r\n            return null;\r\n    }\r\n\r\n    onLeafClick() {\r\n        this.setState({\r\n            activeItem: null\r\n        });\r\n\r\n        if (this.props.onLeafClick) {\r\n            this.props.onLeafClick();\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!this.documentClickListener) {\r\n            this.documentClickListener = (event) => {\r\n                if (this.element && !this.element.contains(event.target)) {\r\n                    this.setState({activeItem: null});\r\n                }\r\n            };\r\n\r\n            document.addEventListener('click', this.documentClickListener);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.parentActive && !this.props.parentActive) {\r\n            this.setState({\r\n                activeItem: null\r\n            });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.documentClickListener) {\r\n            document.removeEventListener('click', this.documentClickListener);\r\n            this.documentClickListener = null;\r\n        }\r\n    }\r\n\r\n    renderSeparator(index) {\r\n        return (\r\n            <li key={'separator_' + index} className=\"p-menu-separator\" role=\"separator\"></li>\r\n        );\r\n    }\r\n\r\n    renderSubmenu(item) {\r\n        if (item.items) {\r\n            return (\r\n                <MenubarSub model={item.items} mobileActive={this.props.mobileActive} onLeafClick={this.onLeafClick} onKeyDown={this.onChildItemKeyDown} parentActive={item === this.state.activeItem} />\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderMenuitem(item, index) {\r\n        const className = classNames('p-menuitem', {'p-menuitem-active': this.state.activeItem === item}, item.className);\r\n        const linkClassName = classNames('p-menuitem-link', {'p-disabled': item.disabled});\r\n        const iconClassName = classNames('p-menuitem-icon', item.icon);\r\n        const submenuIconClassName = classNames('p-submenu-icon pi', {'pi-angle-down': this.props.root, 'pi-angle-right': !this.props.root});\r\n        const icon = item.icon && <span className={iconClassName}></span>;\r\n        const label = item.label && <span className=\"p-menuitem-text\">{item.label}</span>;\r\n        const submenuIcon = item.items && <span className={submenuIconClassName}></span>;\r\n        const submenu = this.renderSubmenu(item);\r\n        let content = (\r\n            <a href={item.url || '#'} role=\"menuitem\" className={linkClassName} target={item.target} aria-haspopup={item.items != null}\r\n                onClick={(event) => this.onItemClick(event, item)} onKeyDown={(event) => this.onItemKeyDown(event, item)}>\r\n                {icon}\r\n                {label}\r\n                {submenuIcon}\r\n                <Ripple />\r\n            </a>\r\n        );\r\n\r\n        if (item.template) {\r\n            const defaultContentOptions = {\r\n                onClick: (event) => this.onItemClick(event, item),\r\n                onKeyDown: (event) => this.onItemKeyDown(event, item),\r\n                className: linkClassName,\r\n                labelClassName: 'p-menuitem-text',\r\n                iconClassName,\r\n                submenuIconClassName,\r\n                element: content,\r\n                props: this.props\r\n            };\r\n\r\n            content = ObjectUtils.getJSXElement(item.template, item, defaultContentOptions);\r\n        }\r\n\r\n        return (\r\n            <li key={item.label + '_' + index} role=\"none\" className={className} style={item.style} onMouseEnter={(event) => this.onItemMouseEnter(event, item)}>\r\n                {content}\r\n                {submenu}\r\n            </li>\r\n        );\r\n    }\r\n\r\n    renderItem(item, index) {\r\n        if (item.separator)\r\n            return this.renderSeparator(index);\r\n        else\r\n            return this.renderMenuitem(item, index);\r\n    }\r\n\r\n    renderMenu() {\r\n        if (this.props.model) {\r\n            return (\r\n                this.props.model.map((item, index) => {\r\n                    return this.renderItem(item, index);\r\n                })\r\n            );\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n        const className = classNames({'p-submenu-list': !this.props.root, 'p-menubar-root-list': this.props.root});\r\n        const submenu = this.renderMenu();\r\n\r\n        return (\r\n            <ul ref={(el) => this.getElementRef(el)} className={className} role={this.props.root ? 'menubar' : 'menu'}>\r\n                {submenu}\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n\r\nexport const MenubarSub = React.forwardRef((props, ref) => <MenubarSubComponent forwardRef={ref} {...props}/>);\r\n"]},"metadata":{},"sourceType":"module"}